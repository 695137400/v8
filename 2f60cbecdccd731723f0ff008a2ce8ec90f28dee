{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "90079e9b_8ac7576b",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1115935
      },
      "writtenOn": "2021-03-22T13:38:44Z",
      "side": 1,
      "message": "Cool stuff! LGTM, some minor nits, and also a few optional larger-scale comments.",
      "revId": "2f60cbecdccd731723f0ff008a2ce8ec90f28dee",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "4bdea79a_aeb43857",
        "filename": "tools/bash-completion.sh",
        "patchSetId": 1
      },
      "lineNbr": 125,
      "author": {
        "id": 1115935
      },
      "writtenOn": "2021-03-22T13:38:44Z",
      "side": 1,
      "message": "nit: 80col please",
      "range": {
        "startLine": 125,
        "startChar": 80,
        "endLine": 125,
        "endChar": 89
      },
      "revId": "2f60cbecdccd731723f0ff008a2ce8ec90f28dee",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d59612a6_2b3c2148",
        "filename": "tools/bash-completion.sh",
        "patchSetId": 1
      },
      "lineNbr": 128,
      "author": {
        "id": 1115935
      },
      "writtenOn": "2021-03-22T13:38:44Z",
      "side": 1,
      "message": "Taking a step back: How about adding a `--print-completions` flag to gm.py, which would allow us to move all the logic there, and simplify this script to:\n\n  _gm_flag() {\n    local targets\u003d$(tools/dev/gm.py --print-completions)\n    COMPREPLY\u003d($(compgen -W \"$targets\"))\n    return 0\n  }\n\nJust an idea, up to you. Now that you\u0027ve written all the bash code, I\u0027m also fine with landing that.",
      "range": {
        "startLine": 128,
        "startChar": 0,
        "endLine": 128,
        "endChar": 13
      },
      "revId": "2f60cbecdccd731723f0ff008a2ce8ec90f28dee",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "2e9696a2_c5e80516",
        "filename": "tools/bash-completion.sh",
        "patchSetId": 1
      },
      "lineNbr": 129,
      "author": {
        "id": 1115935
      },
      "writtenOn": "2021-03-22T13:38:44Z",
      "side": 1,
      "message": "nit: missing space",
      "range": {
        "startLine": 129,
        "startChar": 33,
        "endLine": 129,
        "endChar": 34
      },
      "revId": "2f60cbecdccd731723f0ff008a2ce8ec90f28dee",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c6026eec_a1a8c586",
        "filename": "tools/bash-completion.sh",
        "patchSetId": 1
      },
      "lineNbr": 138,
      "author": {
        "id": 1115935
      },
      "writtenOn": "2021-03-22T13:38:44Z",
      "side": 1,
      "message": "Might as well add \"$m\" as well, and \"$t\" and \"$a.$t\" and \"$m.$t\" in the loop below.\n\n(Strictly speaking, gm.py supports any permutation or subset: release.x64 or d8.optdebug etc., but we certainly don\u0027t have to support the less frequently used varieties in bash completion.)",
      "range": {
        "startLine": 138,
        "startChar": 6,
        "endLine": 138,
        "endChar": 18
      },
      "revId": "2f60cbecdccd731723f0ff008a2ce8ec90f28dee",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "e9e96498_69aea9db",
        "filename": "tools/bash-completion.sh",
        "patchSetId": 1
      },
      "lineNbr": 146,
      "author": {
        "id": 1115935
      },
      "writtenOn": "2021-03-22T13:38:44Z",
      "side": 1,
      "message": "Curiosity question: is there a particular reason to use `-print0` here? In local testing, it seems you\u0027d get the same result by just dropping it, and correspondingly dropping `-0` below, leaving just:\n\n  find \"$v8_source/test/cctest\" -type f -name \u0027test-*\u0027 | \\\n  xargs basename -a -s \".cc\" | \\ ...\n\nI\u0027m fine with it either way.",
      "range": {
        "startLine": 146,
        "startChar": 56,
        "endLine": 146,
        "endChar": 63
      },
      "revId": "2f60cbecdccd731723f0ff008a2ce8ec90f28dee",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "6c69dcb2_14a36d60",
        "filename": "tools/bash-completion.sh",
        "patchSetId": 1
      },
      "lineNbr": 148,
      "author": {
        "id": 1115935
      },
      "writtenOn": "2021-03-22T13:38:44Z",
      "side": 1,
      "message": "I guess for cctests it would be kinda nice to run the binary with `--list` and get the complete list of actual tests. However, that would depend on having a cctest binary already, whereas `gm cctest/foo/bar` can be used to compile and run... So parsing the source is more robust, and at the very least a good first step.",
      "range": {
        "startLine": 148,
        "startChar": 46,
        "endLine": 148,
        "endChar": 47
      },
      "revId": "2f60cbecdccd731723f0ff008a2ce8ec90f28dee",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "cd4bf1d4_20856bfe",
        "filename": "tools/bash-completion.sh",
        "patchSetId": 1
      },
      "lineNbr": 154,
      "author": {
        "id": 1115935
      },
      "writtenOn": "2021-03-22T13:38:44Z",
      "side": 1,
      "message": "I think this part doesn\u0027t make sense for gm.py: it maintains the default completions (i.e. file names in the current directory) and adds our custom flags to them. So probably better to drop this? I don\u0027t think there\u0027s ever a reason to invoke `gm src/foo/bar.cc`.",
      "range": {
        "startLine": 154,
        "startChar": 37,
        "endLine": 154,
        "endChar": 67
      },
      "revId": "2f60cbecdccd731723f0ff008a2ce8ec90f28dee",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}