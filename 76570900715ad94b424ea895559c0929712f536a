{
  "comments": [
    {
      "key": {
        "uuid": "1252fd1d_551cb149",
        "filename": "src/wasm/module-instantiate.cc",
        "patchSetId": 3
      },
      "lineNbr": 1489,
      "author": {
        "id": 1141154
      },
      "writtenOn": "2019-03-04T18:05:04Z",
      "side": 1,
      "message": "Can you explain this code to me?\nI would assume that {LoadElemSegmentImpl} is only called during instantiation, and during instantiation only active segments get processed. However, you added a DCHECK that active segments cannot contain the null-function. If my understanding of the code is currect, then the change here is a no-op because the condition is always false.\n\nIf my understanding of passive segments is wrong and they also get called during instantiation, then never mind.\n\nIf this code is also called for passive segments during runtime, then please move this function to wasm-objects.cc. It does not belong here. The code here is just for instantiation.",
      "revId": "76570900715ad94b424ea895559c0929712f536a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6e7a6b11_366e9ca9",
        "filename": "src/wasm/module-instantiate.cc",
        "patchSetId": 3
      },
      "lineNbr": 1489,
      "author": {
        "id": 1002783
      },
      "writtenOn": "2019-03-04T18:27:15Z",
      "side": 1,
      "message": "A passive segment is not initialized during instantiation, so you\u0027re right that it\u0027s a bit weird that the code is here. But if you use the `table.init` instruction, it calls into the WasmInstanceObject::InitTableEntries function, which calls wasm::LoadElemSegment, which calls here.\n\nIt makes sense to share the code, since the same logic is used to copy segments at instantiation as init the `memory.init` and `table.init` instructions.",
      "parentUuid": "1252fd1d_551cb149",
      "revId": "76570900715ad94b424ea895559c0929712f536a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9a33507d_f0b971a9",
        "filename": "src/wasm/module-instantiate.cc",
        "patchSetId": 3
      },
      "lineNbr": 1489,
      "author": {
        "id": 1141154
      },
      "writtenOn": "2019-03-04T18:36:55Z",
      "side": 1,
      "message": "I just realized that the code here was used for passive segments already before this CL. Please add a TODO here that this function moves to wasm-objects.cc eventually.",
      "parentUuid": "6e7a6b11_366e9ca9",
      "revId": "76570900715ad94b424ea895559c0929712f536a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b9938dea_45615636",
        "filename": "src/wasm/module-instantiate.cc",
        "patchSetId": 3
      },
      "lineNbr": 1489,
      "author": {
        "id": 1002783
      },
      "writtenOn": "2019-03-04T18:53:44Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "9a33507d_f0b971a9",
      "revId": "76570900715ad94b424ea895559c0929712f536a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}