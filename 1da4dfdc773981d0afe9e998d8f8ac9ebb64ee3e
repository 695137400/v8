{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "4bf257ef_290663b7",
        "filename": "src/wasm/wasm-serialization.cc",
        "patchSetId": 2
      },
      "lineNbr": 866,
      "author": {
        "id": 1141154
      },
      "writtenOn": "2021-06-14T15:06:27Z",
      "side": 1,
      "message": "Can you take a careful look at the calls to {UpdateNativeModuleCache} and {InitializeAfterDeserialization} here? I guess it is okay to avoid calling {InitializeAfterDeserialization} if there is an error, is it not? If deserialization fails here, does it even make sense to create a compilation state here?\n\nThe other question is, should {UpdateNativeModuleCache} even be called if the {missing_functions} vector is not empty? I guess if compilation continues later, {UpdateNativeModuleCache} would be called anyways by the normal compilation pipeline.",
      "revId": "1da4dfdc773981d0afe9e998d8f8ac9ebb64ee3e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "71d40301_ffc6515a",
        "filename": "src/wasm/wasm-serialization.cc",
        "patchSetId": 2
      },
      "lineNbr": 866,
      "author": {
        "id": 1177599
      },
      "writtenOn": "2021-06-18T10:36:37Z",
      "side": 1,
      "message": "Adding Thibaud, who is the expert on this.",
      "parentUuid": "4bf257ef_290663b7",
      "revId": "1da4dfdc773981d0afe9e998d8f8ac9ebb64ee3e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ca6fb032_2e7c792e",
        "filename": "src/wasm/wasm-serialization.cc",
        "patchSetId": 2
      },
      "lineNbr": 866,
      "author": {
        "id": 1345975
      },
      "writtenOn": "2021-06-21T13:42:08Z",
      "side": 1,
      "message": "Point 1 looks correct to me, if there is an error we discard the module, I don\u0027t see why we would need the compilation state.\n\nI don\u0027t think point 2 is true. The normal compilation pipeline would send the {kFinishedBaselineCompilation} event, but then it depends on what callbacks are installed. For deserialization I think the only callback we install is the one in {WaitForCompilationEvent} to unblock the main thread, but then it\u0027s up to the caller to handle that event.",
      "parentUuid": "71d40301_ffc6515a",
      "revId": "1da4dfdc773981d0afe9e998d8f8ac9ebb64ee3e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "92516884_b2a01bbd",
        "filename": "src/wasm/wasm-serialization.cc",
        "patchSetId": 2
      },
      "lineNbr": 866,
      "author": {
        "id": 1141154
      },
      "writtenOn": "2021-07-27T12:51:10Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "ca6fb032_2e7c792e",
      "revId": "1da4dfdc773981d0afe9e998d8f8ac9ebb64ee3e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}