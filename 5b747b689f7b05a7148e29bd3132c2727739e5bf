{
  "comments": [
    {
      "key": {
        "uuid": "d575015f_bf34610a",
        "filename": "src/interpreter/bytecode-generator.cc",
        "patchSetId": 4
      },
      "lineNbr": 1853,
      "author": {
        "id": 1002763
      },
      "writtenOn": "2017-07-14T11:08:36Z",
      "side": 1,
      "message": "I feel as if we could build a Conditional control flow builder which could be used to share the code for VisitConditional and VisitIfStatement. Maybe something like:\n\n... {\n  ConditionalBuilder condition_builder(builder(), block_coverage_builder_, expr, expr()-\u003econdition());\n  if (condition_builder.VisitCondition()) {\n    VisitForTest(condition_builder-\u003econdition(), condition_builder-\u003ethen_labels(), condition_builder-\u003eelse_labels(),  TestFallthrough::kThen);\n  }\n  if (condition_builder.VisitThen()) {\n    VisitForAccumulatorValue(expr-\u003ethen_expression());\n  }\n  if (condition_builder.VisitElse()) {\n    VisitForAccumulatorValue(expr-\u003eelse_expression());\n  }\n}\n\nWith the ConditionalBuilder binding labels appropriately and allocating / incrementing the block coverage slots. WDYT? I\u0027d be fine with this being done as a followup.",
      "revId": "5b747b689f7b05a7148e29bd3132c2727739e5bf",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "afbc50a3_df8d4c3c",
        "filename": "test/mjsunit/code-coverage-block.js",
        "patchSetId": 4
      },
      "lineNbr": 528,
      "author": {
        "id": 1119597
      },
      "writtenOn": "2017-07-14T10:27:34Z",
      "side": 1,
      "message": "It\u0027s a bit hard to read now. Could you just use variables True and False instead of cond()?",
      "range": {
        "startLine": 528,
        "startChar": 2,
        "endLine": 528,
        "endChar": 0
      },
      "revId": "5b747b689f7b05a7148e29bd3132c2727739e5bf",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b61a01d7_10fcef4d",
        "filename": "test/mjsunit/code-coverage-block.js",
        "patchSetId": 4
      },
      "lineNbr": 528,
      "author": {
        "id": 1162439
      },
      "writtenOn": "2017-07-14T10:35:59Z",
      "side": 1,
      "message": "That takes different code-paths since the bytecode generator will not generate code for known dead branch (e.g. no then-branch if cond is constant false). I guess this is not the main point of these tests though so I\u0027m fine with changing it.",
      "parentUuid": "afbc50a3_df8d4c3c",
      "range": {
        "startLine": 528,
        "startChar": 2,
        "endLine": 528,
        "endChar": 0
      },
      "revId": "5b747b689f7b05a7148e29bd3132c2727739e5bf",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "cb6e78f5_0923a87a",
        "filename": "test/mjsunit/code-coverage-block.js",
        "patchSetId": 4
      },
      "lineNbr": 528,
      "author": {
        "id": 1119597
      },
      "writtenOn": "2017-07-14T10:55:32Z",
      "side": 1,
      "message": "As discussed offline, it only checks for literals, so we will still test the main path.",
      "parentUuid": "b61a01d7_10fcef4d",
      "range": {
        "startLine": 528,
        "startChar": 2,
        "endLine": 528,
        "endChar": 0
      },
      "revId": "5b747b689f7b05a7148e29bd3132c2727739e5bf",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "cdf52605_dc07a152",
        "filename": "test/mjsunit/code-coverage-block.js",
        "patchSetId": 4
      },
      "lineNbr": 528,
      "author": {
        "id": 1002763
      },
      "writtenOn": "2017-07-14T11:08:36Z",
      "side": 1,
      "message": "I think it would be good to test the non-boolean literal paths. To make it easier to read you could instead do something like:\n\nvar t \u003d true;\nvar f \u003d false;\n\nt ? nop() : nop();\n...",
      "parentUuid": "b61a01d7_10fcef4d",
      "range": {
        "startLine": 528,
        "startChar": 2,
        "endLine": 528,
        "endChar": 0
      },
      "revId": "5b747b689f7b05a7148e29bd3132c2727739e5bf",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}