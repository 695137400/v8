{
  "comments": [
    {
      "key": {
        "uuid": "8de2e7bf_9f522f1a",
        "filename": "src/asmjs/asm-parser.cc",
        "patchSetId": 14
      },
      "lineNbr": 15,
      "author": {
        "id": 1125279
      },
      "writtenOn": "2017-09-12T16:08:51Z",
      "side": 1,
      "message": "redundant change?",
      "revId": "d48b08caaa12e43b6e533fe9e887f1e75f540024",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "380033a5_0b55857d",
        "filename": "src/asmjs/asm-parser.cc",
        "patchSetId": 14
      },
      "lineNbr": 15,
      "author": {
        "id": 1141154
      },
      "writtenOn": "2017-09-14T13:35:29Z",
      "side": 1,
      "message": "I don\u0027t know which header file I changed, but the code does not compile anymore without this include.",
      "parentUuid": "8de2e7bf_9f522f1a",
      "revId": "d48b08caaa12e43b6e533fe9e887f1e75f540024",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "81829dee_de44cce7",
        "filename": "src/asmjs/asm-parser.cc",
        "patchSetId": 14
      },
      "lineNbr": 15,
      "author": {
        "id": 1125279
      },
      "writtenOn": "2017-09-14T15:25:24Z",
      "side": 1,
      "message": "Huh. Hmm... don\u0027t mean to add more work, but it would be good to understand what happened here, especially because the included file is surprising. Have we moved some flags as part of this change? (doesn\u0027t appear so); or is the include structure whacky now? Or has one of the other includes lost the flags.h maybe?",
      "parentUuid": "380033a5_0b55857d",
      "revId": "d48b08caaa12e43b6e533fe9e887f1e75f540024",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ff54bfa7_e51c5784",
        "filename": "src/flag-definitions.h",
        "patchSetId": 14
      },
      "lineNbr": 483,
      "author": {
        "id": 1125279
      },
      "writtenOn": "2017-09-12T16:08:51Z",
      "side": 1,
      "message": "Do we really need this flag - it looks like we\u0027re just using it in mjsunit tests. Wouldn\u0027t just passing --wasm-stream-compilation there be sufficient?",
      "revId": "d48b08caaa12e43b6e533fe9e887f1e75f540024",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d4be4612_03d1a4e6",
        "filename": "src/flag-definitions.h",
        "patchSetId": 14
      },
      "lineNbr": 483,
      "author": {
        "id": 1141154
      },
      "writtenOn": "2017-09-14T13:35:29Z",
      "side": 1,
      "message": "With this flag async compilation goes through the streaming compilation pipeline. Thereby we can compile wasm code in mjsunit tests and then run the generated code, even without implementing streaming compilation in d8. However, in general we want to have a seperate async compilation pipeline for now.",
      "parentUuid": "ff54bfa7_e51c5784",
      "revId": "d48b08caaa12e43b6e533fe9e887f1e75f540024",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8369ce40_5ce9fa17",
        "filename": "src/flag-definitions.h",
        "patchSetId": 14
      },
      "lineNbr": 483,
      "author": {
        "id": 1125279
      },
      "writtenOn": "2017-09-14T15:25:24Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "d4be4612_03d1a4e6",
      "revId": "d48b08caaa12e43b6e533fe9e887f1e75f540024",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d8a3ff27_170c31e8",
        "filename": "src/wasm/compilation-manager.cc",
        "patchSetId": 14
      },
      "lineNbr": 35,
      "author": {
        "id": 1125279
      },
      "writtenOn": "2017-09-12T16:08:51Z",
      "side": 1,
      "message": "rename \"CreateStream\" to \"CreateStreamingDecoder\", it\u0027s not a \"stream\" that\u0027s being created.",
      "revId": "d48b08caaa12e43b6e533fe9e887f1e75f540024",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b4b75de2_d71414dd",
        "filename": "src/wasm/compilation-manager.cc",
        "patchSetId": 14
      },
      "lineNbr": 35,
      "author": {
        "id": 1141154
      },
      "writtenOn": "2017-09-14T13:35:29Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "d8a3ff27_170c31e8",
      "revId": "d48b08caaa12e43b6e533fe9e887f1e75f540024",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4f92e3e7_d771c3d0",
        "filename": "src/wasm/module-compiler.h",
        "patchSetId": 14
      },
      "lineNbr": 322,
      "author": {
        "id": 1125279
      },
      "writtenOn": "2017-09-12T16:08:51Z",
      "side": 1,
      "message": "CreateStreamingDecoder, or something like that - you\u0027re not creating a Stream.",
      "revId": "d48b08caaa12e43b6e533fe9e887f1e75f540024",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "045390cb_c1d3cdf4",
        "filename": "src/wasm/module-compiler.h",
        "patchSetId": 14
      },
      "lineNbr": 322,
      "author": {
        "id": 1141154
      },
      "writtenOn": "2017-09-14T13:35:29Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "4f92e3e7_d771c3d0",
      "revId": "d48b08caaa12e43b6e533fe9e887f1e75f540024",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5b4cf875_5c54a46c",
        "filename": "src/wasm/module-compiler.h",
        "patchSetId": 14
      },
      "lineNbr": 399,
      "author": {
        "id": 1125279
      },
      "writtenOn": "2017-09-12T16:08:51Z",
      "side": 1,
      "message": "remove \"normal\", it complicates the message (because then I wonder \"what\u0027s non-normal async compilation\"? but all you mean to say is that for async we do this, for streaming we do that.)",
      "revId": "d48b08caaa12e43b6e533fe9e887f1e75f540024",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "db64caf3_56c16e71",
        "filename": "src/wasm/module-compiler.h",
        "patchSetId": 14
      },
      "lineNbr": 399,
      "author": {
        "id": 1141154
      },
      "writtenOn": "2017-09-14T13:35:29Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "5b4cf875_5c54a46c",
      "revId": "d48b08caaa12e43b6e533fe9e887f1e75f540024",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7a26dcbb_bf4d9fc2",
        "filename": "src/wasm/module-compiler.h",
        "patchSetId": 14
      },
      "lineNbr": 421,
      "author": {
        "id": 1125279
      },
      "writtenOn": "2017-09-12T16:08:51Z",
      "side": 1,
      "message": "is AsyncStreamingProcessor final?\n\nalso, is there any other derivation of StreamingProcessor?",
      "revId": "d48b08caaa12e43b6e533fe9e887f1e75f540024",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "2d4f735c_fa30e107",
        "filename": "src/wasm/module-compiler.h",
        "patchSetId": 14
      },
      "lineNbr": 421,
      "author": {
        "id": 1141154
      },
      "writtenOn": "2017-09-14T13:35:29Z",
      "side": 1,
      "message": "Is there any value in marking it as final?\nThere is another StreamingProcessor in the unittests.",
      "parentUuid": "7a26dcbb_bf4d9fc2",
      "revId": "d48b08caaa12e43b6e533fe9e887f1e75f540024",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0c9f2fcc_2446f659",
        "filename": "src/wasm/module-compiler.h",
        "patchSetId": 14
      },
      "lineNbr": 421,
      "author": {
        "id": 1125279
      },
      "writtenOn": "2017-09-14T15:25:24Z",
      "side": 1,
      "message": "Marking AsyncStreamingProcessor final helps the reader - all calls made from AsyncStreamingProcessor to its virtuals land in AsyncStreamingProcessor or base - but not in a derived type. It\u0027s just design documentation. It\u0027s also fine if StreamingProcessor has another subclass, that\u0027s not affected.\n\nAnyway, just a nit.",
      "parentUuid": "2d4f735c_fa30e107",
      "revId": "d48b08caaa12e43b6e533fe9e887f1e75f540024",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c8086bd9_b39f5fb7",
        "filename": "src/wasm/module-compiler.h",
        "patchSetId": 14
      },
      "lineNbr": 438,
      "author": {
        "id": 1125279
      },
      "writtenOn": "2017-09-12T16:08:51Z",
      "side": 1,
      "message": "these are OnError, OnAbort... the caller signals those events to the processor, right?",
      "revId": "d48b08caaa12e43b6e533fe9e887f1e75f540024",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f1412995_2f308282",
        "filename": "src/wasm/module-compiler.h",
        "patchSetId": 14
      },
      "lineNbr": 438,
      "author": {
        "id": 1141154
      },
      "writtenOn": "2017-09-14T13:35:29Z",
      "side": 1,
      "message": "Are you referring to some naming scheme? These functions are called when the streaming decoder detects an error, or when the embedder aborts a stream.",
      "parentUuid": "c8086bd9_b39f5fb7",
      "revId": "d48b08caaa12e43b6e533fe9e887f1e75f540024",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3a84b171_3bc1c8ae",
        "filename": "src/wasm/module-compiler.h",
        "patchSetId": 14
      },
      "lineNbr": 438,
      "author": {
        "id": 1125279
      },
      "writtenOn": "2017-09-14T15:25:24Z",
      "side": 1,
      "message": "I\u0027m referring to the naming scheme. I think prefixing with \"On\" better indicates to the reader that these are callbacks for events occurring outside this object, to which the object is told to react.",
      "parentUuid": "f1412995_2f308282",
      "revId": "d48b08caaa12e43b6e533fe9e887f1e75f540024",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "eb364725_a80ffb9a",
        "filename": "src/wasm/module-decoder.h",
        "patchSetId": 14
      },
      "lineNbr": 165,
      "author": {
        "id": 1125279
      },
      "writtenOn": "2017-09-12T16:08:51Z",
      "side": 1,
      "message": "is this a const member, non-const return?",
      "revId": "d48b08caaa12e43b6e533fe9e887f1e75f540024",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e033c5ec_8c32e15a",
        "filename": "src/wasm/module-decoder.h",
        "patchSetId": 14
      },
      "lineNbr": 165,
      "author": {
        "id": 1141154
      },
      "writtenOn": "2017-09-14T13:35:29Z",
      "side": 1,
      "message": "indeed. I changed it to \nWasmModule* module() const;",
      "parentUuid": "eb364725_a80ffb9a",
      "revId": "d48b08caaa12e43b6e533fe9e887f1e75f540024",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ae67c130_0a65c727",
        "filename": "src/wasm/module-decoder.h",
        "patchSetId": 14
      },
      "lineNbr": 170,
      "author": {
        "id": 1125279
      },
      "writtenOn": "2017-09-12T16:08:51Z",
      "side": 1,
      "message": "you can type impl_ as unique_ptr, and then avoid having a dtor.",
      "revId": "d48b08caaa12e43b6e533fe9e887f1e75f540024",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4b2fd864_cc2228b3",
        "filename": "src/wasm/module-decoder.h",
        "patchSetId": 14
      },
      "lineNbr": 170,
      "author": {
        "id": 1141154
      },
      "writtenOn": "2017-09-14T13:35:29Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "ae67c130_0a65c727",
      "revId": "d48b08caaa12e43b6e533fe9e887f1e75f540024",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f62ea8cd_b6ddc5ea",
        "filename": "src/wasm/streaming-decoder.h",
        "patchSetId": 14
      },
      "lineNbr": 64,
      "author": {
        "id": 1125279
      },
      "writtenOn": "2017-09-12T16:08:51Z",
      "side": 1,
      "message": "As it reads now, the comment says that calling Finish on a StreamingDecoder does something to the stream. That\u0027s not the case, correct? Rather, it is a signal from the caller that the stream has ended and no more bytes may be expected.\n\nYou could call it \"OnFinish\", \"OnAbort\", \"OnError\" etc, to clarify these are signaling APIs.",
      "revId": "d48b08caaa12e43b6e533fe9e887f1e75f540024",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5c456da7_0de893b3",
        "filename": "src/wasm/streaming-decoder.h",
        "patchSetId": 14
      },
      "lineNbr": 64,
      "author": {
        "id": 1141154
      },
      "writtenOn": "2017-09-14T13:35:29Z",
      "side": 1,
      "message": "These are the same names that we use in the API, and I think they should be the same here, also because they have the same purpose. I can remove the comment though if you think it is misleading. It is quite obvious anyways what you expect from this function.",
      "parentUuid": "f62ea8cd_b6ddc5ea",
      "revId": "d48b08caaa12e43b6e533fe9e887f1e75f540024",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "42b0f18a_fb8e6eec",
        "filename": "src/wasm/streaming-decoder.h",
        "patchSetId": 14
      },
      "lineNbr": 64,
      "author": {
        "id": 1125279
      },
      "writtenOn": "2017-09-14T15:25:24Z",
      "side": 1,
      "message": "Well, we have OnBytesReceived just above, so all together, the API would read more consistently with the \"On\" prefix. Granted, it\u0027s not very hard to dig in and see what happens, but the point of readability is to remove cognitive burdens from the reader. Even if they are small, they can accumulate in \"death by 1000 paper cuts\" :)",
      "parentUuid": "5c456da7_0de893b3",
      "revId": "d48b08caaa12e43b6e533fe9e887f1e75f540024",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f6c06ef2_cf2b01fb",
        "filename": "src/wasm/wasm-module.cc",
        "patchSetId": 14
      },
      "lineNbr": 900,
      "author": {
        "id": 1125279
      },
      "writtenOn": "2017-09-12T16:08:51Z",
      "side": 1,
      "message": "this isn\u0027t a stream, it\u0027s a streaming_decoder",
      "revId": "d48b08caaa12e43b6e533fe9e887f1e75f540024",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c08c550d_1ef90ca7",
        "filename": "src/wasm/wasm-module.cc",
        "patchSetId": 14
      },
      "lineNbr": 900,
      "author": {
        "id": 1141154
      },
      "writtenOn": "2017-09-14T13:35:29Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "f6c06ef2_cf2b01fb",
      "revId": "d48b08caaa12e43b6e533fe9e887f1e75f540024",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}