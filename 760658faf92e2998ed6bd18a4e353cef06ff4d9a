{
  "comments": [
    {
      "key": {
        "uuid": "e85104c9_49bf56e7",
        "filename": "src/builtins/base.tq",
        "patchSetId": 2
      },
      "lineNbr": 2274,
      "author": {
        "id": 1162439
      },
      "writtenOn": "2019-04-11T08:22:54Z",
      "side": 1,
      "message": "Re runtime/builtin/macro naming collisions: I recently used an \u0027RT\u0027 suffix to disambiguate RegExpReplace (builtin) and RegExpReplaceRT (runtime). Not ideal but I like the \u0027slow\u0027 namespace even less ;) If you do go with a namespace, I\u0027d suggest \u0027runtime\u0027.",
      "revId": "760658faf92e2998ed6bd18a4e353cef06ff4d9a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "eb6f2115_dcfb41cc",
        "filename": "src/builtins/base.tq",
        "patchSetId": 2
      },
      "lineNbr": 2274,
      "author": {
        "id": 1236458
      },
      "writtenOn": "2019-04-11T09:10:18Z",
      "side": 1,
      "message": "But namespace \u0027runtime\u0027 will conflict with the Torque keyword runtime, I think, right?",
      "parentUuid": "e85104c9_49bf56e7",
      "revId": "760658faf92e2998ed6bd18a4e353cef06ff4d9a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "73f6e547_1ba96728",
        "filename": "src/builtins/base.tq",
        "patchSetId": 2
      },
      "lineNbr": 2274,
      "author": {
        "id": 1162439
      },
      "writtenOn": "2019-04-11T09:30:34Z",
      "side": 1,
      "message": "Possibly, I\u0027m not sure. Let\u0027s try to stay consistent with these workarounds, so please either use an RT suffix or update RegExpReplaceRT if you choose something different.",
      "parentUuid": "eb6f2115_dcfb41cc",
      "revId": "760658faf92e2998ed6bd18a4e353cef06ff4d9a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6b041764_207a81a8",
        "filename": "src/builtins/base.tq",
        "patchSetId": 2
      },
      "lineNbr": 2274,
      "author": {
        "id": 1236458
      },
      "writtenOn": "2019-04-12T07:13:08Z",
      "side": 1,
      "message": "I add an RT suffix to runtime ToString and update all its references.",
      "parentUuid": "73f6e547_1ba96728",
      "revId": "760658faf92e2998ed6bd18a4e353cef06ff4d9a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "8c73dac6_23798429",
        "filename": "src/builtins/base.tq",
        "patchSetId": 2
      },
      "lineNbr": 2277,
      "author": {
        "id": 1115890
      },
      "writtenOn": "2019-04-09T12:51:13Z",
      "side": 1,
      "message": "I think this should probably go into a different file, e.g. string.tq",
      "range": {
        "startLine": 2277,
        "startChar": 6,
        "endLine": 2277,
        "endChar": 28
      },
      "revId": "760658faf92e2998ed6bd18a4e353cef06ff4d9a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f1746fe6_a2b719e4",
        "filename": "src/builtins/base.tq",
        "patchSetId": 2
      },
      "lineNbr": 2277,
      "author": {
        "id": 1236458
      },
      "writtenOn": "2019-04-11T06:00:18Z",
      "side": 1,
      "message": "There is no existing string.tq file, shall I create one?",
      "parentUuid": "8c73dac6_23798429",
      "range": {
        "startLine": 2277,
        "startChar": 6,
        "endLine": 2277,
        "endChar": 28
      },
      "revId": "760658faf92e2998ed6bd18a4e353cef06ff4d9a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4211334e_746b9292",
        "filename": "src/builtins/base.tq",
        "patchSetId": 2
      },
      "lineNbr": 2277,
      "author": {
        "id": 1115890
      },
      "writtenOn": "2019-04-11T07:18:47Z",
      "side": 1,
      "message": "Yes, I think this would be a good time to do so.",
      "parentUuid": "f1746fe6_a2b719e4",
      "range": {
        "startLine": 2277,
        "startChar": 6,
        "endLine": 2277,
        "endChar": 28
      },
      "revId": "760658faf92e2998ed6bd18a4e353cef06ff4d9a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4884ed8c_8f9f49a3",
        "filename": "src/builtins/base.tq",
        "patchSetId": 2
      },
      "lineNbr": 2277,
      "author": {
        "id": 1236458
      },
      "writtenOn": "2019-04-11T08:22:36Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "4211334e_746b9292",
      "range": {
        "startLine": 2277,
        "startChar": 6,
        "endLine": 2277,
        "endChar": 28
      },
      "revId": "760658faf92e2998ed6bd18a4e353cef06ff4d9a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d4dc28ac_58d74355",
        "filename": "src/builtins/base.tq",
        "patchSetId": 2
      },
      "lineNbr": 2279,
      "author": {
        "id": 1162439
      },
      "writtenOn": "2019-04-11T08:22:54Z",
      "side": 1,
      "message": "I also don\u0027t like the \u0027Torque\u0027 suffix. Could this be just \u0027ToString\u0027?",
      "revId": "760658faf92e2998ed6bd18a4e353cef06ff4d9a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "14aea748_f20a4391",
        "filename": "src/builtins/base.tq",
        "patchSetId": 2
      },
      "lineNbr": 2279,
      "author": {
        "id": 1236458
      },
      "writtenOn": "2019-04-11T09:10:18Z",
      "side": 1,
      "message": "Naming \"macro ToString()\" here would cause conflict with \"extern builtin ToString()\".",
      "parentUuid": "d4dc28ac_58d74355",
      "revId": "760658faf92e2998ed6bd18a4e353cef06ff4d9a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "18603181_9c8cfea7",
        "filename": "src/builtins/base.tq",
        "patchSetId": 2
      },
      "lineNbr": 2279,
      "author": {
        "id": 1162439
      },
      "writtenOn": "2019-04-11T09:30:34Z",
      "side": 1,
      "message": "I see. AFAICT there\u0027s only one use of that (in array-join.tq), maybe we can replace it with ToString_Inline.",
      "parentUuid": "14aea748_f20a4391",
      "revId": "760658faf92e2998ed6bd18a4e353cef06ff4d9a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "01f7f561_82b6a4a9",
        "filename": "src/builtins/base.tq",
        "patchSetId": 2
      },
      "lineNbr": 2279,
      "author": {
        "id": 1236458
      },
      "writtenOn": "2019-04-12T07:13:08Z",
      "side": 1,
      "message": "We can use ToString_Inline in array-join.tq. However, this will cause performance regression for  Array.prototype.toString/join when the array elements are objects (~8% regression according to my micro-bench). Is this acceptable?",
      "parentUuid": "18603181_9c8cfea7",
      "revId": "760658faf92e2998ed6bd18a4e353cef06ff4d9a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "e4a71e4f_19711748",
        "filename": "src/builtins/base.tq",
        "patchSetId": 2
      },
      "lineNbr": 2279,
      "author": {
        "id": 1162439
      },
      "writtenOn": "2019-04-15T13:11:44Z",
      "side": 1,
      "message": "Probably although we should prefer resolving the naming conflict another way. A few suggestions:\n\n - Inline into the ToString builtin above and use that at all call sites.\n - ToString_Macro (since it\u0027s a torque macro disambiguation).\n - string::ToString\n - internal::ToString\n - macros::ToString\n - ToString_Full\n \nNone of the above are ideal, but I like ToStringTorque even less ;) Wdyt?",
      "parentUuid": "01f7f561_82b6a4a9",
      "revId": "760658faf92e2998ed6bd18a4e353cef06ff4d9a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "aa37f1bb_05c0affd",
        "filename": "src/builtins/base.tq",
        "patchSetId": 2
      },
      "lineNbr": 2279,
      "author": {
        "id": 1180419
      },
      "writtenOn": "2019-04-15T14:46:05Z",
      "side": 1,
      "message": "To add one more to the list of suggestions: How about ToStringImplementation? I think this suggests better that you essentially never want to call this directly.",
      "parentUuid": "e4a71e4f_19711748",
      "revId": "760658faf92e2998ed6bd18a4e353cef06ff4d9a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "83f51d90_8473a4a2",
        "filename": "src/builtins/base.tq",
        "patchSetId": 2
      },
      "lineNbr": 2279,
      "author": {
        "id": 1236458
      },
      "writtenOn": "2019-04-16T01:53:35Z",
      "side": 1,
      "message": "Thanks for your suggestions! I would like to go with ToStringImpl due to the following concerns.\n\n - Inline into the ToString builtin and update the call sites\n\nThis may introduce function call overhead to call sites that call macro ToString (Only StringAdd_ConvertLeft/Right though). \n\n - namespace::ToString\n\nAdding namespace works fine for reference inside Torque, but I don\u0027t know how to use it or \nwhether it is allowed to be used for call sites outside Torque like for StringAdd_ConvertLeft/Right in builtins-string-gen.cc\n\nTherefore, I choose to use ToStringImpl to be consistent with the usage of ArrayJoinImpl for ArrayJoin. WDYT?",
      "parentUuid": "aa37f1bb_05c0affd",
      "revId": "760658faf92e2998ed6bd18a4e353cef06ff4d9a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "24476579_0c4e0366",
        "filename": "src/builtins/base.tq",
        "patchSetId": 2
      },
      "lineNbr": 2279,
      "author": {
        "id": 1162439
      },
      "writtenOn": "2019-04-16T06:49:45Z",
      "side": 1,
      "message": "ToStringImpl SGTM, thanks.",
      "parentUuid": "83f51d90_8473a4a2",
      "revId": "760658faf92e2998ed6bd18a4e353cef06ff4d9a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f858c075_0efdd00e",
        "filename": "src/builtins/builtins-conversion-gen.cc",
        "patchSetId": 2
      },
      "lineNbr": 2274,
      "author": {
        "id": 1162439
      },
      "writtenOn": "2019-04-11T08:22:54Z",
      "side": 1,
      "message": "Why this duplicate declaration?",
      "revId": "760658faf92e2998ed6bd18a4e353cef06ff4d9a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}