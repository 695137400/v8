{
  "comments": [
    {
      "key": {
        "uuid": "170fcb73_d3fa4d7b",
        "filename": "src/builtins/ia32/builtins-ia32.cc",
        "patchSetId": 6
      },
      "lineNbr": 790,
      "author": {
        "id": 1162439
      },
      "writtenOn": "2018-08-28T07:34:49Z",
      "side": 1,
      "message": "It seems a bit scary to disconnect the push from pop sites (here, in MaybeTailCallOptimizedCodeSlot, in TailCallRuntimeIfMarkerEquals) without extensive comments.\n\nI\u0027d suggest adding Push/PopRootRegister() helpers to make it easy to find all uses, and add state comments all affected functions that mention ebx pushed onto the stack.\n\nNote also that while kRootRegister is clobbered any root-relative loads are illegal. This could lead to really tricky bugs.. It\u0027s not ideal but could you add NoRootArrayScopes where required? In this particular case it would be from here to line 800.",
      "revId": "13dc7f0e2740410ef9c6d8ed0be1cee2e8e01794",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "2e940f86_27c3416d",
        "filename": "src/builtins/ia32/builtins-ia32.cc",
        "patchSetId": 6
      },
      "lineNbr": 790,
      "author": {
        "id": 1119600
      },
      "writtenOn": "2018-08-28T08:02:33Z",
      "side": 1,
      "message": "I agree. There is the possibility to not remember feedback_vector across MaybeTailCallOptimizedCodeSlot, and reload it immediately afterwards. This would (together with a small modification of MaybeTailCallOptimizedCodeSlot) get rid of the push/pop because it frees ebx.",
      "parentUuid": "170fcb73_d3fa4d7b",
      "revId": "13dc7f0e2740410ef9c6d8ed0be1cee2e8e01794",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "2435e003_7d1d369a",
        "filename": "src/builtins/ia32/builtins-ia32.cc",
        "patchSetId": 6
      },
      "lineNbr": 790,
      "author": {
        "id": 1162439
      },
      "writtenOn": "2018-08-28T12:34:48Z",
      "side": 1,
      "message": "Sound like a good idea. I think readability is more important here than performance. The only possible concern is that we lose consistency across architectures (here we don\u0027t preserve feedback_vector, on others we do).",
      "parentUuid": "2e940f86_27c3416d",
      "revId": "13dc7f0e2740410ef9c6d8ed0be1cee2e8e01794",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "db5b04c4_870f7b25",
        "filename": "src/builtins/ia32/builtins-ia32.cc",
        "patchSetId": 6
      },
      "lineNbr": 790,
      "author": {
        "id": 1002763
      },
      "writtenOn": "2018-08-28T12:56:13Z",
      "side": 1,
      "message": "+1, let\u0027s just reload the feedback vector after MaybeTailCallOptimizedCodeSlot and avoid this disconnected push/pop.\n\n(Sorry thought I had replied to this earlier but my comment seems to have got lost)",
      "parentUuid": "2435e003_7d1d369a",
      "revId": "13dc7f0e2740410ef9c6d8ed0be1cee2e8e01794",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f3c4ecc3_d0e7e3a0",
        "filename": "src/builtins/ia32/builtins-ia32.cc",
        "patchSetId": 6
      },
      "lineNbr": 790,
      "author": {
        "id": 1119600
      },
      "writtenOn": "2018-08-29T09:17:59Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "db5b04c4_870f7b25",
      "revId": "13dc7f0e2740410ef9c6d8ed0be1cee2e8e01794",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f356e56d_ba090cad",
        "filename": "src/builtins/ia32/builtins-ia32.cc",
        "patchSetId": 6
      },
      "lineNbr": 918,
      "author": {
        "id": 1162439
      },
      "writtenOn": "2018-08-28T07:34:49Z",
      "side": 1,
      "message": "And a scope from here to L928.",
      "revId": "13dc7f0e2740410ef9c6d8ed0be1cee2e8e01794",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1ef94301_dbffde06",
        "filename": "src/builtins/ia32/builtins-ia32.cc",
        "patchSetId": 6
      },
      "lineNbr": 918,
      "author": {
        "id": 1119600
      },
      "writtenOn": "2018-08-28T08:18:06Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "f356e56d_ba090cad",
      "revId": "13dc7f0e2740410ef9c6d8ed0be1cee2e8e01794",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "3d0e3c99_6f69bfcc",
        "filename": "src/builtins/ia32/builtins-ia32.cc",
        "patchSetId": 6
      },
      "lineNbr": 921,
      "author": {
        "id": 1162439
      },
      "writtenOn": "2018-08-28T07:34:49Z",
      "side": 1,
      "message": "AdvanceBytecodeOffsetOrReturn *could* contain the push/pop and bytecode load. That might make this call-site a bit less scary. We should probably stay consistent across platforms though.",
      "revId": "13dc7f0e2740410ef9c6d8ed0be1cee2e8e01794",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "bdcab8d6_29235a74",
        "filename": "src/builtins/ia32/builtins-ia32.cc",
        "patchSetId": 6
      },
      "lineNbr": 921,
      "author": {
        "id": 1119600
      },
      "writtenOn": "2018-08-28T08:18:06Z",
      "side": 1,
      "message": "Agreed. I\u0027m not sure which is better, though. The advantage of having it all here is that one can easily see what is going on.",
      "parentUuid": "3d0e3c99_6f69bfcc",
      "revId": "13dc7f0e2740410ef9c6d8ed0be1cee2e8e01794",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "61dd1497_18b47f20",
        "filename": "src/builtins/ia32/builtins-ia32.cc",
        "patchSetId": 6
      },
      "lineNbr": 921,
      "author": {
        "id": 1162439
      },
      "writtenOn": "2018-08-28T12:34:48Z",
      "side": 1,
      "message": "I think I prefer moving into AdvanceBytecodeOffsetOrReturn - we don\u0027t need to care what exactly happens there as long as kRootRegister is preserved. I\u0027ll defer to Ross here though.",
      "parentUuid": "bdcab8d6_29235a74",
      "revId": "13dc7f0e2740410ef9c6d8ed0be1cee2e8e01794",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "bac81e2a_7492a9ff",
        "filename": "src/builtins/ia32/builtins-ia32.cc",
        "patchSetId": 6
      },
      "lineNbr": 921,
      "author": {
        "id": 1119600
      },
      "writtenOn": "2018-08-29T09:17:59Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "61dd1497_18b47f20",
      "revId": "13dc7f0e2740410ef9c6d8ed0be1cee2e8e01794",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}