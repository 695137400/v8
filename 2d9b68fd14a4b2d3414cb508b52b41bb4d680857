{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "516b5dff_9dd87dab",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 16
      },
      "lineNbr": 0,
      "author": {
        "id": 1323125
      },
      "writtenOn": "2023-11-30T14:55:51Z",
      "side": 1,
      "message": "This now seems to fail a test on non-pntr compressed builds on the ppc simulator:\n```\nd8 --test test/mjsunit/mjsunit.js test/mjsunit/es6/iteration-semantics.js\n```\n\nPlease run a full set of tests on release, debug (with gn flag is_debug \u003d true) and the simulator before we do a review. We need to do this ourselves as chromium bots don\u0027t test our platforms when committing a CL.\n\nA simulator release build can be initiated on an x64 machine using these gn flags:\n```\nis_component_build \u003d false\nis_debug \u003d false\ntarget_cpu \u003d \"x64\"\nv8_target_cpu \u003d \"ppc64\"\nuse_goma \u003d false\nv8_enable_backtrace \u003d true\nv8_enable_disassembler \u003d true\nv8_enable_object_print \u003d true\nv8_enable_verify_heap \u003d true\ndcheck_always_on \u003d false\n```",
      "revId": "2d9b68fd14a4b2d3414cb508b52b41bb4d680857",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "930dd80c_9bbf831a",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 16
      },
      "lineNbr": 0,
      "author": {
        "id": 1323125
      },
      "writtenOn": "2023-11-30T14:58:00Z",
      "side": 1,
      "message": "These also need to be applied based on the feature you are testing for pntr compressed builds:\n```\nv8_enable_pointer_compression \u003d true\nv8_enable_external_code_space \u003d true\n\nv8_enable_static_roots \u003d true\nv8_enable_sandbox \u003d true\n```",
      "parentUuid": "516b5dff_9dd87dab",
      "revId": "2d9b68fd14a4b2d3414cb508b52b41bb4d680857",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "bb8ee08c_df9bc695",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 16
      },
      "lineNbr": 0,
      "author": {
        "id": 1305638
      },
      "writtenOn": "2023-11-30T17:24:39Z",
      "side": 1,
      "message": "I\u0027ve been trying to provoke a failure on real hardware for the past couple of hours (I test in various configurations, release and debug), but the only thing I see *iff* I roll back to this commit and run the tests with pointer compression off is a weird failure in one unit test:\n\nv8/test/mjsunit/mjsunit.js:416: Failure:\nexpected:\n\"Iterator result null is not an object\"\nfound:\n\"Cannot read properties of null (reading \u0027done\u0027)\"\n\nStack: MjsUnitAssertionError\n    at assertEquals                           v8/test/mjsunit/mjsunit.js 511:7\n    at test_iterator_result_object_non_object v8/test/mjsunit/es6/iteration-semantics.js 349:3\n    at                                        v8/test/mjsunit/es6/iteration-semantics.js 352:1\n    throw new MjsUnitAssertionError(\n    ^\nMjsUnitAssertionError\n    at assertEquals                           v8/test/mjsunit/mjsunit.js 511:7\n    at test_iterator_result_object_non_object v8/test/mjsunit/es6/iteration-semantics.js 349:3\n    at                                        v8/test/mjsunit/es6/iteration-semantics.js 352:1\nCommand: out/ppc64.release/d8 --test test/mjsunit/mjsunit.js test/mjsunit/es6/iteration-semantics.js --random-seed\u003d-1934383415 --nohard-abort --testing-d8-test-runner",
      "revId": "2d9b68fd14a4b2d3414cb508b52b41bb4d680857",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "c31443fb_5538c8d3",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 16
      },
      "lineNbr": 0,
      "author": {
        "id": 1305638
      },
      "writtenOn": "2023-11-30T17:29:05Z",
      "side": 1,
      "message": "Can you post the output of the test failure you saw?",
      "parentUuid": "bb8ee08c_df9bc695",
      "revId": "2d9b68fd14a4b2d3414cb508b52b41bb4d680857",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "5766b81d_11eb16e8",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 16
      },
      "lineNbr": 0,
      "author": {
        "id": 1305638
      },
      "writtenOn": "2023-11-30T17:43:18Z",
      "side": 1,
      "message": "Drat, didn\u0027t mean to post that.   I have the failure message already.  I\u0027m looking into why that appears.",
      "parentUuid": "c31443fb_5538c8d3",
      "revId": "2d9b68fd14a4b2d3414cb508b52b41bb4d680857",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "cbbd4d66_ddfd7896",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 16
      },
      "lineNbr": 0,
      "author": {
        "id": 1323125
      },
      "writtenOn": "2023-11-30T17:51:40Z",
      "side": 1,
      "message": "yes that\u0027s the failure. I also noticed your sandbox CL is still dependent on this CL, so please make them fully separate, run all the tests then we can do a review.",
      "parentUuid": "5766b81d_11eb16e8",
      "revId": "2d9b68fd14a4b2d3414cb508b52b41bb4d680857",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "b6f965ad_58b94c69",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 16
      },
      "lineNbr": 0,
      "author": {
        "id": 1305638
      },
      "writtenOn": "2023-11-30T20:45:40Z",
      "side": 1,
      "message": "The sandbox itself is technically dependent on the functionality addded in this CL.  Can we review / merge this CL then work on the sandbox?\n\nIt looks like that one failure was introduced way back when we were working on simplifying the branch logic in BaselineAssembler::JumpIfObjectTypeFast().  I simplified it even further and it\u0027s passing all tests now.",
      "parentUuid": "cbbd4d66_ddfd7896",
      "revId": "2d9b68fd14a4b2d3414cb508b52b41bb4d680857",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}