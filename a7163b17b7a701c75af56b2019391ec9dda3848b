{
  "comments": [
    {
      "key": {
        "uuid": "b3972d25_d615e36c",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 23
      },
      "lineNbr": 0,
      "author": {
        "id": 1183889
      },
      "writtenOn": "2020-09-24T10:36:11Z",
      "side": 1,
      "message": "Ulan, PTAL @ include/, src/api/ and src/heap/",
      "revId": "a7163b17b7a701c75af56b2019391ec9dda3848b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "747e4ee5_7bc6ac35",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 23
      },
      "lineNbr": 0,
      "author": {
        "id": 1002405
      },
      "writtenOn": "2020-09-24T10:38:23Z",
      "side": 1,
      "message": "api, heap lgtm",
      "revId": "a7163b17b7a701c75af56b2019391ec9dda3848b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ea4685fb_61bf7378",
        "filename": "src/heap/factory.cc",
        "patchSetId": 23
      },
      "lineNbr": 2709,
      "author": {
        "id": 1002405
      },
      "writtenOn": "2020-09-24T10:56:31Z",
      "side": 1,
      "message": "I see a potential blocker here when releasing the entry.\n\nWe don\u0027t have finalizers for typed arrays and friends. We only have them for the actual backing stores (BackingStore objects): https://docs.google.com/document/d/1-ZrLdlFX1nXT3z-FAgLbKal1gI8Auiaya_My-a0UJ28/edit\n\nAdding finalizers for typed arrays is going to regress GC performance.",
      "range": {
        "startLine": 2709,
        "startChar": 2,
        "endLine": 2709,
        "endChar": 45
      },
      "revId": "a7163b17b7a701c75af56b2019391ec9dda3848b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "99a64f08_655e33a5",
        "filename": "src/heap/factory.cc",
        "patchSetId": 23
      },
      "lineNbr": 2709,
      "author": {
        "id": 1412532
      },
      "writtenOn": "2020-09-24T11:51:52Z",
      "side": 1,
      "message": "I\u0027m not sure I fully understand the concern, but the slot entries will be garbage collected (see https://chromium-review.googlesource.com/c/v8/v8/+/2252179 for a PoC of that) and so as far as I understand, there will be no need for additional finalizers to clean up these entries.",
      "parentUuid": "ea4685fb_61bf7378",
      "range": {
        "startLine": 2709,
        "startChar": 2,
        "endLine": 2709,
        "endChar": 45
      },
      "revId": "a7163b17b7a701c75af56b2019391ec9dda3848b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b51e785a_f67e47a4",
        "filename": "src/heap/factory.cc",
        "patchSetId": 23
      },
      "lineNbr": 2709,
      "author": {
        "id": 1002405
      },
      "writtenOn": "2020-09-24T12:03:04Z",
      "side": 1,
      "message": "Nice, that resolves my concern!\n\nShould the commit message be updated to reflect that? Currently it says:\n\"This CL does not yet implement freeing of external pointer table entires\n(this has to happen in object finalizers)\"",
      "parentUuid": "99a64f08_655e33a5",
      "range": {
        "startLine": 2709,
        "startChar": 2,
        "endLine": 2709,
        "endChar": 45
      },
      "revId": "a7163b17b7a701c75af56b2019391ec9dda3848b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "fd12cbcc_fe908a73",
        "filename": "src/heap/factory.cc",
        "patchSetId": 23
      },
      "lineNbr": 2709,
      "author": {
        "id": 1412532
      },
      "writtenOn": "2020-09-24T17:12:35Z",
      "side": 1,
      "message": "Ah yes, that should be updated! I tried updating it but somehow that didn\u0027t seem to have worked? Must something else besides the commit message change?",
      "parentUuid": "b51e785a_f67e47a4",
      "range": {
        "startLine": 2709,
        "startChar": 2,
        "endLine": 2709,
        "endChar": 45
      },
      "revId": "a7163b17b7a701c75af56b2019391ec9dda3848b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}