{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "d505c909_9623d0f6",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 7
      },
      "lineNbr": 0,
      "author": {
        "id": 1559107
      },
      "writtenOn": "2022-12-19T17:29:40Z",
      "side": 1,
      "message": "PTAL, since Igor is OOO\n\nPS: This zeros the padding on all objects created by the runtime. To ensure every string is padded -- like ishell suggested -- requires additional changes to the native allocation of strings in torque Allocate(NonEmpty)?Seq(One|Two)ByteString. Since this is a bigger change on even more unfamiliar territory I would like to keep the scope of this CL as is for now.",
      "revId": "107c538c7a1c3d6c65a5f6d45b72d5a02c780149",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "755c5c56_40031b51",
        "filename": "src/heap/factory-base.cc",
        "patchSetId": 7
      },
      "lineNbr": 658,
      "author": {
        "id": 1162439
      },
      "writtenOn": "2022-12-20T07:10:37Z",
      "side": 1,
      "message": "Should this go into AllocateRawOneByteInternalizedString? Same for TwoByte.",
      "revId": "107c538c7a1c3d6c65a5f6d45b72d5a02c780149",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d3615ec8_ebe0418e",
        "filename": "src/heap/factory-base.cc",
        "patchSetId": 7
      },
      "lineNbr": 658,
      "author": {
        "id": 1559107
      },
      "writtenOn": "2022-12-20T10:05:46Z",
      "side": 1,
      "message": "yeah, I switched strategy half-way and made a mess. thanks. This should only be done in `AllocateRaw(One|Two)ByteInternalizedString`.",
      "parentUuid": "755c5c56_40031b51",
      "revId": "107c538c7a1c3d6c65a5f6d45b72d5a02c780149",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "022d3b9e_0606643e",
        "filename": "src/heap/factory-base.cc",
        "patchSetId": 7
      },
      "lineNbr": 658,
      "author": {
        "id": 1162439
      },
      "writtenOn": "2022-12-20T10:20:08Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "d3615ec8_ebe0418e",
      "revId": "107c538c7a1c3d6c65a5f6d45b72d5a02c780149",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7146afa8_c9c32e5b",
        "filename": "src/heap/factory-base.cc",
        "patchSetId": 7
      },
      "lineNbr": 779,
      "author": {
        "id": 1162439
      },
      "writtenOn": "2022-12-20T07:10:37Z",
      "side": 1,
      "message": "Already cleared by NewRawOneByteString",
      "revId": "107c538c7a1c3d6c65a5f6d45b72d5a02c780149",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "26466161_6490aa62",
        "filename": "src/heap/factory-base.cc",
        "patchSetId": 7
      },
      "lineNbr": 779,
      "author": {
        "id": 1559107
      },
      "writtenOn": "2022-12-20T10:05:46Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "7146afa8_c9c32e5b",
      "revId": "107c538c7a1c3d6c65a5f6d45b72d5a02c780149",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f0ed3679_3e9d45c2",
        "filename": "src/heap/factory-base.cc",
        "patchSetId": 7
      },
      "lineNbr": 857,
      "author": {
        "id": 1162439
      },
      "writtenOn": "2022-12-20T07:10:37Z",
      "side": 1,
      "message": "Same here",
      "revId": "107c538c7a1c3d6c65a5f6d45b72d5a02c780149",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "49ddb8e4_a9662176",
        "filename": "src/heap/factory-base.cc",
        "patchSetId": 7
      },
      "lineNbr": 857,
      "author": {
        "id": 1559107
      },
      "writtenOn": "2022-12-20T10:05:46Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "f0ed3679_3e9d45c2",
      "revId": "107c538c7a1c3d6c65a5f6d45b72d5a02c780149",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b4d1800d_fd433a49",
        "filename": "src/objects/string.cc",
        "patchSetId": 7
      },
      "lineNbr": 1854,
      "author": {
        "id": 1162439
      },
      "writtenOn": "2022-12-20T07:10:37Z",
      "side": 1,
      "message": "nit: I think our convention is to use `auto` when the type is 1. obvious and 2. cumbersome to spell out. Here, IMO it\u0027s neither so please let\u0027s just say `int` or `size_t` or whatever. Same in all future code :)",
      "revId": "107c538c7a1c3d6c65a5f6d45b72d5a02c780149",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "dc10a2b3_03bbc37a",
        "filename": "src/objects/string.cc",
        "patchSetId": 7
      },
      "lineNbr": 1854,
      "author": {
        "id": 1559107
      },
      "writtenOn": "2022-12-20T10:05:46Z",
      "side": 1,
      "message": "The type is `DataAndPaddingSizes` which in my book is cumbersome :) But apparently not obvious. Wdyt?",
      "parentUuid": "b4d1800d_fd433a49",
      "revId": "107c538c7a1c3d6c65a5f6d45b72d5a02c780149",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "56c37be6_8fda9995",
        "filename": "src/objects/string.cc",
        "patchSetId": 7
      },
      "lineNbr": 1854,
      "author": {
        "id": 1162439
      },
      "writtenOn": "2022-12-20T10:20:08Z",
      "side": 1,
      "message": "Right I\u0027d prefer spelling it out then. That way all future readers avoid having to look up the non-obvious type.",
      "parentUuid": "dc10a2b3_03bbc37a",
      "revId": "107c538c7a1c3d6c65a5f6d45b72d5a02c780149",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "3b0eac72_61864176",
        "filename": "src/objects/string.h",
        "patchSetId": 7
      },
      "lineNbr": 715,
      "author": {
        "id": 1162439
      },
      "writtenOn": "2022-12-20T07:10:37Z",
      "side": 1,
      "message": "Might be worth making this an inline function (in string-inl.h) since we call it on all new strings.",
      "revId": "107c538c7a1c3d6c65a5f6d45b72d5a02c780149",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "cfefe783_a6701218",
        "filename": "src/objects/string.h",
        "patchSetId": 7
      },
      "lineNbr": 715,
      "author": {
        "id": 1559107
      },
      "writtenOn": "2022-12-20T10:05:46Z",
      "side": 1,
      "message": "Agreed. This required a bit of code duplication by moving it to the more specific classes.",
      "parentUuid": "3b0eac72_61864176",
      "revId": "107c538c7a1c3d6c65a5f6d45b72d5a02c780149",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "86df60b5_ea8ed2bb",
        "filename": "src/snapshot/read-only-serializer.cc",
        "patchSetId": 7
      },
      "lineNbr": 98,
      "author": {
        "id": 1162439
      },
      "writtenOn": "2022-12-20T07:10:37Z",
      "side": 1,
      "message": "Why? From https://source.chromium.org/chromium/chromium/src/+/main:v8/src/heap/read-only-heap.cc;l\u003d177;drc\u003d506e1970ddb3f4c94756e2585a18709febbd082a it looks like RO pages are already shrunk. If so, I\u0027d prefer keeping the simpler area_size() call. Otherwise, please also update the variable name to `shrunk_page_size` or something.",
      "revId": "107c538c7a1c3d6c65a5f6d45b72d5a02c780149",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "3e371c0b_de9b6d90",
        "filename": "src/snapshot/read-only-serializer.cc",
        "patchSetId": 7
      },
      "lineNbr": 98,
      "author": {
        "id": 1559107
      },
      "writtenOn": "2022-12-20T10:05:46Z",
      "side": 1,
      "message": "They are shrunk, yes. But only to the OS page size. So there is still trailing uninitialized memory.",
      "parentUuid": "86df60b5_ea8ed2bb",
      "revId": "107c538c7a1c3d6c65a5f6d45b72d5a02c780149",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "898ee5d5_c648c8fb",
        "filename": "src/snapshot/read-only-serializer.cc",
        "patchSetId": 7
      },
      "lineNbr": 98,
      "author": {
        "id": 1162439
      },
      "writtenOn": "2022-12-20T10:20:08Z",
      "side": 1,
      "message": "I see, thanks. Please update the variable name and leave a short comment to explain exactly this somewhat subtle point.",
      "parentUuid": "3e371c0b_de9b6d90",
      "revId": "107c538c7a1c3d6c65a5f6d45b72d5a02c780149",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}