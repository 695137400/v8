{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "abdcb274_e1ef4b45",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 4
      },
      "lineNbr": 0,
      "author": {
        "id": 1569532
      },
      "writtenOn": "2023-08-15T21:36:57Z",
      "side": 1,
      "message": "Hi Liviu. Can you please take a look at this CL? We are getting a failure related to the infrastructure on `v8_full_presubmit` (and it is probably also making exceptions on Fuchsia debug builder https://ci.chromium.org/ui/p/v8/builders/luci.v8.ci/V8%20Fuchsia%20-%20debug%20builder). We have tried to figure the issue out, but we had no success. I would appreciate it if you take a look.",
      "revId": "bc13058d2fc3ae3afc9e81f730cb816797805a1b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "fdd7c236_0a120be9",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 4
      },
      "lineNbr": 0,
      "author": {
        "id": 1368998
      },
      "writtenOn": "2023-08-16T15:52:58Z",
      "side": 1,
      "message": "I compared with some successful runs and I see `Total Torque files found that require formatting: 61` and `Total JavaScript files found that require formatting: 2` in your CL.\n\nWe need to work on the readability of presubmit errors...",
      "revId": "bc13058d2fc3ae3afc9e81f730cb816797805a1b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "15ce64e5_3e891a5c",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 4
      },
      "lineNbr": 0,
      "author": {
        "id": 1569532
      },
      "writtenOn": "2023-08-16T17:35:55Z",
      "side": 1,
      "message": "I checked the formatting and uploaded a new Patchset (Some .cc and .js files updated, on my side no torque files need formatting). The presubmit check failed again. the error I am seeing now (and I saw yesterday) is at the end of the stdout:\n \n```\nRunning /b/s/w/ir/cache/builder/v8/tools/testrunner/local/pool_test.py\n.ERROR:root:Unhandled error during worker execution.\nTraceback (most recent call last):\n  File \"/b/s/w/ir/cache/builder/v8/tools/testrunner/local/pool.py\", line 87, in Worker\n    done_queue.put(NormalResult(fn(*args, **kwargs)))\n  File \"/b/s/w/ir/cache/builder/v8/tools/testrunner/local/pool_test.py\", line 22, in Run\n    raise Exception(\"Expected exception triggered by test.\")\nException: Expected exception triggered by test.\nERROR:root:Internal error in a worker process.\nTraceback (most recent call last):\n  File \"/b/s/w/ir/cache/builder/v8/tools/testrunner/local/pool.py\", line 269, in imap_unordered\n    result \u003d self._get_result_from_queue()\n  File \"/b/s/w/ir/cache/builder/v8/tools/testrunner/local/pool.py\", line 377, in _get_result_from_queue\n    raise result.exception\nException: Expected exception triggered by test.\n```\nI think this is related to infrastructure and I have no idea how to solve it.",
      "parentUuid": "fdd7c236_0a120be9",
      "revId": "bc13058d2fc3ae3afc9e81f730cb816797805a1b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "98ae8ba8_91bcd7e1",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 4
      },
      "lineNbr": 0,
      "author": {
        "id": 1364448
      },
      "writtenOn": "2023-08-16T18:15:42Z",
      "side": 1,
      "message": "Could it be related to https://chromium-review.googlesource.com/c/v8/v8/+/3781347 somehow?",
      "parentUuid": "15ce64e5_3e891a5c",
      "revId": "bc13058d2fc3ae3afc9e81f730cb816797805a1b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b74dab88_437005df",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 4
      },
      "lineNbr": 0,
      "author": {
        "id": 1368998
      },
      "writtenOn": "2023-08-23T18:43:42Z",
      "side": 1,
      "message": "As mentioned before the output of v8_presubmit is confusing. The stacktrace is nothing more that too much output coming from a successful test. After rebasing on top of a small \u0027improvement\u0027 of v8_presubmit you can see that the checks that are failing are indeed:\n```\nChecks failed:\nTorqueLintProcessor\nJSLintProcessor\n```\nhttps://logs.chromium.org/logs/v8/buildbucket/cr-buildbucket/8771954324942520705/+/u/Presubmit/stdout\nUnfortunately the \u0027improvement\u0027 was imperfect and the failure of the check does not yield a non zero exit code. Reverted with a reland in flight.\n\nPls note that if you run locally `./tools/v8_presubmit.py` you will see the same failure AND a bunch of tq and mjs files reformated. I do not understand the mechanics of your updates impacting the formatting of those files, but the effect is there.\n```\n        modified:   src/builtins/array-join.tq\n        modified:   src/builtins/object-groupby.tq\n        modified:   src/builtins/object.tq\n        modified:   src/builtins/promise-misc.tq\n        modified:   src/builtins/typed-array-set.tq\n        modified:   src/builtins/typed-array-slice.tq\n        modified:   src/objects/js-objects.tq\n        modified:   tools/system-analyzer/app-model.mjs\n        modified:   tools/system-analyzer/view/script-panel.mjs\n```",
      "parentUuid": "98ae8ba8_91bcd7e1",
      "revId": "bc13058d2fc3ae3afc9e81f730cb816797805a1b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e1ecf63a_fcb2ae1e",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 4
      },
      "lineNbr": 0,
      "author": {
        "id": 1569532
      },
      "writtenOn": "2023-08-24T17:57:07Z",
      "side": 1,
      "message": "Thanks, Liviu. I do\u0027nt understand what is going on on my side. After doing a `gclient sync`, I run `./tools/v8_presubmit.py` locally and I got the following error: \n```\nTraceback (most recent call last):\n  File \"/usr/local/google/home/rezvan/v8/v8/./tools/v8_presubmit.py\", line 852, in \u003cmodule\u003e\n    sys.exit(Main())\n             ^^^^^^\n  File \"/usr/local/google/home/rezvan/v8/v8/./tools/v8_presubmit.py\", line 823, in Main\n    .RunOnPath(workspace) else \u0027CppLintProcessor\u0027)\n     ^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/google/home/rezvan/v8/v8/./tools/v8_presubmit.py\", line 238, in RunOnPath\n    return self.ProcessFiles(all_files)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/google/home/rezvan/v8/v8/./tools/v8_presubmit.py\", line 322, in ProcessFiles\n    files_requiring_changes \u003d self.DetectFilesToChange(files)\n                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/google/home/rezvan/v8/v8/./tools/v8_presubmit.py\", line 342, in DetectFilesToChange\n    results \u003d pool.map_async(worker, commands).get(timeout\u003d360)\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.11/multiprocessing/pool.py\", line 770, in get\n    raise TimeoutError\nmultiprocessing.context.TimeoutError\n```",
      "parentUuid": "b74dab88_437005df",
      "revId": "bc13058d2fc3ae3afc9e81f730cb816797805a1b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5005e6ef_e2d74ba4",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 4
      },
      "lineNbr": 0,
      "author": {
        "id": 1368998
      },
      "writtenOn": "2023-08-25T11:22:40Z",
      "side": 1,
      "message": "Not sure what that is about. Anything special about your system?",
      "parentUuid": "e1ecf63a_fcb2ae1e",
      "revId": "bc13058d2fc3ae3afc9e81f730cb816797805a1b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}