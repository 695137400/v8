{
  "comments": [
    {
      "key": {
        "uuid": "3d203cb5_fe0d9735",
        "filename": "/COMMIT_MSG",
        "patchSetId": 5
      },
      "lineNbr": 12,
      "author": {
        "id": 1115956
      },
      "writtenOn": "2019-01-08T15:37:05Z",
      "side": 1,
      "message": "Please also mention that this is a pure refactoring without any intended logical changes.",
      "range": {
        "startLine": 12,
        "startChar": 0,
        "endLine": 12,
        "endChar": 21
      },
      "revId": "fd235de0ad2dc08a9f79660606071904c254788a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "313de72a_0e8c7d36",
        "filename": "/COMMIT_MSG",
        "patchSetId": 5
      },
      "lineNbr": 12,
      "author": {
        "id": 1316073
      },
      "writtenOn": "2019-01-09T14:51:28Z",
      "side": 1,
      "message": "I\u0027ve added that to the new commit message",
      "parentUuid": "3d203cb5_fe0d9735",
      "range": {
        "startLine": 12,
        "startChar": 0,
        "endLine": 12,
        "endChar": 21
      },
      "revId": "fd235de0ad2dc08a9f79660606071904c254788a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "6c4004ea_cc7f6af1",
        "filename": "tools/testrunner/base_runner.py",
        "patchSetId": 5
      },
      "lineNbr": 616,
      "author": {
        "id": 1153089
      },
      "writtenOn": "2019-01-09T11:38:00Z",
      "side": 1,
      "message": "I find it strange that this check is done after calling TestSuite.Load. Perhaps methods should be renamed somehow to better reflect what is actually loaded above and what is loaded inside this condition?",
      "range": {
        "startLine": 616,
        "startChar": 6,
        "endLine": 616,
        "endChar": 53
      },
      "revId": "fd235de0ad2dc08a9f79660606071904c254788a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "837a9be1_66ca0bfc",
        "filename": "tools/testrunner/base_runner.py",
        "patchSetId": 5
      },
      "lineNbr": 616,
      "author": {
        "id": 1316073
      },
      "writtenOn": "2019-01-09T14:51:28Z",
      "side": 1,
      "message": "I\u0027ve renamed the method to avoid some confusion. The reason for this is that we have to load 2 things (test suite and the tests) and NumFuzzer wants to customize the suites before loading all the tests",
      "parentUuid": "6c4004ea_cc7f6af1",
      "range": {
        "startLine": 616,
        "startChar": 6,
        "endLine": 616,
        "endChar": 53
      },
      "revId": "fd235de0ad2dc08a9f79660606071904c254788a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "26b81590_757da3da",
        "filename": "tools/testrunner/base_runner.py",
        "patchSetId": 5
      },
      "lineNbr": 616,
      "author": {
        "id": 1153089
      },
      "writtenOn": "2019-01-10T09:51:08Z",
      "side": 1,
      "message": "It\u0027s a lot better now (especially added \"process\" part since it make changes to the object), but still slightly confusing. How about this code?\n\n  should_load_tests \u003d self._process_suite(suite, options)\n  if should_load_tests:\n    suite.load_tests_from_disk(variables)\n    suites.append(suite)\n\nThe method should only return True when tests need to be loaded. This way it becomes clear that you load test suite above and actual tests in the call below.",
      "parentUuid": "837a9be1_66ca0bfc",
      "range": {
        "startLine": 616,
        "startChar": 6,
        "endLine": 616,
        "endChar": 53
      },
      "revId": "fd235de0ad2dc08a9f79660606071904c254788a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "691c9744_733bc206",
        "filename": "tools/testrunner/base_runner.py",
        "patchSetId": 5
      },
      "lineNbr": 625,
      "author": {
        "id": 1153089
      },
      "writtenOn": "2019-01-09T11:38:00Z",
      "side": 1,
      "message": "Can suite ever be None? Unless this is the case, IMHO it\u0027s better to return True here.",
      "revId": "fd235de0ad2dc08a9f79660606071904c254788a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "60f9b39f_82814735",
        "filename": "tools/testrunner/base_runner.py",
        "patchSetId": 5
      },
      "lineNbr": 625,
      "author": {
        "id": 1316073
      },
      "writtenOn": "2019-01-09T14:51:28Z",
      "side": 1,
      "message": "I\u0027ve renamed it to better reflect the purpose of the method and added more documentation to it.",
      "parentUuid": "691c9744_733bc206",
      "revId": "fd235de0ad2dc08a9f79660606071904c254788a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "a23af482_883b97de",
        "filename": "tools/testrunner/num_fuzzer.py",
        "patchSetId": 5
      },
      "lineNbr": 195,
      "author": {
        "id": 1153089
      },
      "writtenOn": "2019-01-09T11:38:00Z",
      "side": 1,
      "message": "Method name does not seem to suggest that it makes any changes to the suite. I would recommend moving this into an overridden load_tests_from_disk method:\n\n  def load_tests_from_disk(self, options, statusfile_variables):\n    if options.stress_interrupt_budget:\n      suite.do_suppress_internals()\n    super(NumFuzzer, self).load_tests_from_disk(options, statusfile_variables)\n\nNote that you\u0027ll have to modify the base method definition as well to add options parameter.",
      "range": {
        "startLine": 195,
        "startChar": 6,
        "endLine": 195,
        "endChar": 35
      },
      "revId": "fd235de0ad2dc08a9f79660606071904c254788a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "35e57724_f0f7329f",
        "filename": "tools/testrunner/num_fuzzer.py",
        "patchSetId": 5
      },
      "lineNbr": 195,
      "author": {
        "id": 1316073
      },
      "writtenOn": "2019-01-09T14:51:28Z",
      "side": 1,
      "message": "do_suppress_internals modifies the TestSuite though, it\u0027s an old method. We can refactor that part as a follow-up if needs be. \n\nI\u0027ve kept it here since this is specific behavior and flag to the NumFuzzer.",
      "parentUuid": "a23af482_883b97de",
      "range": {
        "startLine": 195,
        "startChar": 6,
        "endLine": 195,
        "endChar": 35
      },
      "revId": "fd235de0ad2dc08a9f79660606071904c254788a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ac8efffd_0b65af7c",
        "filename": "tools/testrunner/num_fuzzer.py",
        "patchSetId": 5
      },
      "lineNbr": 195,
      "author": {
        "id": 1115956
      },
      "writtenOn": "2019-01-10T08:19:42Z",
      "side": 1,
      "message": "How about splitting this in two:\n1) An imutable query method to check if a suite should be used/finalized? Call it e.g. \"is_suitable\", ;) The default would be True, NumFuzz would override it.\n2) A post-processing hook that allows mutating the suite. E.g. called process_suite or whatever.\n\nSecond proposal: We could kill 2), since the interrupt_budget fuzzer was removed from infra a while back. We should just remove all the code.",
      "parentUuid": "35e57724_f0f7329f",
      "range": {
        "startLine": 195,
        "startChar": 6,
        "endLine": 195,
        "endChar": 35
      },
      "revId": "fd235de0ad2dc08a9f79660606071904c254788a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "c0e045ba_157f069f",
        "filename": "tools/testrunner/num_fuzzer.py",
        "patchSetId": 5
      },
      "lineNbr": 197,
      "author": {
        "id": 1153089
      },
      "writtenOn": "2019-01-09T11:38:00Z",
      "side": 1,
      "message": "Ditto here. Return True if suite can\u0027t be None",
      "range": {
        "startLine": 197,
        "startChar": 11,
        "endLine": 197,
        "endChar": 16
      },
      "revId": "fd235de0ad2dc08a9f79660606071904c254788a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f6749c9d_ccb7689d",
        "filename": "tools/testrunner/num_fuzzer.py",
        "patchSetId": 5
      },
      "lineNbr": 197,
      "author": {
        "id": 1316073
      },
      "writtenOn": "2019-01-09T14:51:28Z",
      "side": 1,
      "message": "Ditto \"we need the modified suite\"",
      "parentUuid": "c0e045ba_157f069f",
      "range": {
        "startLine": 197,
        "startChar": 11,
        "endLine": 197,
        "endChar": 16
      },
      "revId": "fd235de0ad2dc08a9f79660606071904c254788a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}