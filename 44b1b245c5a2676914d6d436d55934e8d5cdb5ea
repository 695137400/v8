{
  "comments": [
    {
      "key": {
        "uuid": "a95bc444_fb2a53ff",
        "filename": "src/objects/js-collator.cc",
        "patchSetId": 11
      },
      "lineNbr": 185,
      "author": {
        "id": 1158954
      },
      "writtenOn": "2018-12-11T22:27:55Z",
      "side": 0,
      "message": "There is a trade off between performance and memory here. We can either opt to store the locale string and waste memory for all collator objects or waste extra cycles computing the correct locale when resolvedOptions is called. \n\nFrom my discussions with cira@, it seemed like resolvedOptions() is an advanced API that only few developers use. This is exactly why I picked the memory trade off of all collator objects over the performance of resolvedOptions.\n\nIs there a reason to change this now?",
      "revId": "44b1b245c5a2676914d6d436d55934e8d5cdb5ea",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "096cfe9f_331d819e",
        "filename": "src/objects/js-collator.cc",
        "patchSetId": 11
      },
      "lineNbr": 185,
      "author": {
        "id": 1291594
      },
      "writtenOn": "2018-12-11T23:21:21Z",
      "side": 0,
      "message": "The reason I made such change is not because of performance, but rather \n1) the icu::Collator::getLocale() does not give us the resolved locale.\n2) it is not possible to reconstruct the requested locale from icu::Collator. For example, \nnew Intl.Collator(\"pt-BR\").resolvedOptions().locale in m71 is \"pt\" instead of \"pt-BR\".",
      "parentUuid": "a95bc444_fb2a53ff",
      "revId": "44b1b245c5a2676914d6d436d55934e8d5cdb5ea",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "774d4797_d201b4d8",
        "filename": "src/objects/js-collator.cc",
        "patchSetId": 11
      },
      "lineNbr": 185,
      "author": {
        "id": 1158954
      },
      "writtenOn": "2018-12-11T23:51:44Z",
      "side": 0,
      "message": "Ah, thanks for the explanation. It\u0027s unfortunate that icu::Collator doesn\u0027t give us the resolved locale :/",
      "parentUuid": "096cfe9f_331d819e",
      "revId": "44b1b245c5a2676914d6d436d55934e8d5cdb5ea",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8d83fe64_cf091f9d",
        "filename": "src/objects/js-collator.cc",
        "patchSetId": 11
      },
      "lineNbr": 185,
      "author": {
        "id": 1291594
      },
      "writtenOn": "2018-12-12T01:08:59Z",
      "side": 0,
      "message": "Ack",
      "parentUuid": "774d4797_d201b4d8",
      "revId": "44b1b245c5a2676914d6d436d55934e8d5cdb5ea",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}