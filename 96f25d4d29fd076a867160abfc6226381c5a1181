{
  "comments": [
    {
      "key": {
        "uuid": "fcf36258_281cbb56",
        "filename": "src/js/array.js",
        "patchSetId": 2
      },
      "lineNbr": 900,
      "author": {
        "id": 1162439
      },
      "writtenOn": "2018-05-04T14:50:06Z",
      "side": 1,
      "message": "Hmm, an additional runtime transition will be slow. But I suppose it should be fine since it only happens for non-JSArrays..",
      "revId": "96f25d4d29fd076a867160abfc6226381c5a1181",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3ca3d50f_14722e3f",
        "filename": "src/js/array.js",
        "patchSetId": 2
      },
      "lineNbr": 900,
      "author": {
        "id": 1273453
      },
      "writtenOn": "2018-05-07T06:39:19Z",
      "side": 1,
      "message": "As soon as both of the pre-processing CLs have landed (copy from prototype, remove array holes), I plan to consolidate/refactor them into a single runtime function.",
      "parentUuid": "fcf36258_281cbb56",
      "revId": "96f25d4d29fd076a867160abfc6226381c5a1181",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d3e471b1_056f55b0",
        "filename": "src/runtime/runtime-array.cc",
        "patchSetId": 2
      },
      "lineNbr": 278,
      "author": {
        "id": 1162439
      },
      "writtenOn": "2018-05-04T14:50:06Z",
      "side": 1,
      "message": "Let\u0027s pass the isolate in as an argument :)",
      "revId": "96f25d4d29fd076a867160abfc6226381c5a1181",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7b828774_bd555c78",
        "filename": "src/runtime/runtime-array.cc",
        "patchSetId": 2
      },
      "lineNbr": 278,
      "author": {
        "id": 1273453
      },
      "writtenOn": "2018-05-07T06:39:19Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "d3e471b1_056f55b0",
      "revId": "96f25d4d29fd076a867160abfc6226381c5a1181",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "6adff2b3_0878843c",
        "filename": "src/runtime/runtime-array.cc",
        "patchSetId": 2
      },
      "lineNbr": 282,
      "author": {
        "id": 1162439
      },
      "writtenOn": "2018-05-04T14:50:06Z",
      "side": 1,
      "message": "We probably have to handle the IsNothing case as well.",
      "revId": "96f25d4d29fd076a867160abfc6226381c5a1181",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1461dd1b_e9258fcd",
        "filename": "src/runtime/runtime-array.cc",
        "patchSetId": 2
      },
      "lineNbr": 282,
      "author": {
        "id": 1273453
      },
      "writtenOn": "2018-05-07T06:39:19Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "6adff2b3_0878843c",
      "revId": "96f25d4d29fd076a867160abfc6226381c5a1181",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "11087636_076a81ce",
        "filename": "src/runtime/runtime-array.cc",
        "patchSetId": 2
      },
      "lineNbr": 295,
      "author": {
        "id": 1162439
      },
      "writtenOn": "2018-05-04T14:50:06Z",
      "side": 1,
      "message": "I think this could be kStrict (array.js is in strict mode).",
      "revId": "96f25d4d29fd076a867160abfc6226381c5a1181",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0a9b6526_a5d2ba24",
        "filename": "src/runtime/runtime-array.cc",
        "patchSetId": 2
      },
      "lineNbr": 295,
      "author": {
        "id": 1273453
      },
      "writtenOn": "2018-05-07T06:39:19Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "11087636_076a81ce",
      "revId": "96f25d4d29fd076a867160abfc6226381c5a1181",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "527ce4ed_e4eaae03",
        "filename": "src/runtime/runtime-array.cc",
        "patchSetId": 2
      },
      "lineNbr": 304,
      "author": {
        "id": 1162439
      },
      "writtenOn": "2018-05-04T14:50:06Z",
      "side": 1,
      "message": "Nit: obj-\u003eobject.",
      "revId": "96f25d4d29fd076a867160abfc6226381c5a1181",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6de6b33d_3bb4b502",
        "filename": "src/runtime/runtime-array.cc",
        "patchSetId": 2
      },
      "lineNbr": 304,
      "author": {
        "id": 1273453
      },
      "writtenOn": "2018-05-07T06:39:19Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "527ce4ed_e4eaae03",
      "revId": "96f25d4d29fd076a867160abfc6226381c5a1181",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ccb65e5d_8361e6a9",
        "filename": "src/runtime/runtime-array.cc",
        "patchSetId": 2
      },
      "lineNbr": 310,
      "author": {
        "id": 1162439
      },
      "writtenOn": "2018-05-04T14:50:06Z",
      "side": 1,
      "message": "Please DCHECK(!object-\u003eIsJSArray());",
      "revId": "96f25d4d29fd076a867160abfc6226381c5a1181",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "98030a93_af7ade1d",
        "filename": "src/runtime/runtime-array.cc",
        "patchSetId": 2
      },
      "lineNbr": 310,
      "author": {
        "id": 1273453
      },
      "writtenOn": "2018-05-07T06:39:19Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "ccb65e5d_8361e6a9",
      "revId": "96f25d4d29fd076a867160abfc6226381c5a1181",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "20eeef70_6de66845",
        "filename": "src/runtime/runtime-array.cc",
        "patchSetId": 2
      },
      "lineNbr": 325,
      "author": {
        "id": 1162439
      },
      "writtenOn": "2018-05-04T14:50:06Z",
      "side": 1,
      "message": "Suggestion: We could pass \u0026max to ConditionalCopy, and ConditionalCopy could simply return Object*. No strong preference.",
      "revId": "96f25d4d29fd076a867160abfc6226381c5a1181",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7d190451_bfed64e5",
        "filename": "src/runtime/runtime-array.cc",
        "patchSetId": 2
      },
      "lineNbr": 325,
      "author": {
        "id": 1273453
      },
      "writtenOn": "2018-05-07T06:39:19Z",
      "side": 1,
      "message": "I prefer to leave it as it is, since ConditionalCopy now has one job only. Passing in a ref to max and looking just at the function might be more confusing than necessary. No strong opinion though either.",
      "parentUuid": "20eeef70_6de66845",
      "revId": "96f25d4d29fd076a867160abfc6226381c5a1181",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "354eec49_8bbf7599",
        "filename": "src/runtime/runtime-array.cc",
        "patchSetId": 2
      },
      "lineNbr": 333,
      "author": {
        "id": 1273453
      },
      "writtenOn": "2018-05-04T13:07:00Z",
      "side": 1,
      "message": "CollectOwnElementIndices takes a JSReceiver and an JSObject. Is this the correct way to invoke it?",
      "revId": "96f25d4d29fd076a867160abfc6226381c5a1181",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a9b9f844_dabd2d40",
        "filename": "src/runtime/runtime-array.cc",
        "patchSetId": 2
      },
      "lineNbr": 333,
      "author": {
        "id": 1162439
      },
      "writtenOn": "2018-05-04T14:50:06Z",
      "side": 1,
      "message": "Looks like it, judging by %GetArrayKeys.\n\n%GetArrayKeys is more involved than what we do here though.. Should the complete logic be ported? Same for other callsites (I think there was one in the other CL?).",
      "parentUuid": "354eec49_8bbf7599",
      "revId": "96f25d4d29fd076a867160abfc6226381c5a1181",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "89aa7921_a85d27ec",
        "filename": "src/runtime/runtime-array.cc",
        "patchSetId": 2
      },
      "lineNbr": 333,
      "author": {
        "id": 1273453
      },
      "writtenOn": "2018-05-07T06:39:19Z",
      "side": 1,
      "message": "As far as I have understood GetArrayKeys: It has some fastpaths for faster element kinds, and for complex objects it simply returns the length, and not the indices (at this site, we always want the indices).\n\nAdditionally, GetArrayKeys has a post-processing step that removes all the keys that are \u003e\u003d length. This call site does not remove them, but simply ignores them (see comment inside the loop).\n\nI think we have the correct behaviour here, but cbruni should probably double check.",
      "parentUuid": "a9b9f844_dabd2d40",
      "revId": "96f25d4d29fd076a867160abfc6226381c5a1181",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "eea5e36b_c2e5534a",
        "filename": "src/runtime/runtime-array.cc",
        "patchSetId": 2
      },
      "lineNbr": 342,
      "author": {
        "id": 1162439
      },
      "writtenOn": "2018-05-04T14:50:06Z",
      "side": 1,
      "message": "\u0027.\u0027 (please also for all future comments).",
      "revId": "96f25d4d29fd076a867160abfc6226381c5a1181",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "535e68cf_6fa57785",
        "filename": "src/runtime/runtime-array.cc",
        "patchSetId": 2
      },
      "lineNbr": 342,
      "author": {
        "id": 1273453
      },
      "writtenOn": "2018-05-07T06:39:19Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "eea5e36b_c2e5534a",
      "revId": "96f25d4d29fd076a867160abfc6226381c5a1181",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}