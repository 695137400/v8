{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "6bdd1cb9_c43b4af8",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 1175774
      },
      "writtenOn": "2021-08-03T13:45:17Z",
      "side": 1,
      "message": "Jakob, Camillo, PTAL both at everything.\n\nI haven\u0027t quite figured out how logging/debug printing works in the off-thread task, but the rest is good for review I think.\n\nExample usage in https://chromium-review.googlesource.com/c/chromium/src/+/3067343",
      "revId": "ba8595aea0267f6b2591db99125c476e6da23373",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "688e07d6_f856ab45",
        "filename": "include/v8.h",
        "patchSetId": 3
      },
      "lineNbr": 1818,
      "author": {
        "id": 1162439
      },
      "writtenOn": "2021-08-04T09:13:21Z",
      "side": 1,
      "message": "Suggestion: ConsumeCodeCacheTask? Likewise all other related names, up to you.",
      "revId": "ba8595aea0267f6b2591db99125c476e6da23373",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c4dd87d9_62daeca9",
        "filename": "include/v8.h",
        "patchSetId": 3
      },
      "lineNbr": 1867,
      "author": {
        "id": 1162439
      },
      "writtenOn": "2021-08-04T09:13:21Z",
      "side": 1,
      "message": "And not of CodeCacheConsumeTask?",
      "revId": "ba8595aea0267f6b2591db99125c476e6da23373",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c10f94e9_81147b56",
        "filename": "include/v8.h",
        "patchSetId": 3
      },
      "lineNbr": 2095,
      "author": {
        "id": 1162439
      },
      "writtenOn": "2021-08-04T09:13:21Z",
      "side": 1,
      "message": "A comment as above seems useful. (BTW why don\u0027t these methods return unique_ptrs to clarify ownership?)",
      "revId": "ba8595aea0267f6b2591db99125c476e6da23373",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "72fbac0b_db9f8d32",
        "filename": "include/v8.h",
        "patchSetId": 3
      },
      "lineNbr": 2095,
      "author": {
        "id": 1175774
      },
      "writtenOn": "2021-08-04T09:35:55Z",
      "side": 1,
      "message": "I would have loved to have this return a unique_ptr, but it\u0027s inconsistent with StartStreaming above, and I can\u0027t change that because APIs.",
      "parentUuid": "c10f94e9_81147b56",
      "revId": "ba8595aea0267f6b2591db99125c476e6da23373",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "8cb0b1e4_c6874f91",
        "filename": "include/v8.h",
        "patchSetId": 3
      },
      "lineNbr": 2095,
      "author": {
        "id": 1162439
      },
      "writtenOn": "2021-08-04T09:37:31Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "72fbac0b_db9f8d32",
      "revId": "ba8595aea0267f6b2591db99125c476e6da23373",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "0baf6db9_6c741c11",
        "filename": "src/api/api.cc",
        "patchSetId": 3
      },
      "lineNbr": 2611,
      "author": {
        "id": 1162439
      },
      "writtenOn": "2021-08-04T09:13:21Z",
      "side": 1,
      "message": "nit: why not in the header? also, empty line between these methods.",
      "revId": "ba8595aea0267f6b2591db99125c476e6da23373",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "fa54dbed_e89d5455",
        "filename": "src/api/api.cc",
        "patchSetId": 3
      },
      "lineNbr": 2611,
      "author": {
        "id": 1175774
      },
      "writtenOn": "2021-08-04T09:35:55Z",
      "side": 1,
      "message": "Not in the header because it needs the definition of BackgroundDeserializeTask for the unique_ptr destructor.",
      "parentUuid": "0baf6db9_6c741c11",
      "revId": "ba8595aea0267f6b2591db99125c476e6da23373",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "d29fb582_470b5720",
        "filename": "src/api/api.cc",
        "patchSetId": 3
      },
      "lineNbr": 2611,
      "author": {
        "id": 1162439
      },
      "writtenOn": "2021-08-04T09:37:31Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "fa54dbed_e89d5455",
      "revId": "ba8595aea0267f6b2591db99125c476e6da23373",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "bf1508ea_80aa451f",
        "filename": "src/codegen/compiler.h",
        "patchSetId": 3
      },
      "lineNbr": 585,
      "author": {
        "id": 1162439
      },
      "writtenOn": "2021-08-04T09:13:21Z",
      "side": 1,
      "message": "Why \u0026\u0026 here and not in the other spots where unique_ptrs are passed as args? Because the ptr isn\u0027t assigned in the impl?",
      "revId": "ba8595aea0267f6b2591db99125c476e6da23373",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d77d6bc2_bd94914a",
        "filename": "src/codegen/compiler.h",
        "patchSetId": 3
      },
      "lineNbr": 595,
      "author": {
        "id": 1132654
      },
      "writtenOn": "2021-08-04T09:25:57Z",
      "side": 1,
      "message": "nit: cached_data_ vs. ScriptCompiler::CachedData is a bit confusing.",
      "range": {
        "startLine": 595,
        "startChar": 13,
        "endLine": 595,
        "endChar": 25
      },
      "revId": "ba8595aea0267f6b2591db99125c476e6da23373",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "16586b64_0cbc7069",
        "filename": "src/codegen/compiler.h",
        "patchSetId": 3
      },
      "lineNbr": 595,
      "author": {
        "id": 1175774
      },
      "writtenOn": "2021-08-04T09:35:55Z",
      "side": 1,
      "message": "I agree -- I did it this way because of consistency with GetSharedFunctionInfoForScript; I\u0027m thinking of just renaming ScriptData to CachedData and having both v8::CachedData and v8::internal::CachedData. Thoughts? Maybe AlignedCachedData?",
      "parentUuid": "d77d6bc2_bd94914a",
      "range": {
        "startLine": 595,
        "startChar": 13,
        "endLine": 595,
        "endChar": 25
      },
      "revId": "ba8595aea0267f6b2591db99125c476e6da23373",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "1405ffde_152ff424",
        "filename": "src/codegen/compiler.h",
        "patchSetId": 3
      },
      "lineNbr": 595,
      "author": {
        "id": 1132654
      },
      "writtenOn": "2021-08-04T09:45:23Z",
      "side": 1,
      "message": "v8::CachedData and i::CachedData SGTM",
      "parentUuid": "16586b64_0cbc7069",
      "range": {
        "startLine": 595,
        "startChar": 13,
        "endLine": 595,
        "endChar": 25
      },
      "revId": "ba8595aea0267f6b2591db99125c476e6da23373",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c19e118a_e19a161a",
        "filename": "src/flags/flag-definitions.h",
        "patchSetId": 3
      },
      "lineNbr": 1394,
      "author": {
        "id": 1162439
      },
      "writtenOn": "2021-08-04T09:13:21Z",
      "side": 1,
      "message": "This will remain true when landed?",
      "revId": "ba8595aea0267f6b2591db99125c476e6da23373",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5b91c249_3fe1f3bb",
        "filename": "src/flags/flag-definitions.h",
        "patchSetId": 3
      },
      "lineNbr": 1394,
      "author": {
        "id": 1175774
      },
      "writtenOn": "2021-08-04T09:35:55Z",
      "side": 1,
      "message": "I was planning to leave it on yeah, since this doesn\u0027t actually _trigger_ concurrent cache deserialization, just _enables_ it.",
      "parentUuid": "c19e118a_e19a161a",
      "revId": "ba8595aea0267f6b2591db99125c476e6da23373",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "6c2228a3_a367cdd8",
        "filename": "src/flags/flag-definitions.h",
        "patchSetId": 3
      },
      "lineNbr": 1394,
      "author": {
        "id": 1162439
      },
      "writtenOn": "2021-08-04T09:37:31Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "5b91c249_3fe1f3bb",
      "revId": "ba8595aea0267f6b2591db99125c476e6da23373",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a09ab736_aa90be39",
        "filename": "src/snapshot/code-serializer.cc",
        "patchSetId": 3
      },
      "lineNbr": 300,
      "author": {
        "id": 1132654
      },
      "writtenOn": "2021-08-04T09:29:06Z",
      "side": 1,
      "message": "nit: cached_data_vs. ScriptData",
      "range": {
        "startLine": 300,
        "startChar": 14,
        "endLine": 300,
        "endChar": 26
      },
      "revId": "ba8595aea0267f6b2591db99125c476e6da23373",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a660e69d_e48fba44",
        "filename": "src/snapshot/code-serializer.cc",
        "patchSetId": 3
      },
      "lineNbr": 439,
      "author": {
        "id": 1162439
      },
      "writtenOn": "2021-08-04T09:13:21Z",
      "side": 1,
      "message": "leftover?",
      "revId": "ba8595aea0267f6b2591db99125c476e6da23373",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b91e3e36_7288ec85",
        "filename": "src/snapshot/code-serializer.cc",
        "patchSetId": 3
      },
      "lineNbr": 439,
      "author": {
        "id": 1175774
      },
      "writtenOn": "2021-08-04T09:35:55Z",
      "side": 1,
      "message": "semi-leftover, I\u0027m not sure whether we should increment counters off-thread, or do this in the Finish method.",
      "parentUuid": "a660e69d_e48fba44",
      "revId": "ba8595aea0267f6b2591db99125c476e6da23373",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "fe6cf172_03301ced",
        "filename": "src/snapshot/code-serializer.cc",
        "patchSetId": 3
      },
      "lineNbr": 439,
      "author": {
        "id": 1132654
      },
      "writtenOn": "2021-08-04T09:47:57Z",
      "side": 1,
      "message": "AddHistogramSample calls a user-defined method, I doubt this is thread safe \u003d\u003e adding samples on the main-thread seems like the better choice\n(https://source.chromium.org/chromium/chromium/src/+/main:v8/src/logging/counters.h;drc\u003dd0b89fe9c3d6ecc1ec4ffaf0baeb6b36c34ba7fd;l\u003d79)",
      "parentUuid": "b91e3e36_7288ec85",
      "revId": "ba8595aea0267f6b2591db99125c476e6da23373",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "0f081abd_6d22dfc4",
        "filename": "src/snapshot/code-serializer.cc",
        "patchSetId": 3
      },
      "lineNbr": 495,
      "author": {
        "id": 1132654
      },
      "writtenOn": "2021-08-04T09:25:57Z",
      "side": 1,
      "message": "nit: ReadOnlyRoots(isolate).empty_string()",
      "range": {
        "startLine": 495,
        "startChar": 12,
        "endLine": 495,
        "endChar": 47
      },
      "revId": "ba8595aea0267f6b2591db99125c476e6da23373",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "956f7e7d_31108d3e",
        "filename": "src/snapshot/code-serializer.h",
        "patchSetId": 3
      },
      "lineNbr": 9,
      "author": {
        "id": 1162439
      },
      "writtenOn": "2021-08-04T09:13:21Z",
      "side": 1,
      "message": "nit: fwd-declare if possible",
      "revId": "ba8595aea0267f6b2591db99125c476e6da23373",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}