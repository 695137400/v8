{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "1a9ad31a_aeb56bac",
        "filename": "src/heap/cppgc/heap-base.cc",
        "patchSetId": 4
      },
      "lineNbr": 92,
      "author": {
        "id": 1131764
      },
      "writtenOn": "2020-10-19T09:50:13Z",
      "side": 0,
      "message": "UBSAN didn\u0027t like running unified heap with a regular cppgc::Visitor, because we cast it to JSVisitor (UB) when encountering a Trace() for JSMemberBase.",
      "range": {
        "startLine": 92,
        "startChar": 2,
        "endLine": 92,
        "endChar": 17
      },
      "revId": "853c17a96631ed63a4c918c415c1631a85e49a80",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "27bddff3_174e4ab8",
        "filename": "src/heap/cppgc/heap-base.cc",
        "patchSetId": 4
      },
      "lineNbr": 92,
      "author": {
        "id": 1356087
      },
      "writtenOn": "2020-10-19T12:35:58Z",
      "side": 0,
      "message": "Why is it safe to cast it in the Trace method but not here?",
      "parentUuid": "1a9ad31a_aeb56bac",
      "range": {
        "startLine": 92,
        "startChar": 2,
        "endLine": 92,
        "endChar": 17
      },
      "revId": "853c17a96631ed63a4c918c415c1631a85e49a80",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "63b9fbe1_894b213b",
        "filename": "src/heap/cppgc/heap-base.cc",
        "patchSetId": 4
      },
      "lineNbr": 92,
      "author": {
        "id": 1131764
      },
      "writtenOn": "2020-10-20T09:26:11Z",
      "side": 0,
      "message": "I am not sure I can follow.\n\nIn the API\u0027s Trace method we cast to JSVisitor, which means that we must have invoked the visitation pass with an instance of JSVisitor. The current version on TOT invokes it with a regular Visitor which is why we invoke a random method.",
      "parentUuid": "27bddff3_174e4ab8",
      "range": {
        "startLine": 92,
        "startChar": 2,
        "endLine": 92,
        "endChar": 17
      },
      "revId": "853c17a96631ed63a4c918c415c1631a85e49a80",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}