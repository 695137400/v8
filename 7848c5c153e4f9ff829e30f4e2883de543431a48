{
  "comments": [
    {
      "key": {
        "uuid": "47131aa8_a6dc0301",
        "filename": "src/wasm/function-body-decoder-impl.h",
        "patchSetId": 3
      },
      "lineNbr": 145,
      "author": {
        "id": 1177599
      },
      "writtenOn": "2020-06-30T09:44:14Z",
      "side": 1,
      "message": "Uhh, macros within macros which take other macros as parameter?\nThis style was used a lot in the past, and in one of our last retrospectives we (the whole v8 team) decided to move away from macros, i.e. try to avoid them where possible, or only use them for trivial stuff.\nThe main problem I see here is that compile errors get pretty useless and debugging gets really hard, because you can\u0027t step through the code within the macros.\n\nI think these macros can be avoided by having a few simple helper functions, like\nbool IsSimpleHeapTypeCode(int64_t); // or uint8_t?\nWasmFeature GetFeatureForHeapType(ValueTypeCode);\nconst char* GetFeatureName(WasmFeature);\n\nCan you try to refactor accordingly?",
      "revId": "7848c5c153e4f9ff829e30f4e2883de543431a48",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "33d6a518_a93d9ba8",
        "filename": "src/wasm/function-body-decoder-impl.h",
        "patchSetId": 3
      },
      "lineNbr": 145,
      "author": {
        "id": 1411293
      },
      "writtenOn": "2020-06-30T10:14:57Z",
      "side": 1,
      "message": "Those things can be factored out for sure, what is harder is that I do not want to return an error value from a function, only to have to check later and translate it to the \u0027local\u0027 error value.",
      "parentUuid": "47131aa8_a6dc0301",
      "revId": "7848c5c153e4f9ff829e30f4e2883de543431a48",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8562afcf_c13518bc",
        "filename": "src/wasm/function-body-decoder-impl.h",
        "patchSetId": 3
      },
      "lineNbr": 145,
      "author": {
        "id": 1411293
      },
      "writtenOn": "2020-06-30T11:25:38Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "33d6a518_a93d9ba8",
      "revId": "7848c5c153e4f9ff829e30f4e2883de543431a48",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}