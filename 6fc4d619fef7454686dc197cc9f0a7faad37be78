{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "74cbff00_0a9aecb0",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 4
      },
      "lineNbr": 0,
      "author": {
        "id": 1374077
      },
      "writtenOn": "2023-07-19T10:04:43Z",
      "side": 1,
      "message": "PTAL, thanks",
      "revId": "6fc4d619fef7454686dc197cc9f0a7faad37be78",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "c7ffd942_932a237b",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 4
      },
      "lineNbr": 0,
      "author": {
        "id": 1535927
      },
      "writtenOn": "2023-07-20T08:11:24Z",
      "side": 1,
      "message": "LGTM :)",
      "revId": "6fc4d619fef7454686dc197cc9f0a7faad37be78",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "fc81b3bd_d1ee86a6",
        "filename": "src/compiler/backend/instruction-selector-adapter.h",
        "patchSetId": 4
      },
      "lineNbr": 783,
      "author": {
        "id": 1535927
      },
      "writtenOn": "2023-07-20T08:11:24Z",
      "side": 1,
      "message": "TODO(name) maybe?",
      "range": {
        "startLine": 783,
        "startChar": 57,
        "endLine": 783,
        "endChar": 62
      },
      "revId": "6fc4d619fef7454686dc197cc9f0a7faad37be78",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "91a9747d_de32f4d7",
        "filename": "src/compiler/backend/instruction-selector-adapter.h",
        "patchSetId": 4
      },
      "lineNbr": 783,
      "author": {
        "id": 1374077
      },
      "writtenOn": "2023-07-20T14:36:06Z",
      "side": 1,
      "message": "Moved the `use_map_` into the `InstructionSelectorT` to avoid instantiating it multiple times (e.g. `OperandGeneratorT` inherits from the `TurboshaftAdapter`, too).",
      "parentUuid": "fc81b3bd_d1ee86a6",
      "range": {
        "startLine": 783,
        "startChar": 57,
        "endLine": 783,
        "endChar": 62
      },
      "revId": "6fc4d619fef7454686dc197cc9f0a7faad37be78",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "b543790e_ceb7654d",
        "filename": "src/compiler/backend/instruction-selector-adapter.h",
        "patchSetId": 4
      },
      "lineNbr": 783,
      "author": {
        "id": 1535927
      },
      "writtenOn": "2023-07-20T15:04:53Z",
      "side": 1,
      "message": "Acknowledged",
      "parentUuid": "91a9747d_de32f4d7",
      "range": {
        "startLine": 783,
        "startChar": 57,
        "endLine": 783,
        "endChar": 62
      },
      "revId": "6fc4d619fef7454686dc197cc9f0a7faad37be78",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "9cfb8d68_73cedcb5",
        "filename": "src/compiler/turboshaft/use-map.cc",
        "patchSetId": 4
      },
      "lineNbr": 27,
      "author": {
        "id": 1535927
      },
      "writtenOn": "2023-07-20T08:11:24Z",
      "side": 1,
      "message": "Could you make this a private function in UseMap rather than a lambda?",
      "range": {
        "startLine": 13,
        "startChar": 2,
        "endLine": 27,
        "endChar": 4
      },
      "revId": "6fc4d619fef7454686dc197cc9f0a7faad37be78",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "b146461b_0830a9a4",
        "filename": "src/compiler/turboshaft/use-map.cc",
        "patchSetId": 4
      },
      "lineNbr": 27,
      "author": {
        "id": 1374077
      },
      "writtenOn": "2023-07-20T14:36:06Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "9cfb8d68_73cedcb5",
      "range": {
        "startLine": 13,
        "startChar": 2,
        "endLine": 27,
        "endChar": 4
      },
      "revId": "6fc4d619fef7454686dc197cc9f0a7faad37be78",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "731ff176_9b9011fc",
        "filename": "src/compiler/turboshaft/use-map.cc",
        "patchSetId": 4
      },
      "lineNbr": 29,
      "author": {
        "id": 1535927
      },
      "writtenOn": "2023-07-20T08:11:24Z",
      "side": 1,
      "message": "Alternatively, you could get rid of this vector by revisiting the Phis of the loop header when you see the backedge (ie, when you see a GotoOp(dst) where dst.last_predecessor \u003d\u003d current_block). (we have the properties that Phis are always at the beginning of a block, so this should be cheap)",
      "range": {
        "startLine": 29,
        "startChar": 2,
        "endLine": 29,
        "endChar": 60
      },
      "revId": "6fc4d619fef7454686dc197cc9f0a7faad37be78",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "81931a11_5e254143",
        "filename": "src/compiler/turboshaft/use-map.cc",
        "patchSetId": 4
      },
      "lineNbr": 29,
      "author": {
        "id": 1374077
      },
      "writtenOn": "2023-07-20T14:36:06Z",
      "side": 1,
      "message": "I think this is the cleaner way as we don\u0027t have to check for all the conditions to identify the back edge (operation is Goto, destination is loop, destination index is \u003c\u003d current index). But I don\u0027t have a strong opinion against changing it.",
      "parentUuid": "731ff176_9b9011fc",
      "range": {
        "startLine": 29,
        "startChar": 2,
        "endLine": 29,
        "endChar": 60
      },
      "revId": "6fc4d619fef7454686dc197cc9f0a7faad37be78",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "73bb9189_8e767c25",
        "filename": "src/compiler/turboshaft/use-map.cc",
        "patchSetId": 4
      },
      "lineNbr": 29,
      "author": {
        "id": 1535927
      },
      "writtenOn": "2023-07-20T15:04:53Z",
      "side": 1,
      "message": "It was just to get rid of this std::vector, no strong opinion either way. Using a vector does look indeed a bit simpler I\u0027d say. Actually, maybe a base::SmallVector\u003c64\u003e could be already a bit better?",
      "parentUuid": "81931a11_5e254143",
      "range": {
        "startLine": 29,
        "startChar": 2,
        "endLine": 29,
        "endChar": 60
      },
      "revId": "6fc4d619fef7454686dc197cc9f0a7faad37be78",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "8482cb8f_f119c29e",
        "filename": "src/compiler/turboshaft/use-map.h",
        "patchSetId": 4
      },
      "lineNbr": 11,
      "author": {
        "id": 1535927
      },
      "writtenOn": "2023-07-20T08:11:24Z",
      "side": 1,
      "message": "Please add a comment explaining what a UseMap is. (well, sounds kinda obvious what it is, but still, a short comment can\u0027t hurt! :) )",
      "revId": "6fc4d619fef7454686dc197cc9f0a7faad37be78",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "4bb60698_862a756a",
        "filename": "src/compiler/turboshaft/use-map.h",
        "patchSetId": 4
      },
      "lineNbr": 11,
      "author": {
        "id": 1374077
      },
      "writtenOn": "2023-07-20T14:36:06Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "8482cb8f_f119c29e",
      "revId": "6fc4d619fef7454686dc197cc9f0a7faad37be78",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}