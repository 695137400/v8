{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "14a71f03_c96cd33b",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 9
      },
      "lineNbr": 0,
      "author": {
        "id": 1362925
      },
      "writtenOn": "2021-08-20T15:58:07Z",
      "side": 1,
      "message": "I think what\u0027s going on is that this CL actually exposes atomic stores to TSAN, thus making tests even slower. Before this CL, the codegen for atomic stores and atomic exchanges were shared, and the atomic exchange codegen didn\u0027t have the TSAN stubs. I\u0027ll ",
      "revId": "d2789be68e1ce42c4e1de46735ee9b02f1518ed1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "e478084e_900976e8",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 9
      },
      "lineNbr": 0,
      "author": {
        "id": 1362925
      },
      "writtenOn": "2021-08-20T15:58:28Z",
      "side": 1,
      "message": "Oops, didn\u0027t finish typing! I\u0027ll take a look at if we can split up the test or something.",
      "parentUuid": "14a71f03_c96cd33b",
      "revId": "d2789be68e1ce42c4e1de46735ee9b02f1518ed1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "02ef8810_d1c37beb",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 9
      },
      "lineNbr": 0,
      "author": {
        "id": 1362925
      },
      "writtenOn": "2021-08-20T16:29:16Z",
      "side": 1,
      "message": "Ah wait, no, this approach of re-performing the store is wildly unsafe unless the whole thing is locked! You can\u0027t duplicate an atomic store, which is causing futex tests to iloop since they tend to do a cmpxchg in a busy loop in one thread and a store in a busy loop in another thread.\n\nHm, we need to rethink our approach, like replacing the actual store with a call to the OOL stub, but we can\u0027t duplicate.",
      "revId": "d2789be68e1ce42c4e1de46735ee9b02f1518ed1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}