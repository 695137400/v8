{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "84283be4_c69cac3f",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 6
      },
      "lineNbr": 0,
      "author": {
        "id": 1453398
      },
      "writtenOn": "2024-09-27T12:21:26Z",
      "side": 1,
      "message": "Hello, this CL introduce some endianess issue on s390x native. Here\u0027s a sample gdb backtrace from command \"/workdir/v8/out/s390x.debug/d8 --test test/wasm-spec-tests/tests/proposals/memory64/memory_grow64.js --random-seed\u003d-1350636072 --nohard-abort --testing-d8-test-runner --exper\nimental-wasm-memory64 --predictable\":\n\n(gdb) bt\n#0  v8::internal::MarkingHelper::ShouldMarkObject (heap\u003d0x2aa000d5388, object\u003d...) at ../../src/heap/marking-inl.h:272\n#1  0x000003fffb30dec0 in v8::internal::MarkingVisitorBase\u003cv8::internal::MainMarkingVisitor\u003e::ProcessStrongHeapObject\u003cv8::internal::FullHeapObjectSlot\u003e (this\u003d0x2aa00184380, host\u003d..., \n    slot\u003d..., heap_object\u003d...) at ../../src/heap/marking-visitor-inl.h:65\n#2  0x000003fffb310e38 in v8::internal::MarkingVisitorBase\u003cv8::internal::MainMarkingVisitor\u003e::VisitPointersImpl\u003cv8::internal::FullObjectSlot\u003e (end\u003d..., start\u003d..., host\u003d..., \n    this\u003d0x3fffd58b980) at ../../src/objects/slots.h:84\n#3  v8::internal::MarkingVisitorBase\u003cv8::internal::MainMarkingVisitor\u003e::VisitPointers (end\u003d..., start\u003d..., host\u003d..., this\u003d0x3fffd58b980) at ../../src/heap/marking-visitor.h:116\n#4  v8::internal::BodyDescriptorBase::IteratePointers\u003cv8::internal::MainMarkingVisitor\u003e (obj\u003d..., start_offset\u003d\u003coptimized out\u003e, start_offset@entry\u003d8, end_offset\u003dend_offset@entry\u003d56, \n    v\u003d0x3fffd58b980, v@entry\u003d0x2aa00184380) at ../../src/objects/objects-body-descriptors-inl.h:194\n#5  0x000003fffb315810 in v8::internal::JSObject::FastBodyDescriptor::IterateBody\u003cv8::internal::MainMarkingVisitor\u003e (v\u003d0x2aa00184380, object_size\u003d56, obj\u003d..., map\u003d...)\n    at ../../src/objects/objects-body-descriptors-inl.h:335\n#6  v8::internal::HeapVisitor\u003cint, v8::internal::MainMarkingVisitor\u003e::VisitJSObjectSubclass\u003cv8::internal::JSObject, v8::internal::JSObject::FastBodyDescriptor\u003e (this\u003d0x2aa00184380, map\u003d..., \n    object\u003d...) at ../../src/heap/objects-visiting-inl.h:277\n#7  0x000003fffb320c2c in v8::internal::HeapVisitor\u003cint, v8::internal::MainMarkingVisitor\u003e::VisitJSObjectFast (object\u003d..., map\u003d..., this\u003d\u003coptimized out\u003e)\n    at ../../src/heap/objects-visiting-inl.h:239\n#8  0x000003fffb323b0e in v8::internal::MarkCompactCollector::ProcessMarkingWorklist (this\u003d0x2aa00134e50, max_duration\u003d..., max_bytes_to_process\u003d\u003coptimized out\u003e, \n    max_bytes_to_process@entry\u003d65536, mode\u003dmode@entry\u003dv8::internal::MarkCompactCollector::MarkingWorklistProcessingMode::kDefault)\n    at /opt/rh/gcc-toolset-12/root/usr/include/c++/12/bits/unique_ptr.h:191\n#9  0x000003fffb2c68b2 in v8::internal::IncrementalMarking::Step (this\u003dthis@entry\u003d0x2aa001355f0, max_duration\u003d..., max_bytes_to_process\u003d65536, \n    step_origin\u003dstep_origin@entry\u003dv8::internal::StepOrigin::kV8) at ../../src/heap/incremental-marking.cc:951\n#10 0x000003fffb2c7ec8 in v8::internal::IncrementalMarking::AdvanceOnAllocation (this\u003d0x2aa001355f0) at ../../src/heap/incremental-marking.cc:849\n#11 0x000003fffb2c810c in v8::internal::IncrementalMarking::AdvanceAndFinalizeIfNecessary (this\u003d0x2aa001355f0) at ../../src/heap/incremental-marking.cc:816\n#12 0x000003fffb2bf1c2 in v8::internal::Heap::HandleExternalMemoryInterrupt (this\u003d0x2aa000d5388) at ../../src/heap/heap.cc:1551\n#13 0x000003fffaccf5f0 in v8::Isolate::HandleExternalMemoryInterrupt (this\u003d\u003coptimized out\u003e) at ../../src/api/api.cc:9594\n#14 0x000003fffacd03c6 in v8::Isolate::AdjustAmountOfExternalAllocatedMemory (this\u003d0x2aa000c7000, change_in_bytes\u003d145) at ../../src/api/api.cc:10314\n#15 0x000003fffada30f8 in v8::internal::(anonymous namespace)::ConstructBuffer (isolate\u003disolate@entry\u003d0x2aa000c7000, target\u003d..., target@entry\u003d..., new_target\u003d..., new_target@entry\u003d..., \n    length\u003d..., length@entry\u003d..., max_length\u003d..., initialized\u003dv8::internal::InitializedFlag::kZeroInitialized) at /opt/rh/gcc-toolset-12/root/usr/include/c++/12/bits/shared_ptr_base.h:1765\n#16 0x000003fffada3bde in v8::internal::Builtin_Impl_ArrayBufferConstructor (args\u003d..., isolate\u003disolate@entry\u003d0x2aa000c7000) at ../../src/builtins/builtins-arraybuffer.cc:150\n#17 0x000003fffada438a in v8::internal::Builtin_ArrayBufferConstructor (args_length\u003d\u003coptimized out\u003e, args_object\u003d0x3ffffffd7d0, isolate\u003d0x2aa000c7000)\n    at ../../src/builtins/builtins-arraybuffer.cc:116\n#18 0x000003fffa5af7b0 in Builtins_CEntry_Return1_ArgvOnStack_BuiltinExit () at ../../src/builtins/torque-internal.tq:113\n#19 0x000003fffa257140 in Builtins_JSBuiltinsConstructStub () at ../../src/builtins/ic.tq:42\nPC not saved\n(gdb) \n\nDo you have any insides? Thanks.",
      "revId": "a63717c92489db58b908b7a6f9a2e872625c4c05",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}