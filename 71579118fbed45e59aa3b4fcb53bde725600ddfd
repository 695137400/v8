{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "33efc785_53f38014",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1175774
      },
      "writtenOn": "2020-12-01T15:14:15Z",
      "side": 1,
      "message": "+2 with some optimism that bots will be happy.",
      "revId": "71579118fbed45e59aa3b4fcb53bde725600ddfd",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "411c722e_d14a02ac",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1175774
      },
      "writtenOn": "2020-12-01T15:15:42Z",
      "side": 1,
      "message": "Oops, thought I had an lgtm ðŸ˜‚",
      "revId": "71579118fbed45e59aa3b4fcb53bde725600ddfd",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "a4c97059_286dba6f",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1119597
      },
      "writtenOn": "2020-12-01T15:25:04Z",
      "side": 1,
      "message": "lgtm with comment",
      "revId": "71579118fbed45e59aa3b4fcb53bde725600ddfd",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "bc77c11f_4705776a",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1327869
      },
      "writtenOn": "2020-12-01T15:33:32Z",
      "side": 1,
      "message": "LGTM, thanks!",
      "revId": "71579118fbed45e59aa3b4fcb53bde725600ddfd",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "3d414793_d554db43",
        "filename": "src/compiler/js-heap-broker.cc",
        "patchSetId": 2
      },
      "lineNbr": 2310,
      "author": {
        "id": 1119597
      },
      "writtenOn": "2020-12-01T15:25:04Z",
      "side": 1,
      "message": "I think this should only return true for kSerializedHeapObject (it\u0027s possible that we currently don\u0027t happen to call it on an kUnserializedReadOnlyHeapObject but I don\u0027t want to rely on that).\n\nIs the broker mode condition needed (I\u0027m not sure)? If not then please just  check the object kind to be kSerializedHeapObject and name the function IsSerializedHeapObject, analogous to IsNeverSerializedHeapObject above.",
      "revId": "71579118fbed45e59aa3b4fcb53bde725600ddfd",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "1c08fe9c_5efce953",
        "filename": "src/compiler/js-heap-broker.cc",
        "patchSetId": 2
      },
      "lineNbr": 2310,
      "author": {
        "id": 1175774
      },
      "writtenOn": "2020-12-01T15:31:09Z",
      "side": 1,
      "message": "Both conditions are necessary. We need to make sure that this is a) a stage where we are expecting to have serialized the objects we need, and b) this is an object that requires serialization to be accessed. The broker check does a). For b), if I checked for kSerializedHeapObject, then I\u0027d explicitly miss serializable objects in the kUnserializedHeapObject state, which are precisely the ones we need to alert for.\n\nWe could change this check to kSerializedHeapObject || kUnserializedHeapObject, I think that would be slightly more precise?",
      "parentUuid": "3d414793_d554db43",
      "revId": "71579118fbed45e59aa3b4fcb53bde725600ddfd",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "366350b9_00df6aa6",
        "filename": "src/compiler/js-heap-broker.cc",
        "patchSetId": 2
      },
      "lineNbr": 2310,
      "author": {
        "id": 1119597
      },
      "writtenOn": "2020-12-01T15:53:41Z",
      "side": 1,
      "message": "I don\u0027t think \"serializable objects in the kUnserializedHeapObject state\" are the prime objects for which we need to alert. Those of kind SerializedHeapObject who are missing certain data are. I don\u0027t remember if kUnserializedHeapObject can even occur when the broker is in mode Serialized.\n\nI did a quick experiment running with my proposed definition of just\n  return data()-\u003ekind() \u003d\u003d kSerializedHeapObject;\nI got no failures on mjsunit.\n\n(Except one failure that occurs already in your CL, regress-4023.)",
      "parentUuid": "1c08fe9c_5efce953",
      "revId": "71579118fbed45e59aa3b4fcb53bde725600ddfd",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}