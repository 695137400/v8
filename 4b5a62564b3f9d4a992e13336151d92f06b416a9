{
  "comments": [
    {
      "key": {
        "uuid": "3220bb0a_1327ece8",
        "filename": "src/debug/debug.cc",
        "patchSetId": 25
      },
      "lineNbr": 43,
      "author": {
        "id": 1118373
      },
      "writtenOn": "2018-03-30T20:07:28Z",
      "side": 1,
      "message": "Since we don\u0027t get an event for objects that are garbage-collected, could we run into the situation like this?\n- we allocate a temporary object\n- remember its address\n- the object dies\n- we move an existing object to its address during GC\n- the non-temporary object is now considered a temporary object\n\nIt sounds actually easier to me to record every object we have here into a list, then have GC visit that list as strong root so that we correctly track relocation, and prevent dead objects. Alternatively, we could use weak references for this list, so that we do not hold objects alive unnecessarily.",
      "range": {
        "startLine": 43,
        "startChar": 62,
        "endLine": 43,
        "endChar": 68
      },
      "revId": "4b5a62564b3f9d4a992e13336151d92f06b416a9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e18be28f_c00f4405",
        "filename": "src/debug/debug.cc",
        "patchSetId": 25
      },
      "lineNbr": 43,
      "author": {
        "id": 1125920
      },
      "writtenOn": "2018-03-30T21:00:18Z",
      "side": 1,
      "message": "If we move existing object in the address where we used to have temporary objects then MoveEvent will be triggered and we check first that object by old address is temporary and iff it was temporary, mark it as non temporary. So I believe that to fix your scenario inside MoveEvent method if moved object is not temporary. not just fast return but remove to address as well.",
      "parentUuid": "3220bb0a_1327ece8",
      "range": {
        "startLine": 43,
        "startChar": 62,
        "endLine": 43,
        "endChar": 68
      },
      "revId": "4b5a62564b3f9d4a992e13336151d92f06b416a9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c42c5a84_612b2d3a",
        "filename": "src/debug/debug.cc",
        "patchSetId": 25
      },
      "lineNbr": 43,
      "author": {
        "id": 1125920
      },
      "writtenOn": "2018-03-30T21:02:18Z",
      "side": 1,
      "message": "typo: \"iff it was temporary, mark new address as temporary one.\"",
      "parentUuid": "e18be28f_c00f4405",
      "range": {
        "startLine": 43,
        "startChar": 62,
        "endLine": 43,
        "endChar": 68
      },
      "revId": "4b5a62564b3f9d4a992e13336151d92f06b416a9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}