{
  "comments": [
    {
      "key": {
        "uuid": "90415caa_74898ed1",
        "filename": "src/compiler/js-call-reducer.cc",
        "patchSetId": 4
      },
      "lineNbr": 6796,
      "author": {
        "id": 1183894
      },
      "writtenOn": "2018-07-20T08:58:01Z",
      "side": 1,
      "message": "I don\u0027t think this is correct: The LoadElement below (or the newly added LoadDataViewElement) passes a Word32 truncation for the index argument, which means that any non word32 value coming out of this NumberAdd is truncated to word32 range. That means your accesses on large DataViews would wrap around instead of reading the correct bits. I suspect we need to have a SpeculativeNumberAdd here.\n\nCan you follow up on this with Jaro and Sigurd?",
      "revId": "249f6069b6f23a7527e589bcda8f7090c5229a35",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5031d5b1_91496317",
        "filename": "src/compiler/js-call-reducer.cc",
        "patchSetId": 4
      },
      "lineNbr": 6796,
      "author": {
        "id": 1284072
      },
      "writtenOn": "2018-07-20T09:24:49Z",
      "side": 1,
      "message": "I believe we enforce that all ArrayBuffers have a length that fits on 32 bits, so this should never overflow for valid reads and throw before otherwise.",
      "parentUuid": "90415caa_74898ed1",
      "revId": "249f6069b6f23a7527e589bcda8f7090c5229a35",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a92a5d79_5469b644",
        "filename": "src/compiler/js-call-reducer.cc",
        "patchSetId": 4
      },
      "lineNbr": 6796,
      "author": {
        "id": 1183894
      },
      "writtenOn": "2018-07-20T09:31:17Z",
      "side": 1,
      "message": "No. ArrayBuffers can (in V8) have arbitrary size, up to size_t. The embedder might limit that, but that\u0027s outside our control.",
      "parentUuid": "5031d5b1_91496317",
      "revId": "249f6069b6f23a7527e589bcda8f7090c5229a35",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a2a0e12d_4b6c6daa",
        "filename": "src/compiler/js-call-reducer.cc",
        "patchSetId": 4
      },
      "lineNbr": 6796,
      "author": {
        "id": 1284072
      },
      "writtenOn": "2018-07-20T11:01:49Z",
      "side": 1,
      "message": "Ok, so I know where this comes from. When porting to Torque, the only ToIndex function that I found was ToSmiIndex so this restricted the values.\nIt\u0027s also used in TypedArrayBuiltinsAssembler::ConstructByArrayBuffer, and in SharedArrayBuffer (see https://cs.chromium.org/chromium/src/v8/src/builtins/builtins-sharedarraybuffer-gen.cc?g\u003d0\u0026l\u003d93), what do you think?",
      "parentUuid": "a92a5d79_5469b644",
      "revId": "249f6069b6f23a7527e589bcda8f7090c5229a35",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}