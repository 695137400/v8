{
  "comments": [
    {
      "key": {
        "uuid": "a8119433_e435aec6",
        "filename": "src/compiler/effect-control-linearizer.cc",
        "patchSetId": 2
      },
      "lineNbr": 4478,
      "author": {
        "id": 1327869
      },
      "writtenOn": "2019-11-28T13:50:16Z",
      "side": 1,
      "message": "Why is the truncation needed for MIPS? The trunctation that was removed had nothing to do with pointer compression. It was not needed.\n\nIf we want to keep this, the if guard can be replaced with\nif (machine()-\u003eIs64() \u0026\u0026 !COMPRESS_POINTERS_BOOL)",
      "range": {
        "startLine": 4478,
        "startChar": 0,
        "endLine": 4478,
        "endChar": 68
      },
      "revId": "55faa0e35cd964d8b3b579ce91e48bad417ef28b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d17c7e2e_84b90113",
        "filename": "src/compiler/effect-control-linearizer.cc",
        "patchSetId": 2
      },
      "lineNbr": 4478,
      "author": {
        "id": 1378037
      },
      "writtenOn": "2019-11-29T09:33:44Z",
      "side": 1,
      "message": "Thanks for your reply!\nAccording to my test on mips64el, the truncation is indeed needed, some tests in mjsunit will fail without the truncation.\nI thought it\u0027s related with pointer compression because I misunderstood the ported patch, and \nthought the truncation was removed because the the new added kWord32And in MarkNodeInputs.\nCurrently I have no idea why mips64 behaves differently from other platforms.",
      "parentUuid": "a8119433_e435aec6",
      "range": {
        "startLine": 4478,
        "startChar": 0,
        "endLine": 4478,
        "endChar": 68
      },
      "revId": "55faa0e35cd964d8b3b579ce91e48bad417ef28b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "bfe34243_55f0a519",
        "filename": "src/compiler/effect-control-linearizer.cc",
        "patchSetId": 2
      },
      "lineNbr": 4478,
      "author": {
        "id": 1327869
      },
      "writtenOn": "2019-11-29T10:17:49Z",
      "side": 1,
      "message": "In the previous patch the truncation was remove since it wasn\u0027t needed. The 32 bits operations below don\u0027t operate on the full 64 bits.\n\nHave you tested and it\u0027s only needed for non pointer compression? The if before was only considering whether the arch was 64 bits. There was no indication that pointer compression would behave differently than non pointer compression\n\nThe truncate feeds into Word32And. Is Word32And only looking at the bottom 32 bits? or the whole 64 bits?\nSame for Word32Equal.",
      "parentUuid": "d17c7e2e_84b90113",
      "range": {
        "startLine": 4478,
        "startChar": 0,
        "endLine": 4478,
        "endChar": 68
      },
      "revId": "55faa0e35cd964d8b3b579ce91e48bad417ef28b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}