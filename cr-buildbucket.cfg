# Defines buckets on cr-buildbucket.appspot.com, used to schedule builds
# on buildbot. In particular, CQ uses some of these buckets to schedule tryjobs.
#
# See http://luci-config.appspot.com/schemas/projects:buildbucket.cfg for
# schema of this file and documentation.
#
# Please keep this list sorted by bucket name.

acl_sets {
  name: "waterfall"
  acls {
    role: READER
    group: "all"
  }
  acls {
    role: SCHEDULER
    group: "service-account-v8-bot"
  }
  acls {
    role: SCHEDULER
    identity: "luci-scheduler@appspot.gserviceaccount.com"
  }
  acls {
    role: SCHEDULER
    identity: "v8-ci-builder@chops-service-accounts.iam.gserviceaccount.com"
  }
  acls {
    role: WRITER
    identity: "luci-migration@appspot.gserviceaccount.com"
  }
}

acl_sets {
  name: "tryserver"
  acls {
    role: READER
    group: "all"
  }
  acls {
    role: SCHEDULER
    group: "service-account-cq"
  }
  acls {
    role: SCHEDULER
    group: "project-v8-tryjob-access"
  }
  acls {
    role: SCHEDULER
    group: "service-account-v8-bot"
  }
  acls {
    # To trigger v8_verify_flakes.
    role: SCHEDULER
    identity: "luci-scheduler@appspot.gserviceaccount.com"
  }
  acls {
    role: WRITER
    identity: "luci-migration@appspot.gserviceaccount.com"
  }
}

builder_mixins {
  name: "linux64"
  dimensions: "cpu:x86-64"
  dimensions: "os:Ubuntu-14.04"
}

builder_mixins {
  name: "linux64-xenial"
  dimensions: "cpu:x86-64"
  dimensions: "os:Ubuntu-16.04"
}

builder_mixins {
  name: "win64"
  dimensions: "cpu:x86-64"
  dimensions: "os:Windows-10"
}

builder_mixins {
  name: "mac64"
  dimensions: "cpu:x86-64"
  dimensions: "os:Mac-10.13"
  caches {
    # Cache for mac_toolchain tool and XCode.app
    name: "osx_sdk"
    path: "osx_sdk"
  }
}

builder_mixins {
  name: "no-builder-cache-affinity"
  caches {
    name: "v8_builder_cache_nowait"
    path: "builder"
    wait_for_warm_cache_secs: 0
  }
}

builder_mixins {
  name: "ci-multibot"
  dimensions: "host_class:multibot"
  mixins: "no-builder-cache-affinity"
}

builder_mixins {
  name: "master-client-v8"
  recipe {
    properties: "mastername:client.v8"
  }
}

builder_mixins {
  name: "master-client-v8-ports"
  recipe {
    properties: "mastername:client.v8.ports"
  }
}

builder_mixins {
  name: "master-client-v8-fyi"
  recipe {
    properties: "mastername:client.v8.fyi"
  }
}

builder_mixins {
  name: "master-client-v8-clusterfuzz"
  recipe {
    properties: "mastername:client.v8.clusterfuzz"
  }
}

builder_mixins {
  name: "master-client-v8-chromium"
  recipe {
    properties: "mastername:client.v8.chromium"
  }
}

builder_mixins {
  name: "master-client-v8-branches"
  execution_timeout_secs: 21600  # 6 hours
  recipe {
    properties: "mastername:client.v8.branches"
  }
}

builder_mixins {
  name: "master-client-v8-official"
  recipe {
    properties: "mastername:client.v8.official"
  }
}

builder_mixins {
  name: "recipe-chromium"
  recipe {
    name: "chromium"
  }
}

builder_mixins {
  name: "recipe-lkgr-finder"
  recipe {
    cipd_package: "infra/recipe_bundles/chromium.googlesource.com/infra/infra"
    cipd_version: "refs/heads/master"
    name: "lkgr_finder"
    properties: "lkgr_project:v8"
    properties_j: "allowed_lag:4"
  }
}

builder_mixins {
  name: "recipe-v8-archive"
  recipe {
    name: "v8/archive"
  }
}

builder_mixins {
  name: "recipe-v8-auto-tag"
  recipe {
    name: "v8/auto_tag"
  }
}

builder_mixins {
  name: "recipe-v8-auto-roll-push"
  recipe {
    name: "v8/auto_roll_push"
  }
}

builder_mixins {
  name: "recipe-v8-auto-roll-deps"
  recipe {
    name: "v8/auto_roll_deps"
  }
}

builder_mixins {
  name: "recipe-v8-auto-roll-v8-deps"
  recipe {
    name: "v8/auto_roll_v8_deps"
  }
}

builder_mixins {
  name: "recipe-v8-auto-roll-release-process"
  recipe {
    name: "v8/auto_roll_release_process"
  }
}

builder_mixins {
  name: "recipe-chromium-depsbot"
  recipe {
    name: "chromium_depsbot"
  }
}

builder_mixins {
  name: "recipe-blink-downstream"
  recipe {
    name: "blink_downstream"
  }
}

builder_mixins {
  name: "recipe-v8-flako"
  recipe {
    name: "v8/flako"
  }
}

builder_mixins {
  name: "recipe-v8-verify-flakes"
  recipe {
    name: "v8/verify_flakes"
  }
}

builder_mixins {
  name: "recipe-v8-node-integration-ng"
  recipe {
    name: "v8/node_integration_ng"
    properties_j: "v8_tot:true"
  }
}

builder_mixins {
  name: "recipe-v8-presubmit"
  recipe {
    name: "v8/presubmit"
  }
}

builder_mixins {
  name: "recipe-android-builder"
  recipe {
    name: "android/builder"
  }
}

builder_mixins {
  name: "autoroll-service-account"
  service_account: "v8-ci-autoroll-builder@chops-service-accounts.iam.gserviceaccount.com"
}

builder_mixins {
  name: "fyi-timeout"
  execution_timeout_secs: 19800  # 5.5 hours
}

# Recipe configuration mixins.

# Build config.

builder_mixins {
  name: "release"
  recipe {
    properties: "build_config:Release"
  }
}

builder_mixins {
  name: "debug"
  recipe {
    properties: "build_config:Debug"
  }
}

# Target architecture. Not specifying target_arch defaults to intel.

builder_mixins {
  name: "target-arch-arm"
  recipe {
    properties: "target_arch:arm"
  }
}

builder_mixins {
  name: "target-arch-mips"
  recipe {
    properties: "target_arch:mips"
  }
}

# Target bits.

builder_mixins {
  name: "target-bits-32"
  recipe {
    properties_j: "target_bits:32"
  }
}

builder_mixins {
  name: "target-bits-64"
  recipe {
    properties_j: "target_bits:64"
  }
}

# Target platform.

builder_mixins {
  name: "target-platform-android"
  recipe {
    properties: "target_platform:android"
  }
}

builder_mixins {
  name: "target-platform-fuchsia"
  recipe {
    properties: "target_platform:fuchsia"
  }
}

builder_mixins {
  name: "target-platform-ios"
  recipe {
    properties: "target_platform:ios"
  }
}

# Gclient variables.

builder_mixins {
  name: "download-gcmole"
  recipe {
    properties: "set_gclient_var:download_gcmole"
  }
}

builder_mixins {
  name: "download-jsfunfuzz"
  recipe {
    properties: "set_gclient_var:download_jsfunfuzz"
  }
}

builder_mixins {
  name: "download-mips-toolchain"
  recipe {
    properties: "set_gclient_var:download_mips_toolchain"
  }
}

builder_mixins {
  name: "checkout-instrumented-libraries"
  recipe {
    properties: "set_gclient_var:checkout_instrumented_libraries"
  }
}

# Other recipe properties.

builder_mixins {
  name: "default-target-clusterfuzz"
  recipe {
    properties_j: "default_targets:[\"v8_clusterfuzz\"]"
  }
}

builder_mixins {
  name: "clobber"
  recipe {
    properties_j: "clobber:true"
  }
}

builder_mixins {
  name: "disable_swarming"
  recipe {
    properties_j: "enable_swarming:false"
  }
}

builder_mixins {
  name: "triggers_proxy"
  recipe {
    properties_j: "triggers_proxy:true"
  }
}

builder_mixins {
  name: "no_goma"
  recipe {
    properties_j: "use_goma:false"
  }
}

buckets {
  name: "luci.v8.ci"
  acl_sets: "waterfall"

  swarming {
    hostname: "chromium-swarm.appspot.com"
    builder_defaults {
      service_account: "v8-ci-builder@chops-service-accounts.iam.gserviceaccount.com"
      execution_timeout_secs: 7200  # 2 hours
      swarming_tags: "vpython:native-python-wrapper"
      luci_migration_host: "luci-migration.appspot.com"
      dimensions: "host_class:default"
      recipe {
        cipd_package: "infra/recipe_bundles/chromium.googlesource.com/chromium/tools/build"
        cipd_version: "refs/heads/master"
        name: "v8"
      }

      # Most of our builders require build numbers. Varios reasons include:
      #  - perf_dashboard recipe requires build numbers
      #  - v8 recipe requires build numbers, crbug.com/826399
      #  - chromium_tests recipe module uses build numbers
      build_numbers: YES
    }

    # Console: Main

    builders {
      name: "V8 Linux - builder"
      mixins: "master-client-v8"
      mixins: "linux64-xenial"
      mixins: "release"
      mixins: "download-gcmole"
      mixins: "triggers_proxy"
      dimensions: "host_class:ccompute"
      recipe {
        properties_j: "binary_size_tracking:{\"category\": \"linux32\", \"binary\": \"d8\"}"
        properties_j: "triggers:[\"V8 Linux\"]"
      }
    }

    builders {
      name: "V8 Linux - debug builder"
      mixins: "master-client-v8"
      mixins: "linux64-xenial"
      mixins: "debug"
      recipe {
        properties_j: "triggers:[\"V8 Linux - debug\", \"V8 Linux - gc stress\"]"
      }
    }

    builders {
      name: "V8 Linux - nosnap builder"
      mixins: "master-client-v8"
      mixins: "linux64-xenial"
      mixins: "release"
      recipe {
        properties_j: "triggers:[\"V8 Linux - nosnap\"]"
      }
    }

    builders {
      name: "V8 Linux - nosnap debug builder"
      mixins: "master-client-v8"
      mixins: "linux64-xenial"
      mixins: "debug"
      recipe {
        properties_j: "triggers:[\"V8 Linux - nosnap - debug\"]"
      }
    }

    builders {
      name: "V8 Linux"
      mixins: "master-client-v8"
      mixins: "ci-multibot"
    }

    builders {
      name: "V8 Linux - debug"
      mixins: "master-client-v8"
      mixins: "ci-multibot"
    }

    builders {
      name: "V8 Linux - shared"
      mixins: "master-client-v8"
      mixins: "linux64-xenial"
      mixins: "release"
      recipe {
        properties_j: "binary_size_tracking:{\"category\": \"linux32\", \"binary\": \"libv8.so\"}"
      }
    }

    builders {
      name: "V8 Linux - nosnap"
      mixins: "master-client-v8"
      mixins: "ci-multibot"
      mixins: "fyi-timeout"
    }

    builders {
      name: "V8 Linux - nosnap - debug"
      mixins: "master-client-v8"
      mixins: "ci-multibot"
      mixins: "fyi-timeout"
    }

    builders {
      name: "V8 Linux - noi18n - debug"
      mixins: "master-client-v8"
      mixins: "linux64-xenial"
      mixins: "debug"
    }

    builders {
      name: "V8 Linux - verify csa"
      mixins: "master-client-v8"
      mixins: "linux64-xenial"
      mixins: "release"
    }

    builders {
      name: "V8 Linux64 - builder"
      mixins: "master-client-v8"
      mixins: "linux64-xenial"
      mixins: "release"
      mixins: "triggers_proxy"
      recipe {
        properties_j: "binary_size_tracking:{\"category\": \"linux64\", \"binary\": \"d8\"}"
        properties_j: "track_build_dependencies:true"
        properties_j: "triggers:[\"V8 Linux64\", \"V8 Linux64 - fyi\"]"
      }
    }

    builders {
      name: "V8 Linux64 - debug builder"
      mixins: "master-client-v8"
      mixins: "linux64-xenial"
      mixins: "debug"
      mixins: "download-jsfunfuzz"
      recipe {
        properties_j: "triggers:[\"V8 Fuzzer\", \"V8 Linux64 - debug\", \"V8 Linux64 - debug - fyi\"]"
      }
    }

    builders {
      name: "V8 Linux64 - custom snapshot - debug builder"
      mixins: "master-client-v8"
      mixins: "linux64-xenial"
      mixins: "debug"
      recipe {
        properties_j: "triggers:[\"V8 Linux64 - custom snapshot - debug\", \"V8 Linux64 GC Stress - custom snapshot\"]"
      }
    }

    builders {
      name: "V8 Linux64"
      mixins: "master-client-v8"
      mixins: "ci-multibot"
    }

    builders {
      name: "V8 Linux64 - internal snapshot"
      mixins: "master-client-v8"
      mixins: "linux64-xenial"
      mixins: "release"
    }

    builders {
      name: "V8 Linux64 - debug"
      mixins: "master-client-v8"
      mixins: "ci-multibot"
    }

    builders {
      name: "V8 Linux64 - custom snapshot - debug"
      mixins: "master-client-v8"
      mixins: "ci-multibot"
    }

    builders {
      name: "V8 Linux64 - debug - header includes"
      mixins: "master-client-v8"
      mixins: "linux64-xenial"
      mixins: "debug"
      recipe {
        properties: "set_gclient_var:check_v8_header_includes"
      }
    }

    builders {
      name: "V8 Linux64 - shared"
      mixins: "master-client-v8"
      mixins: "linux64-xenial"
      mixins: "release"
    }

    builders {
      name: "V8 Linux64 - verify csa"
      mixins: "master-client-v8"
      mixins: "linux64-xenial"
      mixins: "release"
    }

    builders {
      name: "V8 Linux64 Jumbo"
      mixins: "master-client-v8"
      mixins: "linux64-xenial"
      mixins: "release"
    }

    builders {
      name: "V8 Linux64 Jumbo - debug"
      mixins: "master-client-v8"
      mixins: "linux64-xenial"
      mixins: "debug"
    }

    builders {
      name: "V8 Linux64 Jumbo - limited"
      mixins: "master-client-v8"
      mixins: "linux64-xenial"
      mixins: "release"
    }

    builders {
      name: "V8 Linux64 Jumbo - limited - debug"
      mixins: "master-client-v8"
      mixins: "linux64-xenial"
      mixins: "debug"
    }

    builders {
      name: "V8 Fuchsia"
      mixins: "master-client-v8"
      mixins: "linux64-xenial"
      mixins: "target-platform-fuchsia"
      mixins: "release"
    }

    builders {
      name: "V8 Fuchsia - debug"
      mixins: "master-client-v8"
      mixins: "linux64-xenial"
      mixins: "target-platform-fuchsia"
      mixins: "debug"
    }

    builders {
      name: "V8 Presubmit"
      mixins: "master-client-v8"
      mixins: "linux64-xenial"
      mixins: "recipe-v8-presubmit"
    }

    builders {
      name: "V8 Win32 - builder"
      mixins: "master-client-v8"
      mixins: "win64"
      mixins: "release"
      recipe {
        properties_j: "binary_size_tracking:{\"category\": \"win32\", \"binary\": \"d8.exe\"}"
        properties_j: "triggers:[\"V8 Win32\"]"
      }
    }

    builders {
      name: "V8 Win32 - debug builder"
      mixins: "master-client-v8"
      mixins: "win64"
      mixins: "debug"
      recipe {
        properties_j: "triggers:[\"V8 Win32 - debug\"]"
      }
    }

    builders {
      name: "V8 Win32"
      mixins: "master-client-v8"
      mixins: "ci-multibot"
    }

    builders {
      name: "V8 Win32 - nosnap - shared"
      mixins: "master-client-v8"
      mixins: "win64"
      mixins: "release"
    }

    builders {
      name: "V8 Win32 - debug"
      mixins: "master-client-v8"
      mixins: "ci-multibot"
    }

    builders {
      name: "V8 Win64"
      mixins: "master-client-v8"
      mixins: "win64"
      mixins: "release"
      recipe {
        properties_j: "binary_size_tracking:{\"category\": \"win64\", \"binary\": \"d8.exe\"}"
      }
    }

    builders {
      name: "V8 Win64 - debug"
      mixins: "master-client-v8"
      mixins: "win64"
      mixins: "debug"
    }

    builders {
      name: "V8 Win64 - msvc"
      mixins: "master-client-v8"
      mixins: "win64"
      mixins: "release"
    }

    builders {
      name: "V8 Mac64"
      mixins: "master-client-v8"
      mixins: "mac64"
      mixins: "release"
      recipe {
        properties_j: "binary_size_tracking:{\"category\": \"mac64\", \"binary\": \"d8\"}"
      }
    }

    builders {
      name: "V8 Mac64 - debug"
      mixins: "master-client-v8"
      mixins: "mac64"
      mixins: "debug"
    }

    builders {
      name: "V8 iOS - sim"
      mixins: "master-client-v8"
      mixins: "mac64"
      mixins: "release"
      mixins: "target-platform-ios"
    }

    builders {
      name: "V8 Linux - gc stress"
      mixins: "master-client-v8"
      mixins: "ci-multibot"
    }

    builders {
      name: "V8 Linux64 GC Stress - custom snapshot"
      mixins: "master-client-v8"
      mixins: "ci-multibot"
    }

    builders {
      name: "V8 Mac64 GC Stress"
      mixins: "master-client-v8"
      mixins: "mac64"
      mixins: "debug"
    }

    builders {
      name: "V8 Linux64 ASAN"
      mixins: "master-client-v8"
      mixins: "linux64-xenial"
      mixins: "release"
    }

    builders {
      name: "V8 Linux64 TSAN - builder"
      mixins: "master-client-v8"
      mixins: "linux64-xenial"
      mixins: "release"
      recipe {
        properties_j: "triggers:[\"V8 Linux64 TSAN\", \"V8 Linux64 TSAN - concurrent marking\", \"V8 Linux64 TSAN - isolates\"]"
      }
    }

    builders {
      name: "V8 Linux64 TSAN"
      mixins: "master-client-v8"
      mixins: "ci-multibot"
    }

    builders {
      name: "V8 Linux64 TSAN - concurrent marking"
      mixins: "master-client-v8"
      mixins: "ci-multibot"
      mixins: "fyi-timeout"
    }

    builders {
      name: "V8 Linux64 TSAN - isolates"
      mixins: "master-client-v8"
      mixins: "ci-multibot"
    }

    builders {
      name: "V8 Linux - arm64 - sim - MSAN"
      mixins: "master-client-v8"
      mixins: "linux64-xenial"
      mixins: "checkout-instrumented-libraries"
      mixins: "release"
    }

    builders {
      name: "V8 Mac64 ASAN"
      mixins: "master-client-v8"
      mixins: "mac64"
      mixins: "release"
    }

    builders {
      name: "V8 Win64 ASAN"
      mixins: "master-client-v8"
      mixins: "win64"
      mixins: "release"
    }

    builders {
      name: "V8 Fuzzer"
      mixins: "master-client-v8"
      mixins: "ci-multibot"
      mixins: "fyi-timeout"
    }

    builders {
      name: "V8 Linux gcc"
      mixins: "master-client-v8"
      mixins: "linux64-xenial"
      mixins: "release"
      recipe {
        properties: "set_gclient_var:check_v8_header_includes"
      }
    }

    builders {
      name: "V8 Linux64 gcc - debug"
      mixins: "master-client-v8"
      mixins: "linux64-xenial"
      mixins: "debug"
      recipe {
        properties: "set_gclient_var:check_v8_header_includes"
      }
    }

    builders {
      name: "V8 Linux64 - cfi"
      mixins: "master-client-v8"
      mixins: "linux64-xenial"
      mixins: "release"
    }

    builders {
      name: "V8 Linux - noembed"
      # TODO(machenbach): Switch this and other fyi builders to
      # master-client-v8-fyi. The builders are already on FYI console.
      mixins: "master-client-v8"
      mixins: "linux64-xenial"
      mixins: "release"
    }

    builders {
      name: "V8 Linux - noembed - debug"
      mixins: "master-client-v8"
      mixins: "linux64-xenial"
      mixins: "debug"
    }

    builders {
      name: "V8 Linux64 UBSan"
      mixins: "master-client-v8"
      mixins: "linux64-xenial"
      mixins: "release"
    }

    builders {
      name: "V8 Linux64 - fyi"
      mixins: "master-client-v8"
      mixins: "ci-multibot"
      mixins: "fyi-timeout"
    }

    builders {
      name: "V8 Linux64 - debug - fyi"
      mixins: "master-client-v8"
      mixins: "ci-multibot"
      mixins: "fyi-timeout"
    }

    builders {
      name: "V8 Linux64 - debug - perfetto - builder"
      mixins: "master-client-v8"
      mixins: "linux64-xenial"
      mixins: "debug"
      recipe {
        properties_j: "triggers:[\"V8 Linux64 - debug - perfetto\"]"
      }
    }

    builders {
      name: "V8 Linux64 - debug - perfetto"
      mixins: "master-client-v8"
      mixins: "ci-multibot"
      mixins: "fyi-timeout"
    }

    builders {
      name: "V8 Linux64 - pointer compression"
      mixins: "master-client-v8"
      mixins: "linux64-xenial"
      mixins: "release"
    }

    builders {
      name: "V8 Linux64 - pointer compression without dchecks"
      mixins: "master-client-v8"
      mixins: "linux64-xenial"
      mixins: "release"
      mixins: "triggers_proxy"
    }

    builders {
      name: "V8 Linux64 - arm64 - sim - pointer compression - builder"
      mixins: "master-client-v8"
      mixins: "linux64-xenial"
      mixins: "release"
      recipe {
        properties_j: "triggers:[\"V8 Linux64 - arm64 - sim - pointer compression\"]"
      }
    }

    builders {
      name: "V8 Linux64 - arm64 - sim - pointer compression"
      mixins: "master-client-v8"
      mixins: "ci-multibot"
      mixins: "fyi-timeout"
    }

    builders {
      name: "V8 Linux - vtunejit"
      mixins: "master-client-v8"
      mixins: "linux64-xenial"
      mixins: "debug"
    }

    builders {
      name: "V8 Linux64 - gcov coverage"
      mixins: "master-client-v8"
      mixins: "linux64-xenial"
      mixins: "release"
      mixins: "disable_swarming"
      mixins: "clobber"
      recipe {
        properties: "coverage:gcov"
      }
    }

    builders {
      name: "V8 Linux - predictable"
      mixins: "master-client-v8"
      mixins: "linux64-xenial"
      mixins: "release"
    }

    builders {
      name: "V8 Linux - full debug"
      mixins: "master-client-v8"
      mixins: "linux64-xenial"
      mixins: "debug"
    }

    # Console: Ports

    builders {
      name: "V8 Arm - builder"
      mixins: "target-arch-arm"
      mixins: "release"
      mixins: "master-client-v8-ports"
      mixins: "linux64-xenial"
      mixins: "triggers_proxy"
      recipe {
        properties_j: "binary_size_tracking:{\"category\": \"linux_arm32\", \"binary\": \"d8\"}"
        properties_j: "triggers:[\"V8 Arm\"]"
      }
    }

    builders {
      name: "V8 Arm - debug builder"
      mixins: "target-arch-arm"
      mixins: "debug"
      mixins: "master-client-v8-ports"
      mixins: "linux64-xenial"
      recipe {
        properties_j: "triggers:[\"V8 Arm - debug\", \"V8 Arm GC Stress\"]"
      }
    }

    builders {
      name: "V8 Android Arm - builder"
      mixins: "target-platform-android"
      mixins: "target-arch-arm"
      mixins: "release"
      mixins: "master-client-v8-ports"
      mixins: "linux64-xenial"
      mixins: "triggers_proxy"
      recipe {
        properties_j: "binary_size_tracking:{\"category\": \"android_arm32\", \"binary\": \"d8\"}"
      }
    }

    builders {
      name: "V8 Linux - arm - sim"
      mixins: "master-client-v8-ports"
      mixins: "linux64-xenial"
      mixins: "release"
    }

    builders {
      name: "V8 Linux - arm - sim - debug"
      mixins: "master-client-v8-ports"
      mixins: "linux64-xenial"
      mixins: "debug"
    }

    builders {
      name: "V8 Linux - arm - sim - lite"
      mixins: "master-client-v8-ports"
      mixins: "linux64-xenial"
      mixins: "release"
    }

    builders {
      name: "V8 Linux - arm - sim - lite - debug"
      mixins: "master-client-v8-ports"
      mixins: "linux64-xenial"
      mixins: "debug"
    }

    builders {
      name: "V8 Arm"
      mixins: "master-client-v8-ports"
      mixins: "ci-multibot"
      execution_timeout_secs: 28800  # 8 hours
    }

    builders {
      name: "V8 Arm - debug"
      mixins: "master-client-v8-ports"
      mixins: "ci-multibot"
      execution_timeout_secs: 27000  # 7.5 hours
    }

    builders {
      name: "V8 Arm GC Stress"
      mixins: "master-client-v8-ports"
      mixins: "ci-multibot"
      execution_timeout_secs: 30600  # 8.5 hours
    }

    builders {
      name: "V8 Arm64 - builder"
      mixins: "target-arch-arm"
      mixins: "target-bits-64"
      mixins: "release"
      mixins: "master-client-v8-ports"
      mixins: "linux64-xenial"
      mixins: "triggers_proxy"
    }

    builders {
      name: "V8 Android Arm64 - builder"
      mixins: "target-platform-android"
      mixins: "target-arch-arm"
      mixins: "release"
      mixins: "master-client-v8-ports"
      mixins: "linux64-xenial"
      mixins: "triggers_proxy"
      recipe {
        properties_j: "binary_size_tracking:{\"category\": \"android_arm64\", \"binary\": \"d8\"}"
        properties_j: "triggers:[\"V8 Android Arm64 - N5X\"]"
      }
    }

    builders {
      name: "V8 Android Arm64 - debug builder"
      mixins: "target-platform-android"
      mixins: "target-arch-arm"
      mixins: "debug"
      mixins: "master-client-v8-ports"
      mixins: "linux64-xenial"
    }

    builders {
      name: "V8 Android Arm64 - N5X"
      mixins: "master-client-v8-ports"
      mixins: "ci-multibot"
    }

    builders {
      name: "V8 Linux - arm64 - sim"
      mixins: "master-client-v8-ports"
      mixins: "linux64-xenial"
      mixins: "release"
    }

    builders {
      name: "V8 Linux - arm64 - sim - debug"
      mixins: "master-client-v8-ports"
      mixins: "linux64-xenial"
      mixins: "debug"
    }

    builders {
      name: "V8 Linux - arm64 - sim - gc stress"
      mixins: "master-client-v8-ports"
      mixins: "linux64-xenial"
      mixins: "debug"
      execution_timeout_secs: 23400  # 6.5 hours
    }

    builders {
      name: "V8 Mips - builder"
      mixins: "master-client-v8-ports"
      mixins: "download-mips-toolchain"
      mixins: "linux64-xenial"
      mixins: "target-arch-mips"
      mixins: "no_goma"
      mixins: "release"
      recipe {
        properties_j: "triggers:[\"V8 Mips - big endian - nosnap\"]"
      }
    }

    builders {
      name: "V8 Linux - mipsel - sim - builder"
      mixins: "master-client-v8-ports"
      mixins: "linux64-xenial"
      mixins: "release"
      recipe {
        properties_j: "triggers:[\"V8 Linux - mipsel - sim\"]"
      }
    }

    builders {
      name: "V8 Linux - mips64el - sim - builder"
      mixins: "master-client-v8-ports"
      mixins: "linux64-xenial"
      mixins: "release"
      recipe {
        properties_j: "triggers:[\"V8 Linux - mips64el - sim\"]"
      }
    }

    builders {
      name: "V8 Mips - big endian - nosnap"
      mixins: "master-client-v8-ports"
      mixins: "ci-multibot"
      execution_timeout_secs: 37800  # 10.5 hours
    }

    builders {
      name: "V8 Linux - mipsel - sim"
      mixins: "master-client-v8-ports"
      mixins: "ci-multibot"
      mixins: "fyi-timeout"
    }

    builders {
      name: "V8 Linux - mips64el - sim"
      mixins: "master-client-v8-ports"
      mixins: "ci-multibot"
      mixins: "fyi-timeout"
    }

    builders {
      name: "V8 Linux - ppc64 - sim"
      mixins: "master-client-v8-ports"
      mixins: "linux64-xenial"
      mixins: "release"
      mixins: "fyi-timeout"
    }

    builders {
      name: "V8 Linux - s390x - sim"
      mixins: "master-client-v8-ports"
      mixins: "linux64-xenial"
      mixins: "release"
      mixins: "fyi-timeout"
    }

    # Console: FYI

    builders {
      name: "V8-Blink Win"
      mixins: "master-client-v8-fyi"
      mixins: "win64"
      mixins: "recipe-blink-downstream"
    }

    builders {
      name: "V8-Blink Mac"
      execution_timeout_secs: 10800  # 3 hours
      mixins: "master-client-v8-fyi"
      mixins: "mac64"
      mixins: "recipe-blink-downstream"
    }

    builders {
      name: "V8 Blink Linux Layout NG"
      mixins: "master-client-v8-fyi"
      mixins: "linux64-xenial"
      mixins: "recipe-chromium-depsbot"
    }

    builders {
      name: "V8-Blink Linux 64"
      mixins: "master-client-v8-fyi"
      mixins: "linux64-xenial"
      mixins: "recipe-blink-downstream"
    }

    builders {
      name: "V8-Blink Linux 64 - future"
      mixins: "master-client-v8-fyi"
      mixins: "linux64-xenial"
      mixins: "recipe-blink-downstream"
    }

    builders {
      name: "V8-Blink Linux 64 (dbg)"
      mixins: "master-client-v8-fyi"
      mixins: "linux64-xenial"
      mixins: "recipe-blink-downstream"
    }

    builders {
      name: "Linux Debug Builder"
      mixins: "master-client-v8-fyi"
      mixins: "linux64-xenial"
      mixins: "recipe-chromium"
      dimensions: "host_class:large_disk"
      recipe {
        properties_j: "triggers:[\"cr_linux_dbg\"]"
      }
    }

    builders {
      name: "V8 Linux GN"
      mixins: "master-client-v8-fyi"
      mixins: "linux64-xenial"
      mixins: "recipe-chromium"
    }

    builders {
      name: "V8 Android GN (dbg)"
      mixins: "master-client-v8-fyi"
      mixins: "linux64-xenial"
      mixins: "recipe-chromium"
    }

    builders {
      name: "Linux ASAN Builder"
      mixins: "master-client-v8-fyi"
      mixins: "linux64-xenial"
      mixins: "recipe-chromium"
      dimensions: "host_class:large_disk"
      execution_timeout_secs: 18000  # 5 hours
    }

    builders {
      name: "Android Builder"
      mixins: "master-client-v8-fyi"
      mixins: "linux64-xenial"
      mixins: "recipe-android-builder"
      dimensions: "host_class:large_disk"
    }

    builders {
      name: "Linux Snapshot Builder"
      mixins: "master-client-v8-fyi"
      mixins: "linux64-xenial"
      mixins: "recipe-chromium"
    }

    builders {
      name: "Linux Tests (dbg)(1)"
      mixins: "master-client-v8-fyi"
      mixins: "linux64-xenial"
      mixins: "recipe-chromium"
    }

    builders {
      name: "Win V8 FYI Release (NVIDIA)"
      mixins: "master-client-v8-fyi"
      mixins: "win64"
      mixins: "recipe-chromium"
    }

    builders {
      name: "Mac V8 FYI Release (Intel)"
      mixins: "master-client-v8-fyi"
      mixins: "mac64"
      mixins: "recipe-chromium"
    }

    builders {
      name: "Linux V8 FYI Release (NVIDIA)"
      mixins: "master-client-v8-fyi"
      mixins: "linux64-xenial"
      mixins: "recipe-chromium"
    }

    builders {
      name: "Linux V8 FYI Release - pointer compression (NVIDIA)"
      mixins: "master-client-v8-fyi"
      mixins: "linux64-xenial"
      mixins: "recipe-chromium"
    }

    builders {
      name: "Android V8 FYI Release (Nexus 5X)"
      mixins: "master-client-v8-fyi"
      mixins: "linux64-xenial"
      mixins: "recipe-chromium"
    }

    builders {
      name: "V8 Linux64 - node.js integration ng"
      mixins: "master-client-v8-fyi"
      mixins: "linux64-xenial"
      mixins: "recipe-v8-node-integration-ng"
      recipe {
        properties_j: "triggers:[\"v8_node_linux64_perf\"]"
      }
    }

    # Console: ClusterFuzz

    builders {
      name: "V8 Clusterfuzz Win64 ASAN - release builder"
      mixins: "master-client-v8-clusterfuzz"
      mixins: "win64"
      mixins: "release"
      mixins: "clobber"
      mixins: "default-target-clusterfuzz"
      recipe {
        properties_j: "clusterfuzz_archive:{\"bitness\": \"64\", \"bucket\": \"v8-asan\", \"name\": \"d8-asan\"}"
      }
    }

    builders {
      name: "V8 Clusterfuzz Win64 ASAN - debug builder"
      mixins: "master-client-v8-clusterfuzz"
      mixins: "win64"
      mixins: "debug"
      mixins: "clobber"
      mixins: "default-target-clusterfuzz"
      recipe {
        properties_j: "clusterfuzz_archive:{\"bitness\": \"64\", \"bucket\": \"v8-asan\", \"name\": \"d8-asan\"}"
      }
    }

    builders {
      name: "V8 Clusterfuzz Mac64 ASAN - release builder"
      mixins: "master-client-v8-clusterfuzz"
      mixins: "mac64"
      mixins: "release"
      mixins: "clobber"
      mixins: "default-target-clusterfuzz"
      recipe {
        properties_j: "clusterfuzz_archive:{\"bucket\": \"v8-asan\", \"name\": \"d8-asan\"}"
      }
    }

    builders {
      name: "V8 Clusterfuzz Mac64 ASAN - debug builder"
      mixins: "master-client-v8-clusterfuzz"
      mixins: "mac64"
      mixins: "debug"
      mixins: "clobber"
      mixins: "default-target-clusterfuzz"
      recipe {
        properties_j: "clusterfuzz_archive:{\"bucket\": \"v8-asan\", \"name\": \"d8-asan\"}"
      }
    }

    builders {
      name: "V8 Clusterfuzz Linux64 - release builder"
      mixins: "master-client-v8-clusterfuzz"
      mixins: "linux64-xenial"
      mixins: "release"
      mixins: "default-target-clusterfuzz"
      recipe {
        properties_j: "clusterfuzz_archive:{\"bucket\": \"v8-asan\", \"name\": \"d8\"}"
        properties_j: "triggers:[\"V8 NumFuzz\"]"
      }
    }

    builders {
      name: "V8 Clusterfuzz Linux64 - debug builder"
      mixins: "master-client-v8-clusterfuzz"
      mixins: "linux64-xenial"
      mixins: "debug"
      mixins: "default-target-clusterfuzz"
      recipe {
        properties_j: "clusterfuzz_archive:{\"bucket\": \"v8-asan\", \"name\": \"d8\"}"
        properties_j: "triggers:[\"V8 NumFuzz - debug\"]"
      }
    }

    builders {
      name: "V8 Clusterfuzz Linux64 ASAN no inline - release builder"
      mixins: "master-client-v8-clusterfuzz"
      mixins: "linux64-xenial"
      mixins: "release"
      mixins: "clobber"
      mixins: "default-target-clusterfuzz"
      recipe {
        properties_j: "clusterfuzz_archive:{\"bucket\": \"v8-asan\", \"name\": \"d8-asan-no-inline\"}"
      }
    }

    builders {
      name: "V8 Clusterfuzz Linux64 ASAN - debug builder"
      mixins: "master-client-v8-clusterfuzz"
      mixins: "linux64-xenial"
      mixins: "debug"
      mixins: "clobber"
      mixins: "default-target-clusterfuzz"
      recipe {
        properties_j: "clusterfuzz_archive:{\"bucket\": \"v8-asan\", \"name\": \"d8-asan\"}"
      }
    }

    builders {
      name: "V8 Clusterfuzz Linux64 ASAN arm64 - debug builder"
      mixins: "master-client-v8-clusterfuzz"
      mixins: "linux64-xenial"
      mixins: "debug"
      mixins: "clobber"
      mixins: "default-target-clusterfuzz"
      recipe {
        properties_j: "clusterfuzz_archive:{\"bucket\": \"v8-asan\", \"name\": \"d8-arm64-asan\"}"
      }
    }

    builders {
      name: "V8 Clusterfuzz Linux ASAN arm - debug builder"
      mixins: "master-client-v8-clusterfuzz"
      mixins: "linux64-xenial"
      mixins: "debug"
      mixins: "clobber"
      mixins: "default-target-clusterfuzz"
      recipe {
        properties_j: "clusterfuzz_archive:{\"bucket\": \"v8-asan\", \"name\": \"d8-arm-asan\"}"
      }
    }

    builders {
      name: "V8 Clusterfuzz Linux MSAN no origins"
      mixins: "master-client-v8-clusterfuzz"
      mixins: "linux64-xenial"
      mixins: "release"
      mixins: "checkout-instrumented-libraries"
      mixins: "clobber"
      mixins: "default-target-clusterfuzz"
      recipe {
        properties_j: "clusterfuzz_archive:{\"bucket\": \"v8-msan\", \"name\": \"d8-msan-no-origins\"}"
      }
    }

    builders {
      name: "V8 Clusterfuzz Linux MSAN chained origins"
      mixins: "master-client-v8-clusterfuzz"
      mixins: "linux64-xenial"
      mixins: "release"
      mixins: "checkout-instrumented-libraries"
      mixins: "clobber"
      mixins: "default-target-clusterfuzz"
      recipe {
        properties_j: "clusterfuzz_archive:{\"bucket\": \"v8-msan\", \"name\": \"d8-msan-chained-origins\"}"
      }
    }

    builders {
      name: "V8 Clusterfuzz Linux64 CFI - release builder"
      mixins: "master-client-v8-clusterfuzz"
      mixins: "linux64-xenial"
      mixins: "release"
      mixins: "clobber"
      mixins: "default-target-clusterfuzz"
      recipe {
        properties_j: "clusterfuzz_archive:{\"bucket\": \"v8-cfi\", \"name\": \"d8-cfi\"}"
      }
    }

    builders {
      name: "V8 Clusterfuzz Linux64 TSAN - release builder"
      mixins: "master-client-v8-clusterfuzz"
      mixins: "linux64-xenial"
      mixins: "release"
      mixins: "default-target-clusterfuzz"
      recipe {
        properties_j: "triggers:[\"V8 NumFuzz - TSAN\"]"
      }
    }

    builders {
      name: "V8 Clusterfuzz Linux64 UBSan - release builder"
      mixins: "master-client-v8-clusterfuzz"
      mixins: "linux64-xenial"
      mixins: "release"
      mixins: "clobber"
      mixins: "default-target-clusterfuzz"
      recipe {
        properties_j: "clusterfuzz_archive:{\"bucket\": \"v8-ubsan\", \"name\": \"d8-ubsan\"}"
      }
    }

    builders {
      name: "V8 NumFuzz"
      mixins: "master-client-v8-clusterfuzz"
      mixins: "ci-multibot"
      mixins: "fyi-timeout"
    }

    builders {
      name: "V8 NumFuzz - debug"
      mixins: "master-client-v8-clusterfuzz"
      mixins: "ci-multibot"
      mixins: "fyi-timeout"
    }

    builders {
      name: "V8 NumFuzz - TSAN"
      mixins: "master-client-v8-clusterfuzz"
      mixins: "ci-multibot"
      mixins: "fyi-timeout"
    }

    # Console: Chromium

    builders {
      name: "Linux - Future"
      mixins: "master-client-v8-chromium"
      mixins: "linux64-xenial"
      mixins: "recipe-chromium"
    }

    builders {
      name: "Linux - Future (dbg)"
      mixins: "master-client-v8-chromium"
      mixins: "linux64-xenial"
      mixins: "recipe-chromium"
    }

    builders {
      name: "Linux V8 API Stability"
      mixins: "master-client-v8-chromium"
      mixins: "linux64-xenial"
      mixins: "recipe-chromium"
    }

    # Console: Branches

    builders {
      name: "V8 Presubmit - stable branch"
      mixins: "master-client-v8-branches"
      mixins: "linux64-xenial"
      mixins: "recipe-v8-presubmit"
    }

    builders {
      name: "V8 Linux - stable branch"
      mixins: "master-client-v8-branches"
      mixins: "linux64-xenial"
      mixins: "release"
    }

    builders {
      name: "V8 Linux - stable branch - debug"
      mixins: "master-client-v8-branches"
      mixins: "linux64-xenial"
      mixins: "debug"
    }

    builders {
      name: "V8 Linux64 - stable branch"
      mixins: "master-client-v8-branches"
      mixins: "linux64-xenial"
      mixins: "release"
    }

    builders {
      name: "V8 Linux64 - stable branch - debug"
      mixins: "master-client-v8-branches"
      mixins: "linux64-xenial"
      mixins: "debug"
    }

    builders {
      name: "V8 arm - sim - stable branch"
      mixins: "master-client-v8-branches"
      mixins: "linux64-xenial"
      mixins: "release"
    }

    builders {
      name: "V8 arm - sim - stable branch - debug"
      mixins: "master-client-v8-branches"
      mixins: "linux64-xenial"
      mixins: "debug"
    }

    builders {
      name: "V8 mipsel - sim - stable branch"
      mixins: "master-client-v8-branches"
      mixins: "linux64-xenial"
      mixins: "release"
    }

    builders {
      name: "V8 mips64el - sim - stable branch"
      mixins: "master-client-v8-branches"
      mixins: "linux64-xenial"
      mixins: "release"
    }

    builders {
      name: "V8 ppc64 - sim - stable branch"
      mixins: "master-client-v8-branches"
      mixins: "linux64-xenial"
      mixins: "release"
    }

    builders {
      name: "V8 s390x - sim - stable branch"
      mixins: "master-client-v8-branches"
      mixins: "linux64-xenial"
      mixins: "release"
    }

    builders {
      name: "V8 Presubmit - beta branch"
      mixins: "master-client-v8-branches"
      mixins: "linux64-xenial"
      mixins: "recipe-v8-presubmit"
    }

    builders {
      name: "V8 Linux - beta branch"
      mixins: "master-client-v8-branches"
      mixins: "linux64-xenial"
      mixins: "release"
    }

    builders {
      name: "V8 Linux - beta branch - debug"
      mixins: "master-client-v8-branches"
      mixins: "linux64-xenial"
      mixins: "debug"
    }

    builders {
      name: "V8 Linux64 - beta branch"
      mixins: "master-client-v8-branches"
      mixins: "linux64-xenial"
      mixins: "release"
    }

    builders {
      name: "V8 Linux64 - beta branch - debug"
      mixins: "master-client-v8-branches"
      mixins: "linux64-xenial"
      mixins: "debug"
    }

    builders {
      name: "V8 arm - sim - beta branch"
      mixins: "master-client-v8-branches"
      mixins: "linux64-xenial"
      mixins: "release"
    }

    builders {
      name: "V8 arm - sim - beta branch - debug"
      mixins: "master-client-v8-branches"
      mixins: "linux64-xenial"
      mixins: "debug"
    }

    builders {
      name: "V8 mipsel - sim - beta branch"
      mixins: "master-client-v8-branches"
      mixins: "linux64-xenial"
      mixins: "release"
    }

    builders {
      name: "V8 mips64el - sim - beta branch"
      mixins: "master-client-v8-branches"
      mixins: "linux64-xenial"
      mixins: "release"
    }

    builders {
      name: "V8 ppc64 - sim - beta branch"
      mixins: "master-client-v8-branches"
      mixins: "linux64-xenial"
      mixins: "release"
    }

    builders {
      name: "V8 s390x - sim - beta branch"
      mixins: "master-client-v8-branches"
      mixins: "linux64-xenial"
      mixins: "release"
    }

    builders {
      name: "Auto-tag"
      mixins: "master-client-v8-branches"
      mixins: "linux64-xenial"
      mixins: "autoroll-service-account"
      mixins: "recipe-v8-auto-tag"
    }

    # Console: Official

    builders {
      name: "V8 Official Arm32"
      mixins: "master-client-v8-official"
      mixins: "linux64-xenial"
      mixins: "release"
      mixins: "recipe-v8-archive"
      mixins: "target-arch-arm"
      mixins: "target-bits-32"
    }

    builders {
      name: "V8 Official Arm64"
      mixins: "master-client-v8-official"
      mixins: "linux64-xenial"
      mixins: "release"
      mixins: "recipe-v8-archive"
      mixins: "target-arch-arm"
      mixins: "target-bits-64"
    }

    builders {
      name: "V8 Official Android Arm32"
      mixins: "master-client-v8-official"
      mixins: "linux64-xenial"
      mixins: "release"
      mixins: "recipe-v8-archive"
      mixins: "target-arch-arm"
      mixins: "target-bits-32"
      mixins: "target-platform-android"
    }

    builders {
      name: "V8 Official Android Arm64"
      mixins: "master-client-v8-official"
      mixins: "linux64-xenial"
      mixins: "release"
      mixins: "recipe-v8-archive"
      mixins: "target-arch-arm"
      mixins: "target-bits-64"
      mixins: "target-platform-android"
    }

    builders {
      name: "V8 Official Linux32"
      mixins: "master-client-v8-official"
      mixins: "linux64-xenial"
      mixins: "release"
      mixins: "recipe-v8-archive"
      mixins: "target-bits-32"
    }

    builders {
      name: "V8 Official Linux32 Debug"
      mixins: "master-client-v8-official"
      mixins: "linux64-xenial"
      mixins: "debug"
      mixins: "recipe-v8-archive"
      mixins: "target-bits-32"
    }

    builders {
      name: "V8 Official Linux64"
      mixins: "master-client-v8-official"
      mixins: "linux64-xenial"
      mixins: "release"
      mixins: "recipe-v8-archive"
      mixins: "target-bits-64"
    }

    builders {
      name: "V8 Official Linux64 Debug"
      mixins: "master-client-v8-official"
      mixins: "linux64-xenial"
      mixins: "debug"
      mixins: "recipe-v8-archive"
      mixins: "target-bits-64"
    }

    builders {
      name: "V8 Official Win32"
      mixins: "master-client-v8-official"
      mixins: "win64"
      mixins: "release"
      mixins: "recipe-v8-archive"
      mixins: "target-bits-32"
    }

    builders {
      name: "V8 Official Win32 Debug"
      mixins: "master-client-v8-official"
      mixins: "win64"
      mixins: "debug"
      mixins: "recipe-v8-archive"
      mixins: "target-bits-32"
    }

    builders {
      name: "V8 Official Win64"
      mixins: "master-client-v8-official"
      mixins: "win64"
      mixins: "release"
      mixins: "recipe-v8-archive"
      mixins: "target-bits-64"
    }

    builders {
      name: "V8 Official Win64 Debug"
      mixins: "master-client-v8-official"
      mixins: "win64"
      mixins: "debug"
      mixins: "recipe-v8-archive"
      mixins: "target-bits-64"
    }

    builders {
      name: "V8 Official Mac64"
      mixins: "master-client-v8-official"
      mixins: "mac64"
      mixins: "release"
      mixins: "recipe-v8-archive"
      mixins: "target-bits-64"
    }

    builders {
      name: "V8 Official Mac64 Debug"
      mixins: "master-client-v8-official"
      mixins: "mac64"
      mixins: "debug"
      mixins: "recipe-v8-archive"
      mixins: "target-bits-64"
    }

    # Console: Infra

    builders {
      name: "V8 lkgr finder"
      mixins: "linux64-xenial"
      mixins: "autoroll-service-account"
      mixins: "recipe-lkgr-finder"
    }

    builders {
      name: "Auto-roll - push"
      mixins: "linux64-xenial"
      mixins: "autoroll-service-account"
      mixins: "recipe-v8-auto-roll-push"
    }

    builders {
      name: "Auto-roll - deps"
      mixins: "linux64-xenial"
      mixins: "autoroll-service-account"
      mixins: "recipe-v8-auto-roll-deps"
    }

    builders {
      name: "Auto-roll - v8 deps"
      mixins: "linux64-xenial"
      mixins: "autoroll-service-account"
      mixins: "recipe-v8-auto-roll-v8-deps"
    }

    builders {
      name: "Auto-roll - test262"
      mixins: "linux64-xenial"
      mixins: "autoroll-service-account"
      mixins: "recipe-v8-auto-roll-v8-deps"
    }

    builders {
      name: "Auto-roll - wasm-spec"
      mixins: "linux64-xenial"
      mixins: "autoroll-service-account"
      mixins: "recipe-v8-auto-roll-v8-deps"
    }

    builders {
      name: "Auto-roll - release process"
      mixins: "linux64-xenial"
      mixins: "autoroll-service-account"
      mixins: "recipe-v8-auto-roll-release-process"
    }
  }
}

buckets {
  name: "luci.v8.try"
  acl_sets: "tryserver"

  swarming {
    hostname: "chromium-swarm.appspot.com"
    builder_defaults {
      dimensions: "host_class:default"
      service_account: "v8-try-builder@chops-service-accounts.iam.gserviceaccount.com"
      execution_timeout_secs: 1800  # 30 min
      swarming_tags: "vpython:native-python-wrapper"
      recipe {
        cipd_package: "infra/recipe_bundles/chromium.googlesource.com/chromium/tools/build"
        cipd_version: "refs/heads/master"
        name: "v8"
        properties: "mastername:tryserver.v8"
      }
    }

    # When adding builders here, please also add them to the 'tryserver' console
    # in luci-milo.cfg.
    builders {
      name: "v8_ios_simulator"
      dimensions: "os:Mac-10.13"
      mixins: "release"
      mixins: "target-platform-ios"
    }

    builders {
      name: "v8_linux_gc_stress_dbg"
      execution_timeout_secs: 3600
      mixins: "linux64-xenial"
      mixins: "debug"
    }

    builders {
      name: "v8_linux_nosnap_rel"
      execution_timeout_secs: 3600
      mixins: "linux64-xenial"
      mixins: "release"
    }

    builders {
      name: "v8_linux_nosnap_dbg"
      execution_timeout_secs: 3600
      mixins: "linux64-xenial"
      mixins: "debug"
    }

    builders {
      name: "v8_linux_gcc_compile_rel"
      mixins: "linux64-xenial"
      mixins: "release"
      recipe {
        properties: "set_gclient_var:check_v8_header_includes"
      }
    }

    builders {
      name: "v8_linux_gcc_rel"
      mixins: "linux64-xenial"
      mixins: "release"
      recipe {
        properties: "set_gclient_var:check_v8_header_includes"
      }
    }

    builders {
      name: "v8_linux_shared_compile_rel"
      mixins: "linux64-xenial"
      mixins: "release"
    }

    builders {
      name: "v8_linux64_gcc_compile_dbg"
      mixins: "linux64-xenial"
      mixins: "debug"
      recipe {
        properties: "set_gclient_var:check_v8_header_includes"
      }
    }

    builders {
      name: "v8_linux64_header_includes_dbg"
      mixins: "linux64-xenial"
      mixins: "debug"
      recipe {
        properties: "set_gclient_var:check_v8_header_includes"
      }
    }


    builders {
      name: "v8_linux64_jumbo_compile_rel"
      mixins: "linux64-xenial"
      mixins: "release"
    }

    builders {
      name: "v8_linux64_jumbo_limited_compile_rel"
      mixins: "linux64-xenial"
      mixins: "release"
    }

    builders {
      name: "v8_linux64_msan_rel"
      execution_timeout_secs: 3600
      mixins: "linux64-xenial"
      mixins: "checkout-instrumented-libraries"
      mixins: "release"
    }

    builders {
      name: "v8_linux64_sanitizer_coverage_rel"
      execution_timeout_secs: 3600
      mixins: "linux64-xenial"
      mixins: "release"
      recipe {
        properties: "coverage:sanitizer"
      }
    }

    builders {
      name: "v8_linux64_tsan_rel"
      execution_timeout_secs: 3600
      mixins: "linux64-xenial"
      mixins: "release"
    }

    builders {
      name: "v8_linux_arm_dbg"
      execution_timeout_secs: 3600
      mixins: "linux64-xenial"
      mixins: "debug"
    }

    builders {
      name: "v8_linux_arm64_dbg"
      execution_timeout_secs: 3600
      mixins: "linux64-xenial"
      mixins: "debug"
    }

    builders {
      name: "v8_linux_arm64_gc_stress_dbg"
      execution_timeout_secs: 3600
      mixins: "linux64-xenial"
      mixins: "debug"
    }

    builders {
      name: "v8_linux_mipsel_compile_rel"
      mixins: "linux64-xenial"
      mixins: "release"
    }

    builders {
      name: "v8_linux_mips64el_compile_rel"
      mixins: "linux64-xenial"
      mixins: "release"
    }

    builders {
      name: "v8_mips_compile_rel"
      mixins: "linux64-xenial"
      mixins: "download-mips-toolchain"
      mixins: "target-arch-mips"
      mixins: "release"
      mixins: "no_goma"
    }

    builders {
      name: "v8_android_arm_compile_rel"
      mixins: "linux64-xenial"
      mixins: "target-platform-android"
      mixins: "target-arch-arm"
      mixins: "release"
    }

    builders {
      name: "v8_android_arm64_compile_dbg"
      mixins: "linux64-xenial"
      mixins: "target-platform-android"
      mixins: "target-arch-arm"
      mixins: "debug"
    }

    builders {
      name: "v8_mac64_asan_rel"
      execution_timeout_secs: 3600
      dimensions: "os:Mac-10.13"
      mixins: "release"
    }

    builders {
      name: "v8_mac64_gc_stress_dbg"
      execution_timeout_secs: 3600
      dimensions: "os:Mac-10.13"
      mixins: "debug"
    }

    builders {
      name: "v8_presubmit"
      priority: 25
      execution_timeout_secs: 600  # 10 min
      mixins: "linux64-xenial"
      recipe {
        name: "run_presubmit"
        properties: "repo_name:v8"
        properties_j: "runhooks:true"
      }
    }

    builders {
      name: "v8_win_compile_dbg"
      dimensions: "os:Windows-7-SP1"
      mixins: "debug"
    }

    builders {
      name: "v8_win_dbg"
      execution_timeout_secs: 3600
      dimensions: "os:Windows-7-SP1"
      mixins: "debug"
    }

    builders {
      name: "v8_win64_dbg"
      execution_timeout_secs: 3600
      dimensions: "os:Windows-7-SP1"
      mixins: "debug"
    }

    builders {
      name: "v8_win64_msvc_compile_rel"
      dimensions: "os:Windows-7-SP1"
      mixins: "release"
    }

    builders {
      name: "v8_linux_chromium_gn_rel"
      execution_timeout_secs: 3600
      build_numbers: YES  # chromium_trybot recipe requires build numbers
      mixins: "linux64-xenial"
      recipe {
        name: "chromium_trybot"
      }
    }

    builders {
      name: "v8_linux_blink_rel"
      execution_timeout_secs: 3600
      dimensions: "host_class:baremetal"
      # TODO(machenbach): Set to 16.04 after upgrade.
      dimensions: "os:Ubuntu"
      build_numbers: YES  # chromium_trybot recipe requires build numbers
      recipe {
        name: "chromium_trybot"
      }
    }

    # Builders triggering other builds (see triggered builders below).
    builders {
      name: "v8_android_arm64_n5x_rel_ng"
      mixins: "linux64-xenial"
      mixins: "target-platform-android"
      mixins: "target-arch-arm"
      mixins: "release"
      recipe {
        properties_j: "triggers:[\"v8_android_arm64_n5x_rel_ng_triggered\"]"
      }
    }

    builders {
      name: "v8_fuchsia_rel_ng"
      mixins: "linux64-xenial"
      mixins: "target-platform-fuchsia"
      mixins: "release"
    }

    builders {
      name: "v8_linux64_arm64_pointer_compression_rel_ng"
      mixins: "linux64-xenial"
      mixins: "release"
      recipe {
        properties_j: "triggers:[\"v8_linux64_arm64_pointer_compression_rel_ng_triggered\"]"
      }
    }

    builders {
      name: "v8_linux64_asan_rel_ng"
      mixins: "linux64-xenial"
      mixins: "release"
      recipe {
        properties_j: "triggers:[\"v8_linux64_asan_rel_ng_triggered\"]"
      }
    }

    builders {
      name: "v8_linux64_cfi_rel_ng"
      mixins: "linux64-xenial"
      mixins: "release"
      recipe {
        properties_j: "triggers:[\"v8_linux64_cfi_rel_ng_triggered\"]"
      }
    }

    builders {
      name: "v8_linux64_dbg_ng"
      mixins: "linux64-xenial"
      mixins: "debug"
      recipe {
        properties_j: "triggers:[\"v8_linux64_dbg_ng_triggered\"]"
      }
    }

    builders {
      name: "v8_linux64_gc_stress_custom_snapshot_dbg_ng"
      mixins: "linux64-xenial"
      mixins: "debug"
      recipe {
        properties_j: "triggers:[\"v8_linux64_gc_stress_custom_snapshot_dbg_ng_triggered\"]"
      }
    }

    builders {
      name: "v8_linux64_fyi_rel_ng"
      mixins: "linux64-xenial"
      mixins: "release"
      recipe {
        properties_j: "triggers:[\"v8_linux64_fyi_rel_ng_triggered\"]"
      }
    }

    builders {
      name: "v8_linux64_nodcheck_rel_ng"
      mixins: "linux64-xenial"
      mixins: "release"
      recipe {
        properties_j: "triggers:[\"v8_linux64_nodcheck_rel_ng_triggered\"]"
      }
    }

    builders {
      name: "v8_linux64_perfetto_dbg_ng"
      mixins: "linux64-xenial"
      mixins: "debug"
      recipe {
        properties_j: "triggers:[\"v8_linux64_perfetto_dbg_ng_triggered\"]"
      }
    }

    builders {
      name: "v8_linux64_pointer_compression_rel_ng"
      mixins: "linux64-xenial"
      mixins: "release"
      recipe {
        properties_j: "triggers:[\"v8_linux64_pointer_compression_rel_ng_triggered\"]"
      }
    }

    builders {
      name: "v8_linux64_rel_ng"
      mixins: "linux64-xenial"
      mixins: "release"
      recipe {
        properties_j: "triggers:[\"v8_linux64_rel_ng_triggered\"]"
      }
    }

    builders {
      name: "v8_linux64_compile_rel_xg"
      mixins: "linux64-xenial"
      mixins: "release"
    }

    builders {
      name: "v8_linux64_rel_xg"
      dimensions: "host_class:multibot"
      # TODO(machenbach): Set to 16.04 after upgrade.
      dimensions: "os:Ubuntu"
      execution_timeout_secs: 3600
      mixins: "no-builder-cache-affinity"
    }

    builders {
      name: "v8_linux64_tsan_isolates_rel_ng"
      mixins: "linux64-xenial"
      mixins: "release"
      recipe {
        properties_j: "triggers:[\"v8_linux64_tsan_isolates_rel_ng_triggered\"]"
      }
    }

    builders {
      name: "v8_linux64_ubsan_rel_ng"
      mixins: "linux64-xenial"
      mixins: "release"
      recipe {
        properties_j: "triggers:[\"v8_linux64_ubsan_rel_ng_triggered\"]"
      }
    }

    builders {
      name: "v8_linux64_shared_compile_rel"
      mixins: "linux64-xenial"
      mixins: "release"
    }

    builders {
      name: "v8_linux64_verify_csa_rel_ng"
      mixins: "linux64-xenial"
      mixins: "release"
      recipe {
        properties_j: "triggers:[\"v8_linux64_verify_csa_rel_ng_triggered\"]"
      }
    }

    builders {
      name: "v8_linux_arm64_rel_ng"
      mixins: "linux64-xenial"
      mixins: "release"
      recipe {
        properties_j: "triggers:[\"v8_linux_arm64_rel_ng_triggered\"]"
      }
    }

    builders {
      name: "v8_linux_arm_lite_rel_ng"
      mixins: "linux64-xenial"
      mixins: "release"
      recipe {
        properties_j: "triggers:[\"v8_linux_arm_lite_rel_ng_triggered\"]"
      }
    }

    builders {
      name: "v8_linux_arm_rel_ng"
      execution_timeout_secs: 2400  # 45 min
      mixins: "linux64-xenial"
      mixins: "release"
      recipe {
        properties_j: "triggers:[\"v8_linux_arm_rel_ng_triggered\"]"
      }
    }

    builders {
      name: "v8_linux_dbg_ng"
      mixins: "linux64-xenial"
      mixins: "debug"
      recipe {
        properties_j: "triggers:[\"v8_linux_dbg_ng_triggered\"]"
      }
    }

    builders {
      name: "v8_linux_noembed_rel_ng"
      mixins: "linux64-xenial"
      mixins: "release"
      recipe {
        properties_j: "triggers:[\"v8_linux_noembed_rel_ng_triggered\"]"
      }
    }

    builders {
      name: "v8_linux_nodcheck_rel_ng"
      execution_timeout_secs: 2400  # 45 min
      mixins: "linux64-xenial"
      mixins: "release"
      recipe {
        properties_j: "triggers:[\"v8_linux_nodcheck_rel_ng_triggered\"]"
      }
    }

    builders {
      name: "v8_linux_noi18n_compile_dbg"
      mixins: "linux64-xenial"
      mixins: "debug"
    }

    builders {
      name: "v8_linux_noi18n_rel_ng"
      execution_timeout_secs: 3600
      mixins: "linux64-xenial"
      mixins: "release"
      recipe {
        properties_j: "triggers:[\"v8_linux_noi18n_rel_ng_triggered\"]"
      }
    }

    builders {
      name: "v8_linux_rel_ng"
      execution_timeout_secs: 2400  # 45 min
      mixins: "linux64-xenial"
      mixins: "download-gcmole"
      mixins: "release"
      recipe {
        properties_j: "triggers:[\"v8_linux_rel_ng_triggered\"]"
      }
    }

    builders {
      name: "v8_linux_optional_rel_ng"
      mixins: "linux64-xenial"
      mixins: "release"
      recipe {
        properties_j: "triggers:[\"v8_linux_optional_rel_ng_triggered\"]"
      }
    }

    builders {
      name: "v8_linux_verify_csa_rel_ng"
      execution_timeout_secs: 2400  # 45 min
      mixins: "linux64-xenial"
      mixins: "release"
      recipe {
        properties_j: "triggers:[\"v8_linux_verify_csa_rel_ng_triggered\"]"
      }
    }

    builders {
      name: "v8_mac64_rel_ng"
      dimensions: "os:Mac-10.13"
      mixins: "release"
      recipe {
        properties_j: "triggers:[\"v8_mac64_rel_ng_triggered\"]"
      }
    }

    builders {
      name: "v8_mac64_dbg_ng"
      dimensions: "os:Mac-10.13"
      mixins: "debug"
      recipe {
        properties_j: "triggers:[\"v8_mac64_dbg_ng_triggered\"]"
      }
    }

    builders {
      name: "v8_odroid_arm_rel_ng"
      mixins: "target-arch-arm"
      mixins: "linux64-xenial"
      mixins: "release"
      recipe {
        properties_j: "triggers:[\"v8_odroid_arm_rel_ng_triggered\"]"
      }
    }

    builders {
      name: "v8_win64_asan_rel_ng"
      execution_timeout_secs: 3600
      dimensions: "os:Windows-7-SP1"
      mixins: "release"
      recipe {
        properties_j: "triggers:[\"v8_win64_asan_rel_ng_triggered\"]"
      }
    }

    builders {
      name: "v8_win64_msvc_rel_ng"
      dimensions: "os:Windows-7-SP1"
      mixins: "release"
      recipe {
        properties_j: "triggers:[\"v8_win64_msvc_rel_ng_triggered\"]"
      }
    }

    builders {
      name: "v8_win64_rel_ng"
      dimensions: "os:Windows-7-SP1"
      mixins: "release"
      recipe {
        properties_j: "triggers:[\"v8_win64_rel_ng_triggered\"]"
      }
    }

    builders {
      name: "v8_win_nosnap_shared_rel_ng"
      dimensions: "os:Windows-7-SP1"
      mixins: "release"
      recipe {
        properties_j: "triggers:[\"v8_win_nosnap_shared_rel_ng_triggered\"]"
      }
    }

    builders {
      name: "v8_win_rel_ng"
      dimensions: "os:Windows-7-SP1"
      mixins: "release"
      recipe {
        properties_j: "triggers:[\"v8_win_rel_ng_triggered\"]"
      }
    }
  }
}

buckets {
  name: "luci.v8.try.triggered"
  acl_sets: "tryserver"

  swarming {
    hostname: "chromium-swarm.appspot.com"
    builder_defaults {
      dimensions: "host_class:multibot"
      dimensions: "pool:luci.v8.try"
      service_account: "v8-try-builder@chops-service-accounts.iam.gserviceaccount.com"
      execution_timeout_secs: 3600
      swarming_tags: "vpython:native-python-wrapper"
      recipe {
        cipd_package: "infra/recipe_bundles/chromium.googlesource.com/chromium/tools/build"
        cipd_version: "refs/heads/master"
        name: "v8"
        properties: "mastername:tryserver.v8"
      }
      mixins: "no-builder-cache-affinity"
    }

    # Builders that run builds triggered by other builders (see above). We run
    # them on swarming multibots because they just trigger other swarming tasks
    # and do not require a lot of resources.
    builders { name: "v8_android_arm64_n5x_rel_ng_triggered" }
    builders { name: "v8_linux64_arm64_pointer_compression_rel_ng_triggered" }
    builders { name: "v8_linux64_dbg_ng_triggered" }
    builders { name: "v8_linux64_gc_stress_custom_snapshot_dbg_ng_triggered" }
    builders { name: "v8_linux64_nodcheck_rel_ng_triggered" }
    builders { name: "v8_linux64_perfetto_dbg_ng_triggered" }
    builders { name: "v8_linux64_pointer_compression_rel_ng_triggered" }
    builders { name: "v8_linux64_rel_ng_triggered" }
    builders { name: "v8_linux64_ubsan_rel_ng_triggered" }
    builders { name: "v8_linux64_verify_csa_rel_ng_triggered" }
    builders { name: "v8_linux_arm64_rel_ng_triggered" }
    builders { name: "v8_linux_arm_lite_rel_ng_triggered" }
    builders { name: "v8_linux_arm_rel_ng_triggered" }
    builders { name: "v8_linux_dbg_ng_triggered" }
    builders { name: "v8_linux_noembed_rel_ng_triggered" }
    builders { name: "v8_linux_nodcheck_rel_ng_triggered" }
    builders { name: "v8_linux_noi18n_rel_ng_triggered" }
    builders { name: "v8_linux_rel_ng_triggered" }
    builders { name: "v8_linux_optional_rel_ng_triggered" }
    builders { name: "v8_odroid_arm_rel_ng_triggered" }
    builders { name: "v8_win64_asan_rel_ng_triggered" }
    builders { name: "v8_win64_msvc_rel_ng_triggered" }
    builders { name: "v8_win64_rel_ng_triggered" }
    builders {
      name: "v8_mac64_rel_ng_triggered"
      execution_timeout_secs: 7200  # 2h
    }
    builders {
      name: "v8_mac64_dbg_ng_triggered"
      execution_timeout_secs: 7200  # 2h
    }
    builders { name: "v8_linux_verify_csa_rel_ng_triggered" }
    builders { name: "v8_win_nosnap_shared_rel_ng_triggered" }
    builders { name: "v8_win_rel_ng_triggered" }
    builders { name: "v8_linux64_asan_rel_ng_triggered" }
    builders { name: "v8_linux64_cfi_rel_ng_triggered" }
    builders { name: "v8_linux64_fyi_rel_ng_triggered" }
    builders { name: "v8_linux64_tsan_isolates_rel_ng_triggered" }

    # This builder is triggered directly by users, but is still in this bucket
    # since we require additional properties to be specified and thus do not
    # want it listed on Gerrit.
    builders {
      name: "v8_flako"
      mixins: "recipe-v8-flako"
      execution_timeout_secs: 14400  # 4h
    }

    # Users should not trigger this builder directly, which is what luci.v8.ci
    # bucket normally used for, but it also needs to trigger v8_flako and thus
    # must run with v8-try-builder@ service account. Using luci.v8.try.triggered
    # as opposed to luci.v8.try allows to hide it on Gerrit.
    builders {
      name: "v8_verify_flakes"
      mixins: "recipe-v8-verify-flakes"
      execution_timeout_secs: 16200  # 4.5h
    }
  }
}
