{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "da46d0b2_4b412b6f",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1249724
      },
      "writtenOn": "2021-08-18T18:09:00Z",
      "side": 1,
      "message": "Hi Deepti, saw that you +1 a child change, this is a dependent change, ptal. Thanks!",
      "revId": "f1ade9746d6b62b440b0eba7ec79e5b6f439a87f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "a24daba1_b33a23a7",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1122079
      },
      "writtenOn": "2021-08-18T20:59:41Z",
      "side": 1,
      "message": "Oops, had a draft and didn\u0027t press send. Lgtm when comment is resolved.",
      "revId": "f1ade9746d6b62b440b0eba7ec79e5b6f439a87f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "49066ece_9f62d526",
        "filename": "src/codegen/shared-ia32-x64/macro-assembler-shared-ia32-x64.cc",
        "patchSetId": 2
      },
      "lineNbr": 926,
      "author": {
        "id": 1358878
      },
      "writtenOn": "2021-08-18T19:32:57Z",
      "side": 1,
      "message": "This instruction depends on the previous value of dst. At least for AVX we can do better:\n\n  Pxor(scratch, scratch);\n  Pinsrb(dst, scratch, src, uint8_t{0});\n  Pshufb(dst, scratch);\n  \nOn SSE it is probably not worth to add an extra MOV instruction to avoid the dependency, but using Xorps instead of Pxor would make it one byte shorter.",
      "range": {
        "startLine": 926,
        "startChar": 4,
        "endLine": 926,
        "endChar": 38
      },
      "revId": "f1ade9746d6b62b440b0eba7ec79e5b6f439a87f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e7b9eb87_c1315945",
        "filename": "src/codegen/shared-ia32-x64/macro-assembler-shared-ia32-x64.cc",
        "patchSetId": 2
      },
      "lineNbr": 926,
      "author": {
        "id": 1249724
      },
      "writtenOn": "2021-08-18T22:26:27Z",
      "side": 1,
      "message": "Due to the way we use trap handlers to detect OOB loads, we need the first instruction here to be the one that does the actual load, having the pxor before the pinsrb breaks this assumption. I can\u0027t think of a way to do any better, so I passed scratch to pinsrb instead of dst (less likely that we will wait on the result of scratch).",
      "parentUuid": "49066ece_9f62d526",
      "range": {
        "startLine": 926,
        "startChar": 4,
        "endLine": 926,
        "endChar": 38
      },
      "revId": "f1ade9746d6b62b440b0eba7ec79e5b6f439a87f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "2eeea69a_f12ada7c",
        "filename": "src/codegen/shared-ia32-x64/macro-assembler-shared-ia32-x64.cc",
        "patchSetId": 2
      },
      "lineNbr": 926,
      "author": {
        "id": 1358878
      },
      "writtenOn": "2021-08-18T22:35:13Z",
      "side": 1,
      "message": "LGTM",
      "parentUuid": "e7b9eb87_c1315945",
      "range": {
        "startLine": 926,
        "startChar": 4,
        "endLine": 926,
        "endChar": 38
      },
      "revId": "f1ade9746d6b62b440b0eba7ec79e5b6f439a87f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "986c30d3_b07902db",
        "filename": "src/codegen/shared-ia32-x64/macro-assembler-shared-ia32-x64.cc",
        "patchSetId": 2
      },
      "lineNbr": 937,
      "author": {
        "id": 1358878
      },
      "writtenOn": "2021-08-18T19:32:57Z",
      "side": 1,
      "message": "Same here",
      "range": {
        "startLine": 937,
        "startChar": 4,
        "endLine": 937,
        "endChar": 38
      },
      "revId": "f1ade9746d6b62b440b0eba7ec79e5b6f439a87f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "d8c96b93_93f571f2",
        "filename": "src/codegen/shared-ia32-x64/macro-assembler-shared-ia32-x64.cc",
        "patchSetId": 2
      },
      "lineNbr": 937,
      "author": {
        "id": 1249724
      },
      "writtenOn": "2021-08-18T22:26:27Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "986c30d3_b07902db",
      "range": {
        "startLine": 937,
        "startChar": 4,
        "endLine": 937,
        "endChar": 38
      },
      "revId": "f1ade9746d6b62b440b0eba7ec79e5b6f439a87f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "48e163c7_94bdf6da",
        "filename": "src/codegen/shared-ia32-x64/macro-assembler-shared-ia32-x64.h",
        "patchSetId": 2
      },
      "lineNbr": 282,
      "author": {
        "id": 1122079
      },
      "writtenOn": "2021-08-18T20:59:41Z",
      "side": 1,
      "message": "Nit: Pinsrw is not an SSE4_1 op, maybe wrap this particular instruction in something more generic?",
      "revId": "f1ade9746d6b62b440b0eba7ec79e5b6f439a87f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "f5aa62ee_ae91c159",
        "filename": "src/codegen/shared-ia32-x64/macro-assembler-shared-ia32-x64.h",
        "patchSetId": 2
      },
      "lineNbr": 282,
      "author": {
        "id": 1249724
      },
      "writtenOn": "2021-08-18T22:26:27Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "48e163c7_94bdf6da",
      "revId": "f1ade9746d6b62b440b0eba7ec79e5b6f439a87f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}