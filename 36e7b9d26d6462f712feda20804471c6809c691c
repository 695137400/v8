{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "424df91d_35f2d65f",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 10
      },
      "lineNbr": 0,
      "author": {
        "id": 1119597
      },
      "writtenOn": "2021-07-15T07:25:12Z",
      "side": 1,
      "message": "The obvious danger is that we\u0027re missing places where we need to record the dependency, and, in the future, someone adding new code that inspects a JSFunctionRef and then forgetting to record the dependency.\n\nWe should consider changing the relevant methods on JSFunctionRef/JSFunctionData to automatically record the dependency when any of them is called for the first time (and only then). The question is how many unnecessary dependencies that would create (some, but not all, of these could be avoided by having a dependency rollback mechanism for NoChange or similar.)",
      "revId": "36e7b9d26d6462f712feda20804471c6809c691c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "bf972a09_83dddf4b",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 10
      },
      "lineNbr": 0,
      "author": {
        "id": 1162439
      },
      "writtenOn": "2021-07-15T11:59:25Z",
      "side": 1,
      "message": "+ishell for objects/",
      "revId": "36e7b9d26d6462f712feda20804471c6809c691c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ee1be61e_eb536b3e",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 10
      },
      "lineNbr": 0,
      "author": {
        "id": 1162439
      },
      "writtenOn": "2021-07-15T11:59:25Z",
      "side": 1,
      "message": "Good point, I agree - will add this in the next PS.",
      "parentUuid": "424df91d_35f2d65f",
      "revId": "36e7b9d26d6462f712feda20804471c6809c691c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "4285f4af_bb83452b",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 10
      },
      "lineNbr": 0,
      "author": {
        "id": 1183889
      },
      "writtenOn": "2021-07-16T11:00:38Z",
      "side": 1,
      "message": "src/objects lgtm with nits",
      "revId": "36e7b9d26d6462f712feda20804471c6809c691c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "2cad68c3_a5ce9f44",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 10
      },
      "lineNbr": 0,
      "author": {
        "id": 1162439
      },
      "writtenOn": "2021-07-19T08:46:06Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "ee1be61e_eb536b3e",
      "revId": "36e7b9d26d6462f712feda20804471c6809c691c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "fed293b6_d1f37aa2",
        "filename": "src/compiler/compilation-dependencies.cc",
        "patchSetId": 10
      },
      "lineNbr": 349,
      "author": {
        "id": 1162439
      },
      "writtenOn": "2021-07-15T05:09:31Z",
      "side": 1,
      "message": "Note: This is temporary, just to help us understand if and why validation may fail. To be reverted before landing.",
      "revId": "36e7b9d26d6462f712feda20804471c6809c691c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "29c37595_00b71ac6",
        "filename": "src/compiler/compilation-dependencies.cc",
        "patchSetId": 10
      },
      "lineNbr": 349,
      "author": {
        "id": 1162439
      },
      "writtenOn": "2021-07-19T08:46:06Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "fed293b6_d1f37aa2",
      "revId": "36e7b9d26d6462f712feda20804471c6809c691c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "20156af7_ac830b31",
        "filename": "src/compiler/heap-refs.cc",
        "patchSetId": 10
      },
      "lineNbr": 1211,
      "author": {
        "id": 1162439
      },
      "writtenOn": "2021-07-15T05:09:31Z",
      "side": 1,
      "message": "Likewise these sections are also temporary and still have to be discussed - what kind of concurrent modifications are benign / which aren\u0027t?",
      "revId": "36e7b9d26d6462f712feda20804471c6809c691c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d4e9e3be_815d6bad",
        "filename": "src/compiler/heap-refs.cc",
        "patchSetId": 10
      },
      "lineNbr": 1211,
      "author": {
        "id": 1119597
      },
      "writtenOn": "2021-07-15T07:25:12Z",
      "side": 1,
      "message": "I would like to be conservative and require that everything matches, including function_data and fields that you annotated as derived.",
      "parentUuid": "20156af7_ac830b31",
      "revId": "36e7b9d26d6462f712feda20804471c6809c691c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "20df3178_ed099a9f",
        "filename": "src/compiler/heap-refs.cc",
        "patchSetId": 10
      },
      "lineNbr": 1211,
      "author": {
        "id": 1162439
      },
      "writtenOn": "2021-07-19T08:46:06Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "d4e9e3be_815d6bad",
      "revId": "36e7b9d26d6462f712feda20804471c6809c691c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f7584622_370a8111",
        "filename": "src/compiler/heap-refs.cc",
        "patchSetId": 10
      },
      "lineNbr": 2472,
      "author": {
        "id": 1119597
      },
      "writtenOn": "2021-07-15T07:25:12Z",
      "side": 1,
      "message": "I don\u0027t understand this.",
      "revId": "36e7b9d26d6462f712feda20804471c6809c691c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "cf29adb4_2d027040",
        "filename": "src/compiler/heap-refs.cc",
        "patchSetId": 10
      },
      "lineNbr": 2472,
      "author": {
        "id": 1162439
      },
      "writtenOn": "2021-07-15T11:59:25Z",
      "side": 1,
      "message": "It\u0027s a reminder to remove the code_ field when CodeRef becomes ne-serialized.",
      "parentUuid": "f7584622_370a8111",
      "revId": "36e7b9d26d6462f712feda20804471c6809c691c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "49b32583_0379d0ad",
        "filename": "src/compiler/heap-refs.cc",
        "patchSetId": 10
      },
      "lineNbr": 2472,
      "author": {
        "id": 1119597
      },
      "writtenOn": "2021-07-19T12:54:45Z",
      "side": 1,
      "message": "Ah okay, please make that clear in the form of a TODO. I thought that there is something relying on this begin serialized for correctness.",
      "parentUuid": "cf29adb4_2d027040",
      "revId": "36e7b9d26d6462f712feda20804471c6809c691c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "46800013_283fe382",
        "filename": "src/compiler/heap-refs.cc",
        "patchSetId": 10
      },
      "lineNbr": 3953,
      "author": {
        "id": 1119597
      },
      "writtenOn": "2021-07-15T07:25:12Z",
      "side": 1,
      "message": "Since JSFunction is now bg-serialized, this path will be taken only in the no-concurrent-inlining configuration while still on the main thread, right? So MakeRef, as in the macro used before, would be fine.",
      "revId": "36e7b9d26d6462f712feda20804471c6809c691c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "bc926d0b_7311fa46",
        "filename": "src/compiler/heap-refs.cc",
        "patchSetId": 10
      },
      "lineNbr": 3953,
      "author": {
        "id": 1162439
      },
      "writtenOn": "2021-07-15T11:59:25Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "46800013_283fe382",
      "revId": "36e7b9d26d6462f712feda20804471c6809c691c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "874883f8_e9c487ea",
        "filename": "src/compiler/heap-refs.cc",
        "patchSetId": 10
      },
      "lineNbr": 3957,
      "author": {
        "id": 1119597
      },
      "writtenOn": "2021-07-15T07:25:12Z",
      "side": 1,
      "message": "MakeRef?",
      "revId": "36e7b9d26d6462f712feda20804471c6809c691c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "c60b97a7_2927a8a4",
        "filename": "src/compiler/heap-refs.cc",
        "patchSetId": 10
      },
      "lineNbr": 3957,
      "author": {
        "id": 1162439
      },
      "writtenOn": "2021-07-15T11:59:25Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "874883f8_e9c487ea",
      "revId": "36e7b9d26d6462f712feda20804471c6809c691c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b36cdc40_f1ff4386",
        "filename": "src/compiler/heap-refs.cc",
        "patchSetId": 10
      },
      "lineNbr": 4048,
      "author": {
        "id": 1119597
      },
      "writtenOn": "2021-07-15T07:25:12Z",
      "side": 1,
      "message": "Why is this changing?",
      "revId": "36e7b9d26d6462f712feda20804471c6809c691c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "d865da18_e6338ee0",
        "filename": "src/compiler/heap-refs.cc",
        "patchSetId": 10
      },
      "lineNbr": 4048,
      "author": {
        "id": 1162439
      },
      "writtenOn": "2021-07-15T11:59:25Z",
      "side": 1,
      "message": "SerializeBackPointer and SerializePrototype are cyclical deps with the JSFunction change (they\u0027re called from JSFunctionData::Serialize). Specifically we have to ensure no serialization happens when concurrent-inlining.",
      "parentUuid": "b36cdc40_f1ff4386",
      "revId": "36e7b9d26d6462f712feda20804471c6809c691c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "6b954dac_628a72f5",
        "filename": "src/compiler/heap-refs.h",
        "patchSetId": 10
      },
      "lineNbr": 407,
      "author": {
        "id": 1119597
      },
      "writtenOn": "2021-07-15T07:25:12Z",
      "side": 1,
      "message": "Please add some explanation (it\u0027s not the whole heap state, just the stuff corresponding to the methods below).",
      "revId": "36e7b9d26d6462f712feda20804471c6809c691c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "e93d2f01_e2d2783c",
        "filename": "src/compiler/heap-refs.h",
        "patchSetId": 10
      },
      "lineNbr": 407,
      "author": {
        "id": 1162439
      },
      "writtenOn": "2021-07-15T11:59:25Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "6b954dac_628a72f5",
      "revId": "36e7b9d26d6462f712feda20804471c6809c691c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f38afaf8_8d119d3e",
        "filename": "src/compiler/js-typed-lowering.cc",
        "patchSetId": 10
      },
      "lineNbr": 1599,
      "author": {
        "id": 1119597
      },
      "writtenOn": "2021-07-15T07:25:12Z",
      "side": 1,
      "message": "Why is this needed here?",
      "revId": "36e7b9d26d6462f712feda20804471c6809c691c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "3f20df13_0b479859",
        "filename": "src/compiler/js-typed-lowering.cc",
        "patchSetId": 10
      },
      "lineNbr": 1599,
      "author": {
        "id": 1162439
      },
      "writtenOn": "2021-07-19T08:46:06Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "f38afaf8_8d119d3e",
      "revId": "36e7b9d26d6462f712feda20804471c6809c691c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "23dca993_9202a96e",
        "filename": "src/compiler/js-typed-lowering.cc",
        "patchSetId": 10
      },
      "lineNbr": 1633,
      "author": {
        "id": 1119597
      },
      "writtenOn": "2021-07-15T07:25:12Z",
      "side": 1,
      "message": "Why is this needed here?",
      "revId": "36e7b9d26d6462f712feda20804471c6809c691c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "f59eb3da_a49f4286",
        "filename": "src/compiler/js-typed-lowering.cc",
        "patchSetId": 10
      },
      "lineNbr": 1633,
      "author": {
        "id": 1162439
      },
      "writtenOn": "2021-07-19T08:46:06Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "23dca993_9202a96e",
      "revId": "36e7b9d26d6462f712feda20804471c6809c691c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "eacb4430_1e804a46",
        "filename": "src/compiler/js-typed-lowering.cc",
        "patchSetId": 10
      },
      "lineNbr": 1714,
      "author": {
        "id": 1119597
      },
      "writtenOn": "2021-07-15T07:25:12Z",
      "side": 1,
      "message": "Why is this needed here?",
      "revId": "36e7b9d26d6462f712feda20804471c6809c691c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "01b638c9_8a9a48ad",
        "filename": "src/compiler/js-typed-lowering.cc",
        "patchSetId": 10
      },
      "lineNbr": 1714,
      "author": {
        "id": 1162439
      },
      "writtenOn": "2021-07-19T08:46:06Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "eacb4430_1e804a46",
      "revId": "36e7b9d26d6462f712feda20804471c6809c691c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "4b2a2a3c_754f4bd7",
        "filename": "src/objects/js-function-inl.h",
        "patchSetId": 10
      },
      "lineNbr": 171,
      "author": {
        "id": 1183889
      },
      "writtenOn": "2021-07-16T11:00:38Z",
      "side": 1,
      "message": "return shared(cage_base, kRelaxedLoad);",
      "revId": "36e7b9d26d6462f712feda20804471c6809c691c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "2ad5a729_3f3529d3",
        "filename": "src/objects/js-function-inl.h",
        "patchSetId": 10
      },
      "lineNbr": 171,
      "author": {
        "id": 1162439
      },
      "writtenOn": "2021-07-19T08:46:06Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "4b2a2a3c_754f4bd7",
      "revId": "36e7b9d26d6462f712feda20804471c6809c691c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}