{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "4f7db5ba_0a29ff46",
        "filename": "/COMMIT_MSG",
        "patchSetId": 18
      },
      "lineNbr": 10,
      "author": {
        "id": 1183889
      },
      "writtenOn": "2022-07-06T18:38:28Z",
      "side": 1,
      "message": "Please split this comment into lines not longer than 72 chars.",
      "revId": "b109364b43b9a3cde5aee368f5f39c3268dfb15c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "eff39331_3ba1d57c",
        "filename": "/COMMIT_MSG",
        "patchSetId": 18
      },
      "lineNbr": 10,
      "author": {
        "id": 1531727
      },
      "writtenOn": "2022-07-07T09:23:34Z",
      "side": 1,
      "message": "Done.",
      "parentUuid": "4f7db5ba_0a29ff46",
      "revId": "b109364b43b9a3cde5aee368f5f39c3268dfb15c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "87fce6ba_0c6fd388",
        "filename": "/COMMIT_MSG",
        "patchSetId": 18
      },
      "lineNbr": 10,
      "author": {
        "id": 1183889
      },
      "writtenOn": "2022-07-12T13:23:31Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "eff39331_3ba1d57c",
      "revId": "b109364b43b9a3cde5aee368f5f39c3268dfb15c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "9d026289_be0a43a0",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 18
      },
      "lineNbr": 0,
      "author": {
        "id": 1531727
      },
      "writtenOn": "2022-07-06T07:20:41Z",
      "side": 1,
      "message": "Thanks for Igor\u0027s comments, I did some change on this patchset, PTAL, thanks!",
      "revId": "b109364b43b9a3cde5aee368f5f39c3268dfb15c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "39a485f5_4776edcf",
        "filename": "src/base/platform/platform-posix.h",
        "patchSetId": 18
      },
      "lineNbr": 32,
      "author": {
        "id": 1183889
      },
      "writtenOn": "2022-07-06T18:38:28Z",
      "side": 1,
      "message": "I\u0027m sorry, I think we went in a wrong direction with adding the PKU class and dropping the memory-protection-key.h/.cc files.\nLet me think more and get back to you with suggestions.",
      "revId": "b109364b43b9a3cde5aee368f5f39c3268dfb15c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "bfec9ad8_9c2a687e",
        "filename": "src/base/platform/platform-posix.h",
        "patchSetId": 18
      },
      "lineNbr": 32,
      "author": {
        "id": 1531727
      },
      "writtenOn": "2022-07-07T09:23:34Z",
      "side": 1,
      "message": "That\u0027s OK, I understand that you mean it may be better to move PKU implements into a single file instead of in OS lib?",
      "parentUuid": "39a485f5_4776edcf",
      "revId": "b109364b43b9a3cde5aee368f5f39c3268dfb15c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "90de192f_a68f6531",
        "filename": "src/base/platform/platform-posix.h",
        "patchSetId": 18
      },
      "lineNbr": 32,
      "author": {
        "id": 1183889
      },
      "writtenOn": "2022-07-12T13:23:31Z",
      "side": 1,
      "message": "Let\u0027s not remove the memory-protection-key.h/.cc files but move them to the plaftorm with minimal changes (I\u0027ll do that).\nThen you\u0027ll rebase your CL on top of mine, the PKU class is not going to be necessary, it will be enough to have just one\n  int g_executable_memory_pku_;\ndefined presumably in src/utils/allocation.cc that will be used for protection of all code pages in V8.",
      "parentUuid": "bfec9ad8_9c2a687e",
      "revId": "b109364b43b9a3cde5aee368f5f39c3268dfb15c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a60e790b_e2cd33cd",
        "filename": "src/base/platform/platform-posix.h",
        "patchSetId": 18
      },
      "lineNbr": 32,
      "author": {
        "id": 1531727
      },
      "writtenOn": "2022-07-13T07:48:15Z",
      "side": 1,
      "message": "Thanks for your reply! I will follow up this after your CL.",
      "parentUuid": "90de192f_a68f6531",
      "revId": "b109364b43b9a3cde5aee368f5f39c3268dfb15c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "9e59912c_1625d472",
        "filename": "src/base/platform/platform-posix.h",
        "patchSetId": 18
      },
      "lineNbr": 32,
      "author": {
        "id": 1183889
      },
      "writtenOn": "2022-07-14T17:40:48Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "a60e790b_e2cd33cd",
      "revId": "b109364b43b9a3cde5aee368f5f39c3268dfb15c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5fec8980_5f1eaeb2",
        "filename": "src/common/code-memory-access-inl.h",
        "patchSetId": 18
      },
      "lineNbr": 83,
      "author": {
        "id": 1183889
      },
      "writtenOn": "2022-07-06T18:38:28Z",
      "side": 1,
      "message": "V8_HAS_PKU_JIT_WRITE_PROTECT",
      "range": {
        "startLine": 83,
        "startChar": 48,
        "endLine": 83,
        "endChar": 80
      },
      "revId": "b109364b43b9a3cde5aee368f5f39c3268dfb15c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "2825f655_e2be4ed3",
        "filename": "src/common/code-memory-access-inl.h",
        "patchSetId": 18
      },
      "lineNbr": 83,
      "author": {
        "id": 1531727
      },
      "writtenOn": "2022-07-07T09:23:34Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "5fec8980_5f1eaeb2",
      "range": {
        "startLine": 83,
        "startChar": 48,
        "endLine": 83,
        "endChar": 80
      },
      "revId": "b109364b43b9a3cde5aee368f5f39c3268dfb15c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "ddd4c9ef_0d70e9bb",
        "filename": "src/common/code-memory-access-inl.h",
        "patchSetId": 18
      },
      "lineNbr": 83,
      "author": {
        "id": 1183889
      },
      "writtenOn": "2022-07-12T13:23:31Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "2825f655_e2be4ed3",
      "range": {
        "startLine": 83,
        "startChar": 48,
        "endLine": 83,
        "endChar": 80
      },
      "revId": "b109364b43b9a3cde5aee368f5f39c3268dfb15c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5a29822b_f3a5f785",
        "filename": "src/common/code-memory-access.cc",
        "patchSetId": 18
      },
      "lineNbr": 11,
      "author": {
        "id": 1183889
      },
      "writtenOn": "2022-07-06T18:38:28Z",
      "side": 1,
      "message": "Ditto.",
      "revId": "b109364b43b9a3cde5aee368f5f39c3268dfb15c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "2864c01a_a6d94ea4",
        "filename": "src/common/code-memory-access.cc",
        "patchSetId": 18
      },
      "lineNbr": 11,
      "author": {
        "id": 1531727
      },
      "writtenOn": "2022-07-07T09:23:34Z",
      "side": 1,
      "message": "Done.",
      "parentUuid": "5a29822b_f3a5f785",
      "revId": "b109364b43b9a3cde5aee368f5f39c3268dfb15c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "8628f3e3_30f9d3d7",
        "filename": "src/common/code-memory-access.cc",
        "patchSetId": 18
      },
      "lineNbr": 11,
      "author": {
        "id": 1183889
      },
      "writtenOn": "2022-07-12T13:23:31Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "2864c01a_a6d94ea4",
      "revId": "b109364b43b9a3cde5aee368f5f39c3268dfb15c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f9c75760_244c6c48",
        "filename": "src/common/code-memory-access.cc",
        "patchSetId": 18
      },
      "lineNbr": 18,
      "author": {
        "id": 1183889
      },
      "writtenOn": "2022-07-06T18:38:28Z",
      "side": 1,
      "message": "Please try to fix the issues on the tests side.\nIf that\u0027s too complicated then you can just add an\n  if (IsAllowed()) \nand please add a short comment why do we need this.",
      "revId": "b109364b43b9a3cde5aee368f5f39c3268dfb15c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "613e170b_7661419a",
        "filename": "src/common/code-memory-access.cc",
        "patchSetId": 18
      },
      "lineNbr": 18,
      "author": {
        "id": 1531727
      },
      "writtenOn": "2022-07-07T09:23:34Z",
      "side": 1,
      "message": "I\u0027m going to check is there a better way to work around.",
      "parentUuid": "f9c75760_244c6c48",
      "revId": "b109364b43b9a3cde5aee368f5f39c3268dfb15c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "48b6be6c_d66b7843",
        "filename": "src/common/code-memory-access.cc",
        "patchSetId": 18
      },
      "lineNbr": 18,
      "author": {
        "id": 1183889
      },
      "writtenOn": "2022-07-18T11:50:16Z",
      "side": 1,
      "message": "Not relevant anymore.",
      "parentUuid": "613e170b_7661419a",
      "revId": "b109364b43b9a3cde5aee368f5f39c3268dfb15c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "844ffea4_499200f9",
        "filename": "src/common/code-memory-access.cc",
        "patchSetId": 18
      },
      "lineNbr": 25,
      "author": {
        "id": 1183889
      },
      "writtenOn": "2022-07-06T18:38:28Z",
      "side": 1,
      "message": "Ditto.",
      "revId": "b109364b43b9a3cde5aee368f5f39c3268dfb15c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "7f36949e_5ea13eb7",
        "filename": "src/common/code-memory-access.cc",
        "patchSetId": 18
      },
      "lineNbr": 25,
      "author": {
        "id": 1183889
      },
      "writtenOn": "2022-07-18T11:50:16Z",
      "side": 1,
      "message": "Not relevant anymore.",
      "parentUuid": "844ffea4_499200f9",
      "revId": "b109364b43b9a3cde5aee368f5f39c3268dfb15c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "104398e3_7e8816fc",
        "filename": "src/common/code-memory-access.h",
        "patchSetId": 18
      },
      "lineNbr": 67,
      "author": {
        "id": 1183889
      },
      "writtenOn": "2022-07-06T18:38:28Z",
      "side": 1,
      "message": "Just #if because both are defined to 0 or 1.",
      "revId": "b109364b43b9a3cde5aee368f5f39c3268dfb15c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "8c1c2099_8cd4b7e7",
        "filename": "src/common/code-memory-access.h",
        "patchSetId": 18
      },
      "lineNbr": 67,
      "author": {
        "id": 1531727
      },
      "writtenOn": "2022-07-07T09:23:34Z",
      "side": 1,
      "message": "Done.",
      "parentUuid": "104398e3_7e8816fc",
      "revId": "b109364b43b9a3cde5aee368f5f39c3268dfb15c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "e37c8af0_5723cd8a",
        "filename": "src/common/code-memory-access.h",
        "patchSetId": 18
      },
      "lineNbr": 67,
      "author": {
        "id": 1183889
      },
      "writtenOn": "2022-07-12T13:23:31Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "8c1c2099_8cd4b7e7",
      "revId": "b109364b43b9a3cde5aee368f5f39c3268dfb15c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "4a408f12_56619444",
        "filename": "src/common/code-memory-access.h",
        "patchSetId": 18
      },
      "lineNbr": 89,
      "author": {
        "id": 1183889
      },
      "writtenOn": "2022-07-06T18:38:28Z",
      "side": 1,
      "message": "Ditto.",
      "revId": "b109364b43b9a3cde5aee368f5f39c3268dfb15c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "fffe751d_2b618ccf",
        "filename": "src/common/code-memory-access.h",
        "patchSetId": 18
      },
      "lineNbr": 89,
      "author": {
        "id": 1531727
      },
      "writtenOn": "2022-07-07T09:23:34Z",
      "side": 1,
      "message": "Done.",
      "parentUuid": "4a408f12_56619444",
      "revId": "b109364b43b9a3cde5aee368f5f39c3268dfb15c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "8ffc6dc6_2cb6c2ba",
        "filename": "src/common/code-memory-access.h",
        "patchSetId": 18
      },
      "lineNbr": 89,
      "author": {
        "id": 1183889
      },
      "writtenOn": "2022-07-12T13:23:31Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "fffe751d_2b618ccf",
      "revId": "b109364b43b9a3cde5aee368f5f39c3268dfb15c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "202be8de_6d72d7de",
        "filename": "src/wasm/wasm-code-manager.cc",
        "patchSetId": 18
      },
      "lineNbr": 2015,
      "author": {
        "id": 1183889
      },
      "writtenOn": "2022-07-06T18:38:28Z",
      "side": 1,
      "message": "Why wasn\u0027t this necessary before?",
      "revId": "b109364b43b9a3cde5aee368f5f39c3268dfb15c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "3b198a80_87dde8c2",
        "filename": "src/wasm/wasm-code-manager.cc",
        "patchSetId": 18
      },
      "lineNbr": 2015,
      "author": {
        "id": 1531727
      },
      "writtenOn": "2022-07-07T09:23:34Z",
      "side": 1,
      "message": "I understand that you mean there is not this SetPermissionsAndMemoryProtectionKey() in WASM in previous patchset(for porting PKU to OS lib, and enable it for JS), right? \nIt\u0027s because in previous patchset, when Allocate() in platform-posix.cc was invoked, and this allocated memory is WRX permission, I will call SetPermissionsAndMemoryProtectionKey(), so it means we will use PKU for both JS and WASM, but now we just want to port PKU to OS lib, and just enable it for WASM only, so we have to use this method in WASM.",
      "parentUuid": "202be8de_6d72d7de",
      "revId": "b109364b43b9a3cde5aee368f5f39c3268dfb15c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a5e9b262_369dd848",
        "filename": "src/wasm/wasm-code-manager.cc",
        "patchSetId": 18
      },
      "lineNbr": 2015,
      "author": {
        "id": 1183889
      },
      "writtenOn": "2022-07-12T13:23:31Z",
      "side": 1,
      "message": "You are mostly moving things around in your CL, so I meant that there should be a similar call somewhere in the old state of the code for Wasm but I didn\u0027t manage to find it.",
      "parentUuid": "3b198a80_87dde8c2",
      "revId": "b109364b43b9a3cde5aee368f5f39c3268dfb15c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "15616965_8c8c65e0",
        "filename": "src/wasm/wasm-code-manager.cc",
        "patchSetId": 18
      },
      "lineNbr": 2015,
      "author": {
        "id": 1531727
      },
      "writtenOn": "2022-07-13T07:48:15Z",
      "side": 1,
      "message": "Thanks for your reminder! I\u0027m sorry for that, it may be a redundant function call, WASM will bind PKU to memory in Commit() later in this function.",
      "parentUuid": "a5e9b262_369dd848",
      "revId": "b109364b43b9a3cde5aee368f5f39c3268dfb15c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "6a80fedc_9299ac5a",
        "filename": "src/wasm/wasm-code-manager.cc",
        "patchSetId": 18
      },
      "lineNbr": 2015,
      "author": {
        "id": 1183889
      },
      "writtenOn": "2022-07-18T11:50:16Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "15616965_8c8c65e0",
      "revId": "b109364b43b9a3cde5aee368f5f39c3268dfb15c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}