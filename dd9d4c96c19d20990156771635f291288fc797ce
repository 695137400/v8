{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "1ae7d3e8_8c4d637a",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1177599
      },
      "writtenOn": "2021-12-15T13:03:38Z",
      "side": 1,
      "message": "I am confused by this change. What does it try to achieve? Deterministic execution time for switches? Is that important for any use case we are supporting? I don\u0027t think that we generally try to make any guarantees there. So in that perspective this CL seems to add unneeded jump instructions, which looks like a pure regression.",
      "revId": "dd9d4c96c19d20990156771635f291288fc797ce",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "11110962_fd80748f",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1325508
      },
      "writtenOn": "2021-12-15T15:11:14Z",
      "side": 1,
      "message": "Thanks for the feedback! I thought that this change could stand alone because it provides deterministic execution time for switches, but it is also a correctness prerequisite for the following change https://chromium-review.googlesource.com/c/v8/v8/+/3335437 . With that second change, the binary-search switch needs to emit unconditional jump instructions to differing targets. If it omits the unconditional jump in one branch of the tree, assuming eventual fallthrough to the subsequent block, and then the next branch of the tree contains an unconditional jump to somewhere else, then that is bad.",
      "parentUuid": "1ae7d3e8_8c4d637a",
      "revId": "dd9d4c96c19d20990156771635f291288fc797ce",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "4a18b218_bc5c1715",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1177599
      },
      "writtenOn": "2021-12-15T16:21:51Z",
      "side": 1,
      "message": "I see, thanks for clarifying. So it sounds like overall this is a win. No objections from my side, just maybe provide such context on the CL next time. As I mentioned, we do not try to provide deterministic execution, but if this change is a prerequisite for another CL then that\u0027s fine of course.\nYou could also create a tracking bug (next time) to provide such context, and link the CLs together.",
      "parentUuid": "11110962_fd80748f",
      "revId": "dd9d4c96c19d20990156771635f291288fc797ce",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "ad9d920b_43b04ca9",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1325508
      },
      "writtenOn": "2021-12-15T17:05:35Z",
      "side": 1,
      "message": "Good points, thanks for the advice!",
      "parentUuid": "4a18b218_bc5c1715",
      "revId": "dd9d4c96c19d20990156771635f291288fc797ce",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}