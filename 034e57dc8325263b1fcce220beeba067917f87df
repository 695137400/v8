{
  "comments": [
    {
      "key": {
        "uuid": "532b13d5_e388728e",
        "filename": "tools/gcov.sh",
        "patchSetId": 3
      },
      "lineNbr": 48,
      "author": {
        "id": 1115956
      },
      "writtenOn": "2017-06-12T11:17:39Z",
      "side": 1,
      "message": "I don\u0027t understand how you\u0027re using this. I\u0027d also not call it host.\n\nIn my understanding the host is where we build. The target is where we physically run. The v8 target is the architecture for which v8 generates code (possibly simulated).\n\nIf you want correct simulator builds, you should better set both target_arch and v8_target_arch explicitly below. I remember we might infer it, but \u0027explicit\u0027 would safe me from searching that code. E.g. for arm64 simulator we\u0027d need:\ntarget_arch\u003dx64 v8_target_arch\u003darm64\n\nI think in the general case, the host_arch is x64 for all four builds this script is targeted for. So that for arm sim we\u0027d have, e.g.: host\u003dx64 target\u003dia32 v8\u003darm",
      "range": {
        "startLine": 48,
        "startChar": 4,
        "endLine": 48,
        "endChar": 8
      },
      "revId": "034e57dc8325263b1fcce220beeba067917f87df",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d6cc03eb_f82003a2",
        "filename": "tools/gcov.sh",
        "patchSetId": 3
      },
      "lineNbr": 48,
      "author": {
        "id": 1125279
      },
      "writtenOn": "2017-06-13T16:29:49Z",
      "side": 1,
      "message": "I thought host refers to where v8 runs, and target refers to what v8 JITs. gn, at least, observes that convention (plus, it fits the compiler nomenclature, as seen in gcc, for instance:\nhttps://gcc.gnu.org/onlinedocs/gccint/Configure-Terms.html)\n\nHave we departed from that in gyp?\n\nIn any case, at the moment, $host is used just to check we support the requested target $arch architecture.",
      "parentUuid": "532b13d5_e388728e",
      "range": {
        "startLine": 48,
        "startChar": 4,
        "endLine": 48,
        "endChar": 8
      },
      "revId": "034e57dc8325263b1fcce220beeba067917f87df",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "14601c59_b6344f14",
        "filename": "tools/gcov.sh",
        "patchSetId": 3
      },
      "lineNbr": 48,
      "author": {
        "id": 1115956
      },
      "writtenOn": "2017-06-14T08:05:02Z",
      "side": 1,
      "message": "Gyp understands these three variables:\nhost_arch, target_arch, v8_target_arch.\nhost_arch is where we build - for this purpose it\u0027s just x64. This is auto-detected and doesn\u0027t need to be set.\n\ntarget_arch is where the executable runs\nv8_target_arch is what V8 jits\n\nTo be sure what we\u0027re getting out of this, you should explicitly set target_arch and v8_target_arch in GYP. At least when using simulators. The (v8_target_arch, target_arch) pairs that are needed here are exactly the ones you specified in line 12.\n\nSee e.g. an example bot that runs simulators and still uses gyp:\nhttps://build.chromium.org/p/client.v8.ports/builders/V8%20Linux%20-%20s390%20-%20sim/builds/6027/steps/generate_build_files/logs/stdout\n\nFYI, in GN, target_arch is target_cpu and v8_target_arch is v8_target_cpu.",
      "parentUuid": "d6cc03eb_f82003a2",
      "range": {
        "startLine": 48,
        "startChar": 4,
        "endLine": 48,
        "endChar": 8
      },
      "revId": "034e57dc8325263b1fcce220beeba067917f87df",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "63d87faf_74b9be45",
        "filename": "tools/gcov.sh",
        "patchSetId": 3
      },
      "lineNbr": 48,
      "author": {
        "id": 1125279
      },
      "writtenOn": "2017-06-20T18:16:01Z",
      "side": 1,
      "message": "Done - thanks for the clarification.",
      "parentUuid": "14601c59_b6344f14",
      "range": {
        "startLine": 48,
        "startChar": 4,
        "endLine": 48,
        "endChar": 8
      },
      "revId": "034e57dc8325263b1fcce220beeba067917f87df",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}