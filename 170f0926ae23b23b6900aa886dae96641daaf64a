{
  "comments": [
    {
      "key": {
        "uuid": "92f3491d_86b1f997",
        "filename": "/COMMIT_MSG",
        "patchSetId": 7
      },
      "lineNbr": 9,
      "author": {
        "id": 1162439
      },
      "writtenOn": "2020-08-03T08:38:08Z",
      "side": 1,
      "message": "nit: also here, please a bit more detail. When is the fast path applied, how does it work?",
      "revId": "170f0926ae23b23b6900aa886dae96641daaf64a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "2bf6e022_2b174d23",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 7
      },
      "lineNbr": 0,
      "author": {
        "id": 1162439
      },
      "writtenOn": "2020-08-03T06:51:33Z",
      "side": 1,
      "message": "Drive-by comments",
      "revId": "170f0926ae23b23b6900aa886dae96641daaf64a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "2c88b450_3028b31d",
        "filename": "src/builtins/number.tq",
        "patchSetId": 7
      },
      "lineNbr": 65,
      "author": {
        "id": 1162439
      },
      "writtenOn": "2020-08-03T06:51:33Z",
      "side": 1,
      "message": "Should this be \u003c 36?",
      "revId": "170f0926ae23b23b6900aa886dae96641daaf64a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8c1e23f1_e7b08761",
        "filename": "src/builtins/number.tq",
        "patchSetId": 7
      },
      "lineNbr": 65,
      "author": {
        "id": 1175774
      },
      "writtenOn": "2020-08-03T08:08:20Z",
      "side": 1,
      "message": "+1, good catch.",
      "parentUuid": "2c88b450_3028b31d",
      "revId": "170f0926ae23b23b6900aa886dae96641daaf64a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e2ef0663_6ee12397",
        "filename": "src/builtins/number.tq",
        "patchSetId": 7
      },
      "lineNbr": 103,
      "author": {
        "id": 1162439
      },
      "writtenOn": "2020-08-03T06:51:33Z",
      "side": 1,
      "message": "Suggestion: handle this in the loop below. StringFromSingleCharCode is a fairly big macro.",
      "revId": "170f0926ae23b23b6900aa886dae96641daaf64a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3ce8ce57_c53da626",
        "filename": "src/builtins/number.tq",
        "patchSetId": 7
      },
      "lineNbr": 103,
      "author": {
        "id": 1175774
      },
      "writtenOn": "2020-08-03T08:08:20Z",
      "side": 1,
      "message": "In the loop below this will prepend to the current string, are you suggesting a check against string \u003d\u003d kEmptyString on each iteration?",
      "parentUuid": "e2ef0663_6ee12397",
      "revId": "170f0926ae23b23b6900aa886dae96641daaf64a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "07104ae4_ccb08d59",
        "filename": "src/builtins/number.tq",
        "patchSetId": 7
      },
      "lineNbr": 103,
      "author": {
        "id": 1162439
      },
      "writtenOn": "2020-08-03T08:21:37Z",
      "side": 1,
      "message": "I meant, the code here in line 103 is essentially just an unrolled version of the logic in lines 116-120. Imo it\u0027s cleaner (and produces smaller code size) to just use the loop below instead of special-casing for no strong reason.\n\nSo the refactored code could be:\n\n if (isNegative) {\n   ...\n }\n ...",
      "parentUuid": "3ce8ce57_c53da626",
      "revId": "170f0926ae23b23b6900aa886dae96641daaf64a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a2d085c8_11d3a0d1",
        "filename": "src/builtins/number.tq",
        "patchSetId": 7
      },
      "lineNbr": 103,
      "author": {
        "id": 1162439
      },
      "writtenOn": "2020-08-03T08:31:38Z",
      "side": 1,
      "message": "Note: the below would then have to handle n \u003d\u003d 0 by returning ZeroStringConstant.",
      "parentUuid": "07104ae4_ccb08d59",
      "revId": "170f0926ae23b23b6900aa886dae96641daaf64a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "322ed3af_ae108639",
        "filename": "src/builtins/number.tq",
        "patchSetId": 7
      },
      "lineNbr": 103,
      "author": {
        "id": 1175774
      },
      "writtenOn": "2020-08-03T08:40:42Z",
      "side": 1,
      "message": "Ah, I see what you mean. I agree for this CL, but I think the pre-sizing one would want to reintroduce this special case to make sure to get the cached string.",
      "parentUuid": "a2d085c8_11d3a0d1",
      "revId": "170f0926ae23b23b6900aa886dae96641daaf64a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "68c230d3_9d001e28",
        "filename": "src/builtins/number.tq",
        "patchSetId": 7
      },
      "lineNbr": 103,
      "author": {
        "id": 1162439
      },
      "writtenOn": "2020-08-03T08:42:47Z",
      "side": 1,
      "message": "Good point (but then also for the negative single-char-code nrs, right?)",
      "parentUuid": "322ed3af_ae108639",
      "revId": "170f0926ae23b23b6900aa886dae96641daaf64a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "84c821da_db0c768c",
        "filename": "src/builtins/number.tq",
        "patchSetId": 7
      },
      "lineNbr": 103,
      "author": {
        "id": 1175774
      },
      "writtenOn": "2020-08-03T08:44:03Z",
      "side": 1,
      "message": "the original had TaggedIsPositiveSmi so probably not.",
      "parentUuid": "68c230d3_9d001e28",
      "revId": "170f0926ae23b23b6900aa886dae96641daaf64a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4e6a57e5_d81ccc53",
        "filename": "src/builtins/number.tq",
        "patchSetId": 7
      },
      "lineNbr": 118,
      "author": {
        "id": 1162439
      },
      "writtenOn": "2020-08-03T06:51:33Z",
      "side": 1,
      "message": "Would just\n\n n / radix\n\nwork?",
      "revId": "170f0926ae23b23b6900aa886dae96641daaf64a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "37a14ef1_987399f6",
        "filename": "src/builtins/number.tq",
        "patchSetId": 7
      },
      "lineNbr": 118,
      "author": {
        "id": 1175774
      },
      "writtenOn": "2020-08-03T08:40:42Z",
      "side": 1,
      "message": "Does TF have a divmod operation? That would be ideal.",
      "parentUuid": "4e6a57e5_d81ccc53",
      "revId": "170f0926ae23b23b6900aa886dae96641daaf64a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f95c4b84_f8e0663f",
        "filename": "src/builtins/number.tq",
        "patchSetId": 7
      },
      "lineNbr": 119,
      "author": {
        "id": 1162439
      },
      "writtenOn": "2020-08-03T06:51:33Z",
      "side": 1,
      "message": "Note this will build a degenerate cons string tree. May be okay but it could impact other parts of the system.",
      "revId": "170f0926ae23b23b6900aa886dae96641daaf64a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "34c49904_b8d451db",
        "filename": "src/builtins/number.tq",
        "patchSetId": 7
      },
      "lineNbr": 119,
      "author": {
        "id": 1175774
      },
      "writtenOn": "2020-08-03T08:08:20Z",
      "side": 1,
      "message": "Good point, but this is only a risk for low bases, for base 10 the max number of digits in a Smi is 10 (11 with the sign) so we won\u0027t hit minimum cons string size.",
      "parentUuid": "f95c4b84_f8e0663f",
      "revId": "170f0926ae23b23b6900aa886dae96641daaf64a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "72a32fb9_3a7d8ad3",
        "filename": "src/builtins/number.tq",
        "patchSetId": 7
      },
      "lineNbr": 119,
      "author": {
        "id": 1162439
      },
      "writtenOn": "2020-08-03T08:21:37Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "34c49904_b8d451db",
      "revId": "170f0926ae23b23b6900aa886dae96641daaf64a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}