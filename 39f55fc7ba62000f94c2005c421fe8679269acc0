{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "462185ea_09b9d625",
        "filename": "src/base/platform/platform-win32.cc",
        "patchSetId": 7
      },
      "lineNbr": 826,
      "author": {
        "id": 1519522
      },
      "writtenOn": "2022-01-14T15:44:10Z",
      "side": 0,
      "message": "I guess this is some kind of artifact. It used to actually randomize the allocation location a long time ago, but currently it doesn\u0027t randomize anything since it either uses the hint, or let\u0027s the OS pick the location, which isn\u0027t random. We also don\u0027t need to randomize at this layer, callers will take care of that if desired. However, this functions does stop hints from working (at least for PAGE_READWRITE mappings), which breaks the tests... So I replaced it with a simple wrapper function around VirtualAlloc instead now.",
      "revId": "39f55fc7ba62000f94c2005c421fe8679269acc0",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ad219ea9_884c3d36",
        "filename": "src/base/platform/platform-win32.cc",
        "patchSetId": 7
      },
      "lineNbr": 826,
      "author": {
        "id": 1131764
      },
      "writtenOn": "2022-01-17T08:58:24Z",
      "side": 0,
      "message": "sg, did you do some digging by chance when this was introduced (and why)?",
      "parentUuid": "462185ea_09b9d625",
      "revId": "39f55fc7ba62000f94c2005c421fe8679269acc0",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e3a5e585_c1c45005",
        "filename": "src/base/platform/platform-win32.cc",
        "patchSetId": 7
      },
      "lineNbr": 826,
      "author": {
        "id": 1519522
      },
      "writtenOn": "2022-01-17T09:32:38Z",
      "side": 0,
      "message": "Yeah, originally, this function would attempt 3 times to allocate the pages at an explicitly generated random base address. Then, this change: https://chromium-review.googlesource.com/c/v8/v8/+/558881/2/src/base/platform/platform-win32.cc removed the 3x and just tried once, and afterwards this change: https://chromium-review.googlesource.com/c/v8/v8/+/558876/20/src/base/platform/platform-win32.cc removed the explicit random base entirely, and relied on the hint instead. Since then, from what I can tell, this function mostly just respected the hint or let the OS chose the base address.",
      "parentUuid": "ad219ea9_884c3d36",
      "revId": "39f55fc7ba62000f94c2005c421fe8679269acc0",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "59bd019a_ad9f3cbe",
        "filename": "src/base/platform/platform-win32.cc",
        "patchSetId": 7
      },
      "lineNbr": 826,
      "author": {
        "id": 1131764
      },
      "writtenOn": "2022-01-18T11:26:09Z",
      "side": 0,
      "message": "Ack",
      "parentUuid": "e3a5e585_c1c45005",
      "revId": "39f55fc7ba62000f94c2005c421fe8679269acc0",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}