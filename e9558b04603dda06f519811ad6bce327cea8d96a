{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "4bbff2df_7df2f700",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 4
      },
      "lineNbr": 0,
      "author": {
        "id": 1175774
      },
      "writtenOn": "2024-09-10T08:45:51Z",
      "side": 1,
      "message": "Michi, PTAL short discussion in the comment",
      "revId": "e9558b04603dda06f519811ad6bce327cea8d96a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e2024548_4e50f40c",
        "filename": "src/snapshot/deserializer.cc",
        "patchSetId": 4
      },
      "lineNbr": 75,
      "author": {
        "id": 1175774
      },
      "writtenOn": "2024-09-10T08:10:03Z",
      "side": 1,
      "message": "would it make sense to instead have this in CombinedWriteBarrier itself?",
      "range": {
        "startLine": 75,
        "startChar": 38,
        "endLine": 75,
        "endChar": 67
      },
      "revId": "e9558b04603dda06f519811ad6bce327cea8d96a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d39d5497_3b9c9385",
        "filename": "src/snapshot/deserializer.cc",
        "patchSetId": 4
      },
      "lineNbr": 75,
      "author": {
        "id": 1162439
      },
      "writtenOn": "2024-09-10T08:18:06Z",
      "side": 1,
      "message": "mlippautz would have to make that call.",
      "parentUuid": "e2024548_4e50f40c",
      "range": {
        "startLine": 75,
        "startChar": 38,
        "endLine": 75,
        "endChar": 67
      },
      "revId": "e9558b04603dda06f519811ad6bce327cea8d96a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "13e5fda5_84bb7c6a",
        "filename": "src/snapshot/deserializer.cc",
        "patchSetId": 4
      },
      "lineNbr": 75,
      "author": {
        "id": 1131764
      },
      "writtenOn": "2024-09-10T08:53:50Z",
      "side": 1,
      "message": "This is exactly what I tried to do in here (https://chromium-review.googlesource.com/c/v8/v8/+/5845630) which was reverted. This only works if you can guarantee that `value` is not a trusted object or an InstructionStream, which should work in your case here. (`DCHECK()` this please).\n\nThe problem in `CombinedWriteBarrier()` is that we lost all the information about `Tagged\u003cObject\u003e value` which may also be a `TrustedObject` or in theory (not in practice) `InstructionStream`. Both types have their own cages which in theory allow allocation on the first page which would break the check.\n\nI am investigating now what it would take to prohibit allocation on the first page in the trusted cage and in the code range if it coincides with static roots.",
      "parentUuid": "d39d5497_3b9c9385",
      "range": {
        "startLine": 75,
        "startChar": 38,
        "endLine": 75,
        "endChar": 67
      },
      "revId": "e9558b04603dda06f519811ad6bce327cea8d96a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "1fbc3b1a_2f33727b",
        "filename": "src/snapshot/deserializer.cc",
        "patchSetId": 4
      },
      "lineNbr": 75,
      "author": {
        "id": 1175774
      },
      "writtenOn": "2024-09-10T09:10:44Z",
      "side": 1,
      "message": "then doing it here for now lgtm.",
      "parentUuid": "13e5fda5_84bb7c6a",
      "range": {
        "startLine": 75,
        "startChar": 38,
        "endLine": 75,
        "endChar": 67
      },
      "revId": "e9558b04603dda06f519811ad6bce327cea8d96a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "e3e14101_43cd0bac",
        "filename": "src/snapshot/deserializer.cc",
        "patchSetId": 4
      },
      "lineNbr": 75,
      "author": {
        "id": 1162439
      },
      "writtenOn": "2024-09-11T06:12:50Z",
      "side": 1,
      "message": "Acknowledged",
      "parentUuid": "1fbc3b1a_2f33727b",
      "range": {
        "startLine": 75,
        "startChar": 38,
        "endLine": 75,
        "endChar": 67
      },
      "revId": "e9558b04603dda06f519811ad6bce327cea8d96a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}