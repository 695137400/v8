{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "5c32684b_2e437ba0",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 1374077
      },
      "writtenOn": "2022-10-28T07:46:11Z",
      "side": 1,
      "message": "Hey Milad, I don\u0027t think that\u0027s the way we want to fix this.\nWhen relanding my original CL I was already thinking about that problem and came to the conclusion that with every C++14 compiler this should work because the V8_Fatal function inside UNREACHABLE should never be called in a constexpr context, so this should be okay.\n\nI was wondering what compiler you are using that this doesn\u0027t work. I checked a few gcc versions on godbolt.org but it did indeed work with every single one.\nCan you please share some details? Thanks",
      "revId": "f2550a7d73dc42984107181d8e1df0767aeac235",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "9eff073e_ee4a62d1",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 1323125
      },
      "writtenOn": "2022-10-28T13:20:54Z",
      "side": 1,
      "message": "Hi Nico,\n\nWe use gcc 8.3 which is the minimum supported compiler version on Node.js:\nhttps://github.com/nodejs/node/blob/main/BUILDING.md#supported-toolchains\n\nHere is an example with this version: https://godbolt.org/z/55sf3448v\n\ngcc 9 and up seem to recognize `unreachable` is never executed at compile time and avoids that error similar to clang. We do have plans to upgrade to a compiler supporting C++20 however we need to keep using 8.3 for the time being.\n\nAlternatively `abort();` seems to compile as well.",
      "parentUuid": "5c32684b_2e437ba0",
      "revId": "f2550a7d73dc42984107181d8e1df0767aeac235",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "12440294_73c82f7c",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 1374077
      },
      "writtenOn": "2022-10-28T13:26:13Z",
      "side": 1,
      "message": "I see, that\u0027s unfortunate.\n\nI would propose this: We define a macro `CONSTEXPR_UNREACHABLE()` that you can then define to `abort()` when compiling with gcc before 9 and is `UNREACHABLE()` otherwise. We could even leave a comment to remove this once all supported compilers properly handle this. Wdyt?",
      "parentUuid": "9eff073e_ee4a62d1",
      "revId": "f2550a7d73dc42984107181d8e1df0767aeac235",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "3396db8c_0d61b3c6",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 1177599
      },
      "writtenOn": "2022-10-28T13:42:02Z",
      "side": 1,
      "message": "+1, I like this plan!",
      "parentUuid": "12440294_73c82f7c",
      "revId": "f2550a7d73dc42984107181d8e1df0767aeac235",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "f559f5e7_b581d143",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 1323125
      },
      "writtenOn": "2022-10-28T15:31:38Z",
      "side": 1,
      "message": "Sounds great, I have added the new macro, please take a look when you have a chance, thanks.",
      "parentUuid": "3396db8c_0d61b3c6",
      "revId": "f2550a7d73dc42984107181d8e1df0767aeac235",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}